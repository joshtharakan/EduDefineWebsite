/*! 
 * Master Slider – Responsive Touch Swipe Slider
 * Copyright © 2015 All Rights Reserved. 
 *
 * @author Averta [www.averta.net]
 * @version 2.14.6
 * @date May 2015
 */
window.averta={},function($){function getVendorPrefix(){if("result"in arguments.callee)return arguments.callee.result;var regex=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,someScript=document.getElementsByTagName("script")[0];for(var prop in someScript.style)if(regex.test(prop))return arguments.callee.result=prop.match(regex)[0];return arguments.callee.result="WebkitOpacity"in someScript.style?"Webkit":"KhtmlOpacity"in someScript.style?"Khtml":""}function checkStyleValue(prop){var b=document.body||document.documentElement,s=b.style,p=prop;if("string"==typeof s[p])return!0;v=["Moz","Webkit","Khtml","O","ms"],p=p.charAt(0).toUpperCase()+p.substr(1);for(var i=0;i<v.length;i++)if("string"==typeof s[v[i]+p])return!0;return!1}function supportsTransitions(){return checkStyleValue("transition")}function supportsTransforms(){return checkStyleValue("transform")}function supports3DTransforms(){if(!supportsTransforms())return!1;var has3d,el=document.createElement("i"),transforms={WebkitTransform:"-webkit-transform",OTransform:"-o-transform",MSTransform:"-ms-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",Transform:"transform",transform:"transform"};el.style.display="block",document.body.insertBefore(el,null);for(var t in transforms)void 0!==el.style[t]&&(el.style[t]="translate3d(1px,1px,1px)",has3d=window.getComputedStyle(el).getPropertyValue(transforms[t]));return document.body.removeChild(el),null!=has3d&&has3d.length>0&&"none"!==has3d}window["package"]=function(name){window[name]||(window[name]={})};var extend=function(target,object){for(var key in object)target[key]=object[key]};Function.prototype.extend=function(superclass){"function"==typeof superclass.prototype.constructor?(extend(this.prototype,superclass.prototype),this.prototype.constructor=this):(this.prototype.extend(superclass),this.prototype.constructor=this)};var trans={Moz:"-moz-",Webkit:"-webkit-",Khtml:"-khtml-",O:"-o-",ms:"-ms-",Icab:"-icab-"};window._mobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),window._touch="ontouchstart"in document,$(document).ready(function(){window._jcsspfx=getVendorPrefix(),window._csspfx=trans[window._jcsspfx],window._cssanim=supportsTransitions(),window._css3d=supports3DTransforms(),window._css2d=supportsTransforms()}),window.parseQueryString=function(url){var queryString={};return url.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function($0,$1,$2,$3){queryString[$1]=$3}),queryString};var fps60=50/3;if(window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){window.setTimeout(callback,fps60)}}()),window.getComputedStyle||(window.getComputedStyle=function(el){return this.el=el,this.getPropertyValue=function(prop){var re=/(\-([a-z]){1})/g;return"float"==prop&&(prop="styleFloat"),re.test(prop)&&(prop=prop.replace(re,function(){return arguments[2].toUpperCase()})),el.currentStyle[prop]?el.currentStyle[prop]:null},el.currentStyle}),Array.prototype.indexOf||(Array.prototype.indexOf=function(elt){var len=this.length>>>0,from=Number(arguments[1])||0;for(from=0>from?Math.ceil(from):Math.floor(from),0>from&&(from+=len);len>from;from++)if(from in this&&this[from]===elt)return from;return-1}),window.isMSIE=function(version){if(!$.browser.msie)return!1;if(!version)return!0;var ieVer=$.browser.version.slice(0,$.browser.version.indexOf("."));return"string"==typeof version?eval(-1!==version.indexOf("<")||-1!==version.indexOf(">")?ieVer+version:version+"=="+ieVer):version==ieVer},$.removeDataAttrs=function($target,exclude){var i,attrName,dataAttrsToDelete=[],dataAttrs=$target[0].attributes,dataAttrsLen=dataAttrs.length;for(exclude=exclude||[],i=0;dataAttrsLen>i;i++)attrName=dataAttrs[i].name,"data-"===attrName.substring(0,5)&&-1===exclude.indexOf(attrName)&&dataAttrsToDelete.push(dataAttrs[i].name);$.each(dataAttrsToDelete,function(index,attrName){$target.removeAttr(attrName)})},jQuery){$.jqLoadFix=function(){if(this.complete){var that=this;setTimeout(function(){$(that).load()},1)}},jQuery.uaMatch=jQuery.uaMatch||function(ua){ua=ua.toLowerCase();var match=/(chrome)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"}},matched=jQuery.uaMatch(navigator.userAgent),browser={},matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0);var isIE11=!!navigator.userAgent.match(/Trident\/7\./);isIE11&&(browser.msie="true",delete browser.mozilla),jQuery.browser=browser,$.fn.preloadImg=function(src,_event){return this.each(function(){var $this=$(this),self=this,img=new Image;img.onload=function(event){null==event&&(event={}),$this.attr("src",src),event.width=img.width,event.height=img.height,$this.data("width",img.width),$this.data("height",img.height),setTimeout(function(){_event.call(self,event)},50),img=null},img.src=src}),this}}}(jQuery),function(){"use strict";averta.EventDispatcher=function(){this.listeners={}},averta.EventDispatcher.extend=function(_proto){var instance=new averta.EventDispatcher;for(var key in instance)"constructor"!=key&&(_proto[key]=averta.EventDispatcher.prototype[key])},averta.EventDispatcher.prototype={constructor:averta.EventDispatcher,addEventListener:function(event,listener,ref){this.listeners[event]||(this.listeners[event]=[]),this.listeners[event].push({listener:listener,ref:ref})},removeEventListener:function(event,listener,ref){if(this.listeners[event]){for(var i=0;i<this.listeners[event].length;++i)listener===this.listeners[event][i].listener&&ref===this.listeners[event][i].ref&&this.listeners[event].splice(i--,1);0===this.listeners[event].length&&(this.listeners[event]=null)}},dispatchEvent:function(event){if(event.target=this,this.listeners[event.type])for(var i=0,l=this.listeners[event.type].length;l>i;++i)this.listeners[event.type][i].listener.call(this.listeners[event.type][i].ref,event)}}}(),function($){"use strict";var isTouch="ontouchstart"in document,isPointer=window.navigator.pointerEnabled,isMSPoiner=!isPointer&&window.navigator.msPointerEnabled,usePointer=isPointer||isMSPoiner,ev_start=(isPointer?"pointerdown ":"")+(isMSPoiner?"MSPointerDown ":"")+(isTouch?"touchstart ":"")+"mousedown",ev_move=(isPointer?"pointermove ":"")+(isMSPoiner?"MSPointerMove ":"")+(isTouch?"touchmove ":"")+"mousemove",ev_end=(isPointer?"pointerup ":"")+(isMSPoiner?"MSPointerUp ":"")+(isTouch?"touchend ":"")+"mouseup",ev_cancel=(isPointer?"pointercancel ":"")+(isMSPoiner?"MSPointerCancel ":"")+"touchcancel";averta.TouchSwipe=function($element){this.$element=$element,this.enabled=!0,$element.bind(ev_start,{target:this},this.__touchStart),$element[0].swipe=this,this.onSwipe=null,this.swipeType="horizontal",this.noSwipeSelector="input, textarea, button, .no-swipe, .ms-no-swipe",this.lastStatus={}};var p=averta.TouchSwipe.prototype;p.getDirection=function(new_x,new_y){switch(this.swipeType){case"horizontal":return new_x<=this.start_x?"left":"right";case"vertical":return new_y<=this.start_y?"up":"down";case"all":return Math.abs(new_x-this.start_x)>Math.abs(new_y-this.start_y)?new_x<=this.start_x?"left":"right":new_y<=this.start_y?"up":"down"}},p.priventDefultEvent=function(new_x,new_y){var dx=Math.abs(new_x-this.start_x),dy=Math.abs(new_y-this.start_y),horiz=dx>dy;return"horizontal"===this.swipeType&&horiz||"vertical"===this.swipeType&&!horiz},p.createStatusObject=function(evt){var temp_x,temp_y,status_data={};return temp_x=this.lastStatus.distanceX||0,temp_y=this.lastStatus.distanceY||0,status_data.distanceX=evt.pageX-this.start_x,status_data.distanceY=evt.pageY-this.start_y,status_data.moveX=status_data.distanceX-temp_x,status_data.moveY=status_data.distanceY-temp_y,status_data.distance=parseInt(Math.sqrt(Math.pow(status_data.distanceX,2)+Math.pow(status_data.distanceY,2))),status_data.duration=(new Date).getTime()-this.start_time,status_data.direction=this.getDirection(evt.pageX,evt.pageY),status_data},p.__reset=function(event,jqevt){this.reset=!1,this.lastStatus={},this.start_time=(new Date).getTime(),this.start_x=isTouch?event.touches[0].pageX:usePointer?event.pageX:jqevt.pageX,this.start_y=isTouch?event.touches[0].pageY:usePointer?event.pageY:jqevt.pageY},p.__touchStart=function(event){var swipe=event.data.target,jqevt=event;if(swipe.enabled&&!($(event.target).closest(swipe.noSwipeSelector,swipe.$element).length>0)){if(event=event.originalEvent,usePointer&&$(this).css("-ms-touch-action","horizontal"===swipe.swipeType?"pan-y":"pan-x"),!swipe.onSwipe)return void $.error("Swipe listener is undefined");if(!swipe.touchStarted){swipe.start_x=isTouch?event.touches[0].pageX:usePointer?event.pageX:jqevt.pageX,swipe.start_y=isTouch?event.touches[0].pageY:usePointer?event.pageY:jqevt.pageY,swipe.start_time=(new Date).getTime(),$(document).bind(ev_end,{target:swipe},swipe.__touchEnd).bind(ev_move,{target:swipe},swipe.__touchMove).bind(ev_cancel,{target:swipe},swipe.__touchCancel);var evt=isTouch?event.touches[0]:usePointer?event:jqevt,status=swipe.createStatusObject(evt);status.phase="start",swipe.onSwipe.call(null,status),isTouch||jqevt.preventDefault(),swipe.lastStatus=status,swipe.touchStarted=!0}}},p.__touchMove=function(event){var swipe=event.data.target,jqevt=event;if(event=event.originalEvent,swipe.touchStarted){clearTimeout(swipe.timo),swipe.timo=setTimeout(function(){swipe.__reset(event,jqevt)},60);var evt=isTouch?event.touches[0]:usePointer?event:jqevt,status=swipe.createStatusObject(evt);swipe.priventDefultEvent(evt.pageX,evt.pageY)&&jqevt.preventDefault(),status.phase="move",swipe.lastStatus=status,swipe.onSwipe.call(null,status)}},p.__touchEnd=function(event){var swipe=event.data.target,jqevt=event;event=event.originalEvent,clearTimeout(swipe.timo);var status=(isTouch?event.touches[0]:usePointer?event:jqevt,swipe.lastStatus);isTouch||jqevt.preventDefault(),status.phase="end",swipe.touchStarted=!1,swipe.priventEvt=null,$(document).unbind(ev_end,swipe.__touchEnd).unbind(ev_move,swipe.__touchMove).unbind(ev_cancel,swipe.__touchCancel),status.speed=status.distance/status.duration,swipe.onSwipe.call(null,status)},p.__touchCancel=function(event){var swipe=event.data.target;swipe.__touchEnd(event)},p.enable=function(){this.enabled||(this.enabled=!0)},p.disable=function(){this.enabled&&(this.enabled=!1)}}(jQuery),function(){"use strict";averta.Ticker=function(){};var st=averta.Ticker,list=[],len=0,__stopped=!0;st.add=function(listener,ref){return list.push([listener,ref]),1===list.length&&st.start(),len=list.length},st.remove=function(listener,ref){for(var i=0,l=list.length;l>i;++i)list[i]&&list[i][0]===listener&&list[i][1]===ref&&list.splice(i,1);len=list.length,0===len&&st.stop()},st.start=function(){__stopped&&(__stopped=!1,__tick())},st.stop=function(){__stopped=!0};var __tick=function(){if(!st.__stopped){for(var item,i=0;i!==len;i++)item=list[i],item[0].call(item[1]);requestAnimationFrame(__tick)}}}(),function(){"use strict";Date.now||(Date.now=function(){return(new Date).getTime()}),averta.Timer=function(delay,autoStart){this.delay=delay,this.currentCount=0,this.paused=!1,this.onTimer=null,this.refrence=null,autoStart&&this.start()},averta.Timer.prototype={constructor:averta.Timer,start:function(){this.paused=!1,this.lastTime=Date.now(),averta.Ticker.add(this.update,this)},stop:function(){this.paused=!0,averta.Ticker.remove(this.update,this)},reset:function(){this.currentCount=0,this.paused=!0,this.lastTime=Date.now()},update:function(){this.paused||Date.now()-this.lastTime<this.delay||(this.currentCount++,this.lastTime=Date.now(),this.onTimer&&this.onTimer.call(this.refrence,this.getTime()))},getTime:function(){return this.delay*this.currentCount}}}(),function(){"use strict";window.CSSTween=function(element,duration,delay,ease){this.$element=element,this.duration=duration||1e3,this.delay=delay||0,this.ease=ease||"linear"};var p=CSSTween.prototype;p.to=function(callback,target){return this.to_cb=callback,this.to_cb_target=target,this},p.from=function(callback,target){return this.fr_cb=callback,this.fr_cb_target=target,this},p.onComplete=function(callback,target){return this.oc_fb=callback,this.oc_fb_target=target,this},p.chain=function(csstween){return this.chained_tween=csstween,this},p.reset=function(){clearTimeout(this.start_to),clearTimeout(this.end_to)},p.start=function(){var element=this.$element[0];clearTimeout(this.start_to),clearTimeout(this.end_to),this.fresh=!0,this.fr_cb&&(element.style[window._jcsspfx+"TransitionDuration"]="0ms",this.fr_cb.call(this.fr_cb_target));var that=this;return this.onTransComplete=function(){that.fresh&&(that.reset(),element.style[window._jcsspfx+"TransitionDuration"]="",element.style[window._jcsspfx+"TransitionProperty"]="",element.style[window._jcsspfx+"TransitionTimingFunction"]="",element.style[window._jcsspfx+"TransitionDelay"]="",that.fresh=!1,that.chained_tween&&that.chained_tween.start(),that.oc_fb&&that.oc_fb.call(that.oc_fb_target))},this.start_to=setTimeout(function(){that.$element&&(element.style[window._jcsspfx+"TransitionDuration"]=that.duration+"ms",element.style[window._jcsspfx+"TransitionProperty"]=that.transProperty||"all",element.style[window._jcsspfx+"TransitionDelay"]=that.delay>0?that.delay+"ms":"",element.style[window._jcsspfx+"TransitionTimingFunction"]=that.ease,that.to_cb&&that.to_cb.call(that.to_cb_target),that.end_to=setTimeout(function(){that.onTransComplete()},that.duration+(that.delay||0)))},100),this}}(),function(){"use strict";function transPos(element,properties){if(void 0!==properties.x||void 0!==properties.y)if(_cssanim){var trans=window._jcsspfx+"Transform";void 0!==properties.x&&(properties[trans]=(properties[trans]||"")+" translateX("+properties.x+"px)",delete properties.x),void 0!==properties.y&&(properties[trans]=(properties[trans]||"")+" translateY("+properties.y+"px)",delete properties.y)}else{if(void 0!==properties.x){var posx="auto"!==element.css("right")?"right":"left";properties[posx]=properties.x+"px",delete properties.x}if(void 0!==properties.y){var posy="auto"!==element.css("bottom")?"bottom":"top";properties[posy]=properties.y+"px",delete properties.y}}return properties}var _cssanim=null;window.CTween={},CTween.setPos=function(element,pos){element.css(transPos(element,pos))},CTween.animate=function(element,duration,properties,options){if(null==_cssanim&&(_cssanim=window._cssanim),options=options||{},transPos(element,properties),_cssanim){var tween=new CSSTween(element,duration,options.delay,EaseDic[options.ease]);return options.transProperty&&(tween.transProperty=options.transProperty),tween.to(function(){element.css(properties)}),options.complete&&tween.onComplete(options.complete,options.target),tween.start(),tween.stop=tween.reset,tween}var onCl;return options.delay&&element.delay(options.delay),options.complete&&(onCl=function(){options.complete.call(options.target)}),element.stop(!0).animate(properties,duration,options.ease||"linear",onCl),element},CTween.fadeOut=function(target,duration,remove){var options={};remove===!0?options.complete=function(){target.remove()}:2===remove&&(options.complete=function(){target.css("display","none")}),CTween.animate(target,duration||1e3,{opacity:0},options)},CTween.fadeIn=function(target,duration,reset){reset!==!1&&target.css("opacity",0).css("display",""),CTween.animate(target,duration||1e3,{opacity:1})}}(),function(){window.EaseDic={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",easeInCubic:"cubic-bezier(.55,.055,.675,.19)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"}}(),function(){"use strict";window.MSAligner=function(type,$container,$img){this.$container=$container,this.$img=$img,this.type=type||"stretch",this.widthOnly=!1,this.heightOnly=!1};var p=MSAligner.prototype;p.init=function(w,h){switch(this.baseWidth=w,this.baseHeight=h,this.imgRatio=w/h,this.imgRatio2=h/w,this.type){case"tile":this.$container.css("background-image","url("+this.$img.attr("src")+")"),this.$img.remove();break;case"center":this.$container.css("background-image","url("+this.$img.attr("src")+")"),this.$container.css({backgroundPosition:"center center",backgroundRepeat:"no-repeat"}),this.$img.remove();break;case"stretch":this.$img.css({width:"100%",height:"100%"});break;case"fill":case"fit":this.needAlign=!0,this.align()}},p.align=function(){if(this.needAlign){var cont_w=this.$container.width(),cont_h=this.$container.height(),contRatio=cont_w/cont_h;"fill"==this.type?this.imgRatio<contRatio?(this.$img.width(cont_w),this.$img.height(cont_w*this.imgRatio2)):(this.$img.height(cont_h),this.$img.width(cont_h*this.imgRatio)):"fit"==this.type&&(this.imgRatio<contRatio?(this.$img.height(cont_h),this.$img.width(cont_h*this.imgRatio)):(this.$img.width(cont_w),this.$img.height(cont_w*this.imgRatio2))),this.setMargin()}},p.setMargin=function(){var cont_w=this.$container.width(),cont_h=this.$container.height();this.$img.css("margin-top",(cont_h-this.$img[0].offsetHeight)/2+"px"),this.$img.css("margin-left",(cont_w-this.$img[0].offsetWidth)/2+"px")}}(),function(){"use strict";var _options={bouncing:!0,snapping:!1,snapsize:null,friction:.05,outFriction:.05,outAcceleration:.09,minValidDist:.3,snappingMinSpeed:2,paging:!1,endless:!1,maxSpeed:160},Controller=function(min,max,options){if(null===max||null===min)throw new Error("Max and Min values are required.");this.options=options||{};for(var key in _options)key in this.options||(this.options[key]=_options[key]);this._max_value=max,this._min_value=min,this.value=min,this.end_loc=min,this.current_snap=this.getSnapNum(min),this.__extrStep=0,this.__extraMove=0,this.__animID=-1},p=Controller.prototype;p.changeTo=function(value,animate,speed,snap_num,dispatch){if(this.stopped=!1,this._internalStop(),value=this._checkLimits(value),speed=Math.abs(speed||0),this.options.snapping&&(snap_num=snap_num||this.getSnapNum(value),dispatch!==!1&&this._callsnapChange(snap_num),this.current_snap=snap_num),animate){this.animating=!0;var self=this,active_id=++self.__animID,amplitude=value-self.value,timeStep=0,targetPosition=value,animFrict=1-self.options.friction,timeconst=animFrict+(speed-20)*animFrict*1.3/self.options.maxSpeed,tick=function(){if(active_id===self.__animID){var dis=value-self.value;if(!(Math.abs(dis)>self.options.minValidDist&&self.animating))return self.animating&&(self.value=value,self._callrenderer()),self.animating=!1,active_id!==self.__animID&&(self.__animID=-1),void self._callonComplete("anim");window.requestAnimationFrame(tick),self.value=targetPosition-amplitude*Math.exp(-++timeStep*timeconst),self._callrenderer()}};return void tick()}this.value=value,this._callrenderer()},p.drag=function(move){this.start_drag&&(this.drag_start_loc=this.value,this.start_drag=!1),this.animating=!1,this._deceleration=!1,this.value-=move,!this.options.endless&&(this.value>this._max_value||this.value<0)?this.options.bouncing?(this.__isout=!0,this.value+=.6*move):this.value=this.value>this._max_value?this._max_value:0:!this.options.endless&&this.options.bouncing&&(this.__isout=!1),this._callrenderer()},p.push=function(speed){if(this.stopped=!1,this.options.snapping&&Math.abs(speed)<=this.options.snappingMinSpeed)return void this.cancel();if(this.__speed=speed,this.__startSpeed=speed,this.end_loc=this._calculateEnd(),this.options.snapping){var snap_loc=this.getSnapNum(this.value),end_snap=this.getSnapNum(this.end_loc);if(this.options.paging)return snap_loc=this.getSnapNum(this.drag_start_loc),this.__isout=!1,void(speed>0?this.gotoSnap(snap_loc+1,!0,speed):this.gotoSnap(snap_loc-1,!0,speed));if(snap_loc===end_snap)return void this.cancel();this._callsnapChange(end_snap),this.current_snap=end_snap}this.animating=!1,this.__needsSnap=this.options.endless||this.end_loc>this._min_value&&this.end_loc<this._max_value,this.options.snapping&&this.__needsSnap&&(this.__extraMove=this._calculateExtraMove(this.end_loc)),this._startDecelaration()},p.bounce=function(speed){this.animating||(this.stopped=!1,this.animating=!1,this.__speed=speed,this.__startSpeed=speed,this.end_loc=this._calculateEnd(),this._startDecelaration())},p.stop=function(){this.stopped=!0,this._internalStop()},p.cancel=function(){this.start_drag=!0,this.__isout?(this.__speed=4e-4,this._startDecelaration()):this.options.snapping&&this.gotoSnap(this.getSnapNum(this.value),!0)},p.renderCallback=function(listener,ref){this.__renderHook={fun:listener,ref:ref}},p.snappingCallback=function(listener,ref){this.__snapHook={fun:listener,ref:ref}},p.snapCompleteCallback=function(listener,ref){this.__compHook={fun:listener,ref:ref}},p.getSnapNum=function(value){return Math.floor((value+this.options.snapsize/2)/this.options.snapsize)},p.nextSnap=function(){this._internalStop();var curr_snap=this.getSnapNum(this.value);!this.options.endless&&(curr_snap+1)*this.options.snapsize>this._max_value?(this.__speed=8,this.__needsSnap=!1,this._startDecelaration()):this.gotoSnap(curr_snap+1,!0)},p.prevSnap=function(){this._internalStop();var curr_snap=this.getSnapNum(this.value);!this.options.endless&&(curr_snap-1)*this.options.snapsize<this._min_value?(this.__speed=-8,this.__needsSnap=!1,this._startDecelaration()):this.gotoSnap(curr_snap-1,!0)},p.gotoSnap=function(snap_num,animate,speed){this.changeTo(snap_num*this.options.snapsize,animate,speed,snap_num)},p.destroy=function(){this._internalStop(),this.__renderHook=null,this.__snapHook=null,this.__compHook=null},p._internalStop=function(){this.start_drag=!0,this.animating=!1,this._deceleration=!1,this.__extrStep=0},p._calculateExtraMove=function(value){var m=value%this.options.snapsize;return m<this.options.snapsize/2?-m:this.options.snapsize-m},p._calculateEnd=function(step){for(var temp_speed=this.__speed,temp_value=this.value,i=0;Math.abs(temp_speed)>this.options.minValidDist;)temp_value+=temp_speed,temp_speed*=this.options.friction,i++;return step?i:temp_value},p._checkLimits=function(value){return this.options.endless?value:value<this._min_value?this._min_value:value>this._max_value?this._max_value:value},p._callrenderer=function(){this.__renderHook&&this.__renderHook.fun.call(this.__renderHook.ref,this,this.value)},p._callsnapChange=function(targetSnap){this.__snapHook&&targetSnap!==this.current_snap&&this.__snapHook.fun.call(this.__snapHook.ref,this,targetSnap,targetSnap-this.current_snap)},p._callonComplete=function(type){this.__compHook&&!this.stopped&&this.__compHook.fun.call(this.__compHook.ref,this,this.current_snap,type)},p._computeDeceleration=function(){if(this.options.snapping&&this.__needsSnap){var xtr_move=(this.__startSpeed-this.__speed)/this.__startSpeed*this.__extraMove;this.value+=this.__speed+xtr_move-this.__extrStep,this.__extrStep=xtr_move}else this.value+=this.__speed;if(this.__speed*=this.options.friction,this.options.endless||this.options.bouncing||(this.value<=this._min_value?(this.value=this._min_value,this.__speed=0):this.value>=this._max_value&&(this.value=this._max_value,this.__speed=0)),this._callrenderer(),!this.options.endless&&this.options.bouncing){var out_value=0;this.value<this._min_value?out_value=this._min_value-this.value:this.value>this._max_value&&(out_value=this._max_value-this.value),this.__isout=Math.abs(out_value)>=this.options.minValidDist,this.__isout&&(this.__speed*out_value<=0?this.__speed+=out_value*this.options.outFriction:this.__speed=out_value*this.options.outAcceleration)}},p._startDecelaration=function(){if(!this._deceleration){this._deceleration=!0;var self=this,tick=function(){self._deceleration&&(self._computeDeceleration(),Math.abs(self.__speed)>self.options.minValidDist||self.__isout?window.requestAnimationFrame(tick):(self._deceleration=!1,self.__isout=!1,self.value=self.__needsSnap&&self.options.snapping&&!self.options.paging?self._checkLimits(self.end_loc+self.__extraMove):Math.round(self.value),self._callrenderer(),self._callonComplete("decel")))};tick()}},window.Controller=Controller}(),function(window,document,$){window.MSLayerController=function(slide){this.slide=slide,this.slider=slide.slider,this.layers=[],this.layersCount=0,this.preloadCount=0,this.$layers=$("<div></div>").addClass("ms-slide-layers"),this.$staticLayers=$("<div></div>").addClass("ms-static-layers"),this.$fixedLayers=$("<div></div>").addClass("ms-fixed-layers"),this.$animLayers=$("<div></div>").addClass("ms-anim-layers")};var p=MSLayerController.prototype;p.addLayer=function(layer){switch(layer.slide=this.slide,layer.controller=this,layer.$element.data("position")){case"static":this.hasStaticLayer=!0,layer.$element.appendTo(this.$staticLayers);break;case"fixed":this.hasFixedLayer=!0,layer.$element.appendTo(this.$fixedLayers);break;default:layer.$element.appendTo(this.$animLayers)}layer.create(),this.layers.push(layer),this.layersCount++,layer.parallax&&(this.hasParallaxLayer=!0),layer.needPreload&&this.preloadCount++},p.create=function(){this.slide.$element.append(this.$layers),this.$layers.append(this.$animLayers),this.hasStaticLayer&&this.$layers.append(this.$staticLayers),"center"==this.slider.options.layersMode&&(this.$layers.css("max-width",this.slider.options.width+"px"),this.hasFixedLayer&&this.$fixedLayers.css("max-width",this.slider.options.width+"px"))},p.loadLayers=function(callback){if(this._onReadyCallback=callback,0===this.preloadCount)return void this._onlayersReady();for(var i=0;i!==this.layersCount;++i)this.layers[i].needPreload&&this.layers[i].loadImage()},p.prepareToShow=function(){this.hasParallaxLayer&&this._enableParallaxEffect(),this.hasFixedLayer&&this.$fixedLayers.prependTo(this.slide.view.$element)},p.showLayers=function(){this.layersHideTween&&this.layersHideTween.stop(!0),this.fixedLayersHideTween&&this.fixedLayersHideTween.stop(!0),this._resetLayers(),this.$animLayers.css("opacity","").css("display",""),this.hasFixedLayer&&this.$fixedLayers.css("opacity","").css("display",""),this.ready&&(this._initLayers(),this._locateLayers(),this._startLayers())},p.hideLayers=function(){if(this.slide.selected||this.slider.options.instantStartLayers){var that=this;that.layersHideTween=CTween.animate(this.$animLayers,500,{opacity:0},{complete:function(){that._resetLayers()}}),this.hasFixedLayer&&(this.fixedLayersHideTween=CTween.animate(this.$fixedLayers,500,{opacity:0},{complete:function(){that.$fixedLayers.detach()}})),this.hasParallaxLayer&&this._disableParallaxEffect()}},p.animHideLayers=function(){if(this.ready)for(var i=0;i!==this.layersCount;++i)this.layers[i].hide()},p.setSize=function(width,height,hard){if(this.ready&&(this.slide.selected||this.hasStaticLayer)&&(hard&&this._initLayers(!0),this._locateLayers(!this.slide.selected)),this.slider.options.autoHeight&&this.updateHeight(),"center"==this.slider.options.layersMode){var left=Math.max(0,(width-this.slider.options.width)/2)+"px";this.$layers[0].style.left=left,this.$fixedLayers[0].style.left=left}},p.updateHeight=function(){var h=this.slide.getHeight()+"px";this.$layers[0].style.height=h,this.$fixedLayers[0].style.height=h},p._onlayersReady=function(){this.ready=!0,this.hasStaticLayer&&!this.slide.isSleeping&&this._initLayers(!1,!0),this._onReadyCallback.call(this.slide)},p.onSlideSleep=function(){},p.onSlideWakeup=function(){this.hasStaticLayer&&this.ready&&this._initLayers(!1,!0)},p.destroy=function(){this.slide.selected&&this.hasParallaxLayer&&this._disableParallaxEffect();for(var i=0;i<this.layersCount;++i)this.layers[i].$element.stop(!0).remove();this.$layers.remove(),this.$staticLayers.remove(),this.$fixedLayers.remove(),this.$animLayers.remove()},p._startLayers=function(){for(var i=0;i!==this.layersCount;++i)this.layers[i].start()},p._initLayers=function(force,onlyStatics){if(!(this.init&&!force||this.slider.init_safemode)){this.init=onlyStatics!==!0;var i=0;if(onlyStatics&&!this.staticsInit)for(this.staticsInit=!0;i!==this.layersCount;++i)this.layers[i].staticLayer&&this.layers[i].init();else if(this.staticsInit&&!force)for(;i!==this.layersCount;++i)this.layers[i].staticLayer||this.layers[i].init();else for(;i!==this.layersCount;++i)this.layers[i].init()}},p._locateLayers=function(onlyStatics){var i=0;if(onlyStatics)for(;i!==this.layersCount;++i)this.layers[i].staticLayer&&this.layers[i].locate();else for(;i!==this.layersCount;++i)this.layers[i].locate()},p._resetLayers=function(){this.$animLayers.css("display","none").css("opacity",1);for(var i=0;i!==this.layersCount;++i)this.layers[i].reset()},p._applyParallax=function(x,y,fast){for(var i=0;i!==this.layersCount;++i)null!=this.layers[i].parallax&&this.layers[i].moveParallax(x,y,fast)},p._enableParallaxEffect=function(){"swipe"===this.slider.options.parallaxMode?this.slide.view.addEventListener(MSViewEvents.SCROLL,this._swipeParallaxMove,this):this.slide.$element.on("mousemove",{that:this},this._mouseParallaxMove).on("mouseleave",{that:this},this._resetParalax)},p._disableParallaxEffect=function(){"swipe"===this.slider.options.parallaxMode?this.slide.view.removeEventListener(MSViewEvents.SCROLL,this._swipeParallaxMove,this):this.slide.$element.off("mousemove",this._mouseParallaxMove).off("mouseleave",this._resetParalax)},p._resetParalax=function(e){var that=e.data.that;that._applyParallax(0,0)},p._mouseParallaxMove=function(e){var that=e.data.that,os=that.slide.$element.offset(),slider=that.slider;if("mouse:y-only"!==slider.options.parallaxMode)var x=e.pageX-os.left-that.slide.__width/2;else var x=0;if("mouse:x-only"!==slider.options.parallaxMode)var y=e.pageY-os.top-that.slide.__height/2;else var y=0;that._applyParallax(-x,-y)},p._swipeParallaxMove=function(){var value=this.slide.position-this.slide.view.__contPos;"v"===this.slider.options.dir?this._applyParallax(0,value,!0):this._applyParallax(value,0,!0)}}(window,document,jQuery),function($){window.MSLayerEffects={};var installed,_fade={opacity:0};MSLayerEffects.setup=function(){if(!installed){installed=!0;var st=MSLayerEffects,transform_css=window._jcsspfx+"Transform",transform_orig_css=window._jcsspfx+"TransformOrigin",o=$.browser.opera;_2d=window._css2d&&window._cssanim&&!o,st.defaultValues={left:0,top:0,opacity:isMSIE("<9")?1:"",right:0,bottom:0},st.defaultValues[transform_css]="",st.rf=1,st.presetEffParams={random:"30|300","long":300,"short":30,"false":!1,"true":!0,tl:"top left",bl:"bottom left",tr:"top right",br:"bottom right",rt:"top right",lb:"bottom left",lt:"top left",rb:"bottom right",t:"top",b:"bottom",r:"right",l:"left",c:"center"},st.fade=function(){return _fade},st.left=_2d?function(dist,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="translateX("+-dist*st.rf+"px)",r}:function(dist,fade){var r=fade===!1?{}:{opacity:0};return r.left=-dist*st.rf+"px",r},st.right=_2d?function(dist,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="translateX("+dist*st.rf+"px)",r}:function(dist,fade){var r=fade===!1?{}:{opacity:0};
return r.left=dist*st.rf+"px",r},st.top=_2d?function(dist,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="translateY("+-dist*st.rf+"px)",r}:function(dist,fade){var r=fade===!1?{}:{opacity:0};return r.top=-dist*st.rf+"px",r},st.bottom=_2d?function(dist,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="translateY("+dist*st.rf+"px)",r}:function(dist,fade){var r=fade===!1?{}:{opacity:0};return r.top=dist*st.rf+"px",r},st.from=_2d?function(leftdis,topdis,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="translateX("+leftdis*st.rf+"px) translateY("+topdis*st.rf+"px)",r}:function(leftdis,topdis,fade){var r=fade===!1?{}:{opacity:0};return r.top=topdis*st.rf+"px",r.left=leftdis*st.rf+"px",r},st.rotate=_2d?function(deg,orig){var r={opacity:0};return r[transform_css]=" rotate("+deg+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(){return _fade},st.rotateleft=_2d?function(deg,dist,orig,fade){var r=st.left(dist,fade);return r[transform_css]+=" rotate("+deg+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(deg,dist,orig,fade){return st.left(dist,fade)},st.rotateright=_2d?function(deg,dist,orig,fade){var r=st.right(dist,fade);return r[transform_css]+=" rotate("+deg+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(deg,dist,orig,fade){return st.right(dist,fade)},st.rotatetop=_2d?function(deg,dist,orig,fade){var r=st.top(dist,fade);return r[transform_css]+=" rotate("+deg+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(deg,dist,orig,fade){return st.top(dist,fade)},st.rotatebottom=_2d?function(deg,dist,orig,fade){var r=st.bottom(dist,fade);return r[transform_css]+=" rotate("+deg+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(deg,dist,orig,fade){return st.bottom(dist,fade)},st.rotatefrom=_2d?function(deg,leftdis,topdis,orig,fade){var r=st.from(leftdis,topdis,fade);return r[transform_css]+=" rotate("+deg+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(deg,leftdis,topdis,orig,fade){return st.from(leftdis,topdis,fade)},st.skewleft=_2d?function(deg,dist,fade){var r=st.left(dist,fade);return r[transform_css]+=" skewX("+deg+"deg)",r}:function(deg,dist,fade){return st.left(dist,fade)},st.skewright=_2d?function(deg,dist,fade){var r=st.right(dist,fade);return r[transform_css]+=" skewX("+-deg+"deg)",r}:function(deg,dist,fade){return st.right(dist,fade)},st.skewtop=_2d?function(deg,dist,fade){var r=st.top(dist,fade);return r[transform_css]+=" skewY("+deg+"deg)",r}:function(deg,dist,fade){return st.top(dist,fade)},st.skewbottom=_2d?function(deg,dist,fade){var r=st.bottom(dist,fade);return r[transform_css]+=" skewY("+-deg+"deg)",r}:function(deg,dist,fade){return st.bottom(dist,fade)},st.scale=_2d?function(x,y,orig,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]=" scaleX("+x+") scaleY("+y+")",orig&&(r[transform_orig_css]=orig),r}:function(x,y,orig,fade){return fade===!1?{}:{opacity:0}},st.scaleleft=_2d?function(x,y,dist,orig,fade){var r=st.left(dist,fade);return r[transform_css]=" scaleX("+x+") scaleY("+y+")",orig&&(r[transform_orig_css]=orig),r}:function(x,y,dist,orig,fade){return st.left(dist,fade)},st.scaleright=_2d?function(x,y,dist,orig,fade){var r=st.right(dist,fade);return r[transform_css]=" scaleX("+x+") scaleY("+y+")",orig&&(r[transform_orig_css]=orig),r}:function(x,y,dist,orig,fade){return st.right(dist,fade)},st.scaletop=_2d?function(x,y,dist,orig,fade){var r=st.top(dist,fade);return r[transform_css]=" scaleX("+x+") scaleY("+y+")",orig&&(r[transform_orig_css]=orig),r}:function(x,y,dist,orig,fade){return st.top(dist,fade)},st.scalebottom=_2d?function(x,y,dist,orig,fade){var r=st.bottom(dist,fade);return r[transform_css]=" scaleX("+x+") scaleY("+y+")",orig&&(r[transform_orig_css]=orig),r}:function(x,y,dist,orig,fade){return st.bottom(dist,fade)},st.scalefrom=_2d?function(x,y,leftdis,topdis,orig,fade){var r=st.from(leftdis,topdis,fade);return r[transform_css]+=" scaleX("+x+") scaleY("+y+")",orig&&(r[transform_orig_css]=orig),r}:function(x,y,leftdis,topdis,orig,fade){return st.from(leftdis,topdis,fade)},st.rotatescale=_2d?function(deg,x,y,orig,fade){var r=st.scale(x,y,orig,fade);return r[transform_css]+=" rotate("+deg+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(deg,x,y,orig,fade){return st.scale(x,y,orig,fade)},st.front=window._css3d?function(dist,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="perspective(2000px) translate3d(0 , 0 ,"+dist+"px ) rotate(0.001deg)",r}:function(){return _fade},st.back=window._css3d?function(dist,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="perspective(2000px) translate3d(0 , 0 ,"+-dist+"px ) rotate(0.001deg)",r}:function(){return _fade},st.rotatefront=window._css3d?function(deg,dist,orig,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="perspective(2000px) translate3d(0 , 0 ,"+dist+"px ) rotate("+(deg||.001)+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(){return _fade},st.rotateback=window._css3d?function(deg,dist,orig,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="perspective(2000px) translate3d(0 , 0 ,"+-dist+"px ) rotate("+(deg||.001)+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(){return _fade},st.rotate3dleft=window._css3d?function(x,y,z,dist,orig,fade){var r=st.left(dist,fade);return r[transform_css]+=(x?" rotateX("+x+"deg)":" ")+(y?" rotateY("+y+"deg)":"")+(z?" rotateZ("+z+"deg)":""),orig&&(r[transform_orig_css]=orig),r}:function(x,y,z,dist,orig,fade){return st.left(dist,fade)},st.rotate3dright=window._css3d?function(x,y,z,dist,orig,fade){var r=st.right(dist,fade);return r[transform_css]+=(x?" rotateX("+x+"deg)":" ")+(y?" rotateY("+y+"deg)":"")+(z?" rotateZ("+z+"deg)":""),orig&&(r[transform_orig_css]=orig),r}:function(x,y,z,dist,orig,fade){return st.right(dist,fade)},st.rotate3dtop=window._css3d?function(x,y,z,dist,orig,fade){var r=st.top(dist,fade);return r[transform_css]+=(x?" rotateX("+x+"deg)":" ")+(y?" rotateY("+y+"deg)":"")+(z?" rotateZ("+z+"deg)":""),orig&&(r[transform_orig_css]=orig),r}:function(x,y,z,dist,orig,fade){return st.top(dist,fade)},st.rotate3dbottom=window._css3d?function(x,y,z,dist,orig,fade){var r=st.bottom(dist,fade);return r[transform_css]+=(x?" rotateX("+x+"deg)":" ")+(y?" rotateY("+y+"deg)":"")+(z?" rotateZ("+z+"deg)":""),orig&&(r[transform_orig_css]=orig),r}:function(x,y,z,dist,orig,fade){return st.bottom(dist,fade)},st.rotate3dfront=window._css3d?function(x,y,z,dist,orig,fade){var r=st.front(dist,fade);return r[transform_css]+=(x?" rotateX("+x+"deg)":" ")+(y?" rotateY("+y+"deg)":"")+(z?" rotateZ("+z+"deg)":""),orig&&(r[transform_orig_css]=orig),r}:function(x,y,z,dist,orig,fade){return st.front(dist,fade)},st.rotate3dback=window._css3d?function(x,y,z,dist,orig,fade){var r=st.back(dist,fade);return r[transform_css]+=(x?" rotateX("+x+"deg)":" ")+(y?" rotateY("+y+"deg)":"")+(z?" rotateZ("+z+"deg)":""),orig&&(r[transform_orig_css]=orig),r}:function(x,y,z,dist,orig,fade){return st.back(dist,fade)},st.t=window._css3d?function(fade,tx,ty,tz,r,rx,ry,rz,scx,scy,skx,sky,ox,oy,oz){var _r=fade===!1?{}:{opacity:0},transform="perspective(2000px) ";"n"!==tx&&(transform+="translateX("+tx*st.rf+"px) "),"n"!==ty&&(transform+="translateY("+ty*st.rf+"px) "),"n"!==tz&&(transform+="translateZ("+tz*st.rf+"px) "),"n"!==r&&(transform+="rotate("+r+"deg) "),"n"!==rx&&(transform+="rotateX("+rx+"deg) "),"n"!==ry&&(transform+="rotateY("+ry+"deg) "),"n"!==rz&&(transform+="rotateZ("+rz+"deg) "),"n"!==skx&&(transform+="skewX("+skx+"deg) "),"n"!==sky&&(transform+="skewY("+sky+"deg) "),"n"!==scx&&(transform+="scaleX("+scx+") "),"n"!==scy&&(transform+="scaleY("+scy+")"),_r[transform_css]=transform;var trans_origin="";return trans_origin+="n"!==ox?ox+"% ":"50% ",trans_origin+="n"!==oy?oy+"% ":"50% ",trans_origin+="n"!==oz?oz+"px":"",_r[transform_orig_css]=trans_origin,_r}:function(fade,tx,ty,tz,r){var r=fade===!1?{}:{opacity:0};return"n"!==tx&&(r.left=tx*st.rf+"px"),"n"!==ty&&(r.top=ty*st.rf+"px"),r}}}}(jQuery),function($){window.MSLayerElement=function(){this.start_anim={name:"fade",duration:1e3,ease:"linear",delay:0},this.end_anim={duration:1e3,ease:"linear"},this.type="text",this.resizable=!0,this.minWidth=-1,this.isVisible=!0,this.__cssConfig=["margin-top","padding-top","margin-bottom","padding-left","margin-right","padding-right","margin-left","padding-bottom","font-size","line-height","width","left","right","top","bottom"],this.baseStyle={}};var p=MSLayerElement.prototype;p.setStartAnim=function(anim){$.extend(this.start_anim,anim),$.extend(this.start_anim,this._parseEff(this.start_anim.name)),this.$element.css("visibility","hidden")},p.setEndAnim=function(anim){$.extend(this.end_anim,anim)},p.create=function(){if(this.$element.css("display","none"),this.resizable=this.$element.data("resize")!==!1,this.fixed=this.$element.data("fixed")===!0,void 0!==this.$element.data("widthlimit")&&(this.minWidth=this.$element.data("widthlimit")),this.end_anim.name||(this.end_anim.name=this.start_anim.name),this.end_anim.time&&(this.autoHide=!0),this.staticLayer="static"===this.$element.data("position"),this.fixedLayer="fixed"===this.$element.data("position"),this.layersCont=this.controller.$layers,this.staticLayer&&this.$element.css("display","").css("visibility",""),void 0!==this.$element.data("action")){var slideController=this.slide.slider.slideController;this.$element.on("click",function(event){slideController.runAction($(this).data("action")),event.preventDefault()}).addClass("ms-action-layer")}$.extend(this.end_anim,this._parseEff(this.end_anim.name)),this.slider=this.slide.slider;var layerOrigin=this.layerOrigin=this.$element.data("origin");if(layerOrigin){var vOrigin=layerOrigin.charAt(0),hOrigin=layerOrigin.charAt(1),offsetX=this.$element.data("offset-x"),offsetY=this.$element.data("offset-y");switch(void 0===offsetY&&(offsetY=0),vOrigin){case"t":this.$element[0].style.top=offsetY+"px";break;case"b":this.$element[0].style.bottom=offsetY+"px";break;case"m":this.$element[0].style.top=offsetY+"px",this.middleAlign=!0}switch(void 0===offsetX&&(offsetX=0),hOrigin){case"l":this.$element[0].style.left=offsetX+"px";break;case"r":this.$element[0].style.right=offsetX+"px";break;case"c":this.$element[0].style.left=offsetX+"px",this.centerAlign=!0}}this.parallax=this.$element.data("parallax"),null!=this.parallax&&(this.parallax/=100,this.$parallaxElement=$("<div></div>").addClass("ms-parallax-layer"),this.link?(this.link.wrap(this.$parallaxElement),this.$parallaxElement=this.link.parent()):(this.$element.wrap(this.$parallaxElement),this.$parallaxElement=this.$element.parent()),this._lastParaX=0,this._lastParaY=0,this._paraX=0,this._paraY=0,this.alignedToBot=this.layerOrigin&&-1!==this.layerOrigin.indexOf("b"),this.alignedToBot&&this.$parallaxElement.css("bottom",0),this.parallaxRender=window._css3d?this._parallaxCSS3DRenderer:window._css2d?this._parallaxCSS2DRenderer:this._parallax2DRenderer,"swipe"!==this.slider.options.parallaxMode&&averta.Ticker.add(this.parallaxRender,this)),$.removeDataAttrs(this.$element,["data-src"])},p.init=function(){this.initialized=!0;var value;this.$element.css("visibility","");for(var i=0,l=this.__cssConfig.length;l>i;i++){var key=this.__cssConfig[i];"text"===this.type&&"width"===key?value=this.$element[0].style.width:(value=this.$element.css(key),"width"!==key&&"height"!==key||"0px"!==value||(value=this.$element.data(key)+"px")),"auto"!=value&&""!=value&&"normal"!=value&&(this.baseStyle[key]=parseInt(value))}this.middleAlign&&(this.baseHeight=this.$element.outerHeight(!1)),this.centerAlign&&(this.baseWidth=this.$element.outerWidth(!1))},p.locate=function(){if(this.slide.ready){var factor,isPosition,width=parseFloat(this.layersCont.css("width")),height=parseFloat(this.layersCont.css("height"));!this.staticLayer&&"none"===this.$element.css("display")&&this.isVisible&&this.$element.css("display","").css("visibility","hidden"),factor=this.resizeFactor=width/this.slide.slider.options.width;for(var key in this.baseStyle)isPosition="top"===key||"left"===key||"bottom"===key||"right"===key,factor=this.fixed&&isPosition?1:this.resizeFactor,(this.resizable||isPosition)&&("top"===key&&this.middleAlign?(this.$element[0].style.top="0px",this.baseHeight=this.$element.outerHeight(!1),this.$element[0].style.top=this.baseStyle.top*factor+(height-this.baseHeight)/2+"px"):"left"===key&&this.centerAlign?(this.$element[0].style.left="0px",this.baseWidth=this.$element.outerWidth(!1),this.$element[0].style.left=this.baseStyle.left*factor+(width-this.baseWidth)/2+"px"):this.$element.css(key,this.baseStyle[key]*factor+"px"));this.visible(this.minWidth<width)}},p.start=function(){if(!this.isShowing&&!this.staticLayer){this.isShowing=!0;var key,base;MSLayerEffects.rf=this.resizeFactor;var effect_css=MSLayerEffects[this.start_anim.eff_name].apply(null,this._parseEffParams(this.start_anim.eff_params)),start_css_eff={};for(key in effect_css)this._checkPosKey(key,effect_css)||(null!=MSLayerEffects.defaultValues[key]&&(start_css_eff[key]=MSLayerEffects.defaultValues[key]),key in this.baseStyle&&(base=this.baseStyle[key],this.middleAlign&&"top"===key&&(base+=(parseInt(this.layersCont.height())-this.$element.outerHeight(!1))/2),this.centerAlign&&"left"===key&&(base+=(parseInt(this.layersCont.width())-this.$element.outerWidth(!1))/2),effect_css[key]=base+parseFloat(effect_css[key])+"px",start_css_eff[key]=base+"px"),this.$element.css(key,effect_css[key]));var that=this;clearTimeout(this.to),this.to=setTimeout(function(){that.$element.css("visibility",""),that._playAnimation(that.start_anim,start_css_eff)},that.start_anim.delay||.01),this.clTo=setTimeout(function(){that.show_cl=!0},(this.start_anim.delay||.01)+this.start_anim.duration),this.autoHide&&(clearTimeout(this.hto),this.hto=setTimeout(function(){that.hide()},that.end_anim.time))}},p.hide=function(){if(!this.staticLayer){this.isShowing=!1;var effect_css=MSLayerEffects[this.end_anim.eff_name].apply(null,this._parseEffParams(this.end_anim.eff_params));for(key in effect_css)this._checkPosKey(key,effect_css)||(key===window._jcsspfx+"TransformOrigin"&&this.$element.css(key,effect_css[key]),key in this.baseStyle&&(effect_css[key]=this.baseStyle[key]+parseFloat(effect_css[key])+"px"));this._playAnimation(this.end_anim,effect_css),clearTimeout(this.to),clearTimeout(this.hto),clearTimeout(this.clTo)}},p.reset=function(){this.staticLayer||(this.isShowing=!1,this.$element[0].style.display="none",this.$element.css("opacity",""),this.$element[0].style.transitionDuration="",this.show_tween&&this.show_tween.stop(!0),clearTimeout(this.to),clearTimeout(this.hto))},p.destroy=function(){this.reset(),this.$element.remove()},p.visible=function(value){this.isVisible!=value&&(this.isVisible=value,this.$element.css("display",value?"":"none"))},p.moveParallax=function(x,y,fast){this._paraX=x,this._paraY=y,fast&&(this._lastParaX=x,this._lastParaY=y,this.parallaxRender())},p._playAnimation=function(animation,css){var options={};animation.ease&&(options.ease=animation.ease),options.transProperty=window._csspfx+"transform,opacity",this.show_tween=CTween.animate(this.$element,animation.duration,css,options)},p._randomParam=function(value){var min=Number(value.slice(0,value.indexOf("|"))),max=Number(value.slice(value.indexOf("|")+1));return min+Math.random()*(max-min)},p._parseEff=function(eff_name){var eff_params=[];if(-1!==eff_name.indexOf("(")){var value,temp=eff_name.slice(0,eff_name.indexOf("(")).toLowerCase();eff_params=eff_name.slice(eff_name.indexOf("(")+1,-1).replace(/\"|\'|\s/g,"").split(","),eff_name=temp;for(var i=0,l=eff_params.length;l>i;++i)value=eff_params[i],value in MSLayerEffects.presetEffParams&&(value=MSLayerEffects.presetEffParams[value]),eff_params[i]=value}return{eff_name:eff_name,eff_params:eff_params}},p._parseEffParams=function(params){for(var eff_params=[],i=0,l=params.length;l>i;++i){var value=params[i];"string"==typeof value&&-1!==value.indexOf("|")&&(value=this._randomParam(value)),eff_params[i]=value}return eff_params},p._checkPosKey=function(key,style){return"left"===key&&!(key in this.baseStyle)&&"right"in this.baseStyle?(style.right=-parseInt(style.left)+"px",delete style.left,!0):"top"===key&&!(key in this.baseStyle)&&"bottom"in this.baseStyle?(style.bottom=-parseInt(style.top)+"px",delete style.top,!0):!1},p._parallaxCalc=function(){var x_def=this._paraX-this._lastParaX,y_def=this._paraY-this._lastParaY;this._lastParaX+=x_def/12,this._lastParaY+=y_def/12,Math.abs(x_def)<.019&&(this._lastParaX=this._paraX),Math.abs(y_def)<.019&&(this._lastParaY=this._paraY)},p._parallaxCSS3DRenderer=function(){this._parallaxCalc(),this.$parallaxElement[0].style[window._jcsspfx+"Transform"]="translateX("+this._lastParaX*this.parallax+"px) translateY("+this._lastParaY*this.parallax+"px) translateZ(0)"},p._parallaxCSS2DRenderer=function(){this._parallaxCalc(),this.$parallaxElement[0].style[window._jcsspfx+"Transform"]="translateX("+this._lastParaX*this.parallax+"px) translateY("+this._lastParaY*this.parallax+"px)"},p._parallax2DRenderer=function(){this._parallaxCalc(),this.alignedToBot?this.$parallaxElement[0].style.bottom=this._lastParaY*this.parallax+"px":this.$parallaxElement[0].style.top=this._lastParaY*this.parallax+"px",this.$parallaxElement[0].style.left=this._lastParaX*this.parallax+"px"}}(jQuery),function($){window.MSImageLayerElement=function(){MSLayerElement.call(this),this.needPreload=!0,this.__cssConfig=["width","height","margin-top","padding-top","margin-bottom","padding-left","margin-right","padding-right","margin-left","padding-bottom","left","right","top","bottom"],this.type="image"},MSImageLayerElement.extend(MSLayerElement);var p=MSImageLayerElement.prototype,_super=MSLayerElement.prototype;p.create=function(){if(this.link){var p=this.$element.parent();p.append(this.link),this.link.append(this.$element),this.link.removeClass("ms-layer"),this.$element.addClass("ms-layer"),p=null}if(_super.create.call(this),void 0!=this.$element.data("src"))this.img_src=this.$element.data("src"),this.$element.removeAttr("data-src");else{var that=this;this.$element.on("load",function(){that.controller.preloadCount--,0===that.controller.preloadCount&&that.controller._onlayersReady()}).each($.jqLoadFix)}$.browser.msie&&this.$element.on("dragstart",function(event){event.preventDefault()})},p.loadImage=function(){var that=this;this.$element.preloadImg(this.img_src,function(){that.controller.preloadCount--,0===that.controller.preloadCount&&that.controller._onlayersReady()})}}(jQuery),function($){window.MSVideoLayerElement=function(){MSLayerElement.call(this),this.__cssConfig.push("height"),this.type="video"},MSVideoLayerElement.extend(MSLayerElement);var p=MSVideoLayerElement.prototype,_super=MSLayerElement.prototype;p.__playVideo=function(){this.img&&CTween.fadeOut(this.img,500,2),CTween.fadeOut(this.video_btn,500,2),this.video_frame.attr("src","about:blank").css("display","block"),-1==this.video_url.indexOf("?")&&(this.video_url+="?"),this.video_frame.attr("src",this.video_url+"&autoplay=1")},p.start=function(){_super.start.call(this),this.$element.data("autoplay")&&this.__playVideo()},p.reset=function(){return _super.reset.call(this),(this.needPreload||this.$element.data("btn"))&&(this.video_btn.css("opacity",1).css("display","block"),this.video_frame.attr("src","about:blank").css("display","none")),this.needPreload?void this.img.css("opacity",1).css("display","block"):void this.video_frame.attr("src",this.video_url)},p.create=function(){_super.create.call(this),this.video_frame=this.$element.find("iframe").css({width:"100%",height:"100%"}),this.video_url=this.video_frame.attr("src");var has_img=0!=this.$element.has("img").length;if(has_img||this.$element.data("btn")){this.video_frame.attr("src","about:blank").css("display","none");var that=this;if(this.video_btn=$("<div></div>").appendTo(this.$element).addClass("ms-video-btn").click(function(){that.__playVideo()}),has_img){if(this.needPreload=!0,this.img=this.$element.find("img:first").addClass("ms-video-img"),void 0!==this.img.data("src"))this.img_src=this.img.data("src"),this.img.removeAttr("data-src");else{var that=this;this.img.attr("src",this.img_src).on("load",function(){that.controller.preloadCount--,0===that.controller.preloadCount&&that.controller._onlayersReady()}).each($.jqLoadFix)}$.browser.msie&&this.img.on("dragstart",function(event){event.preventDefault()})}}},p.loadImage=function(){var that=this;this.img.preloadImg(this.img_src,function(){that.controller.preloadCount--,0===that.controller.preloadCount&&that.controller._onlayersReady()})}}(jQuery),function($){"use strict";window.MSHotspotLayer=function(){MSLayerElement.call(this),this.__cssConfig=["margin-top","padding-top","margin-bottom","padding-left","margin-right","padding-right","margin-left","padding-bottom","left","right","top","bottom"],this.ease="Expo",this.hide_start=!0,this.type="hotspot"},MSHotspotLayer.extend(MSLayerElement);var p=MSHotspotLayer.prototype,_super=MSLayerElement.prototype;p._showTT=function(){this.show_cl&&(clearTimeout(this.hto),this._tween&&this._tween.stop(!0),this.hide_start&&(this.align=this._orgAlign,this._locateTT(),this.tt.css({display:"block"}),this._tween=CTween.animate(this.tt,900,this.to,{ease:"easeOut"+this.ease}),this.hide_start=!1))},p._hideTT=function(){if(this.show_cl){this._tween&&this._tween.stop(!0);var that=this;clearTimeout(this.hto),this.hto=setTimeout(function(){that.hide_start=!0,that._tween=CTween.animate(that.tt,900,that.from,{ease:"easeOut"+that.ease,complete:function(){that.tt.css("display","none")}})},200)}},p._updateClassName=function(name){this._lastClass&&this.tt.removeClass(this._lastClass),this.tt.addClass(name),this._lastClass=name},p._alignPolicy=function(){{var w=(this.tt.outerHeight(!1),Math.max(this.tt.outerWidth(!1),parseInt(this.tt.css("max-width")))),ww=window.innerWidth;window.innerHeight}switch(this.align){case"top":if(this.base_t<0)return"bottom";break;case"right":if(this.base_l+w>ww||this.base_t<0)return"bottom";break;case"left":if(this.base_l<0||this.base_t<0)return"bottom"}return null},p._locateTT=function(){var os=this.$element.offset(),os2=this.slide.slider.$element.offset(),dist=50,space=15;this.pos_x=os.left-os2.left-this.slide.slider.$element.scrollLeft(),this.pos_y=os.top-os2.top-this.slide.slider.$element.scrollTop(),this.from={opacity:0},this.to={opacity:1},this._updateClassName("ms-tooltip-"+this.align),this.tt_arrow.css("margin-left","");var arrow_w=15,arrow_h=15;switch(this.align){case"top":var w=Math.min(this.tt.outerWidth(!1),parseInt(this.tt.css("max-width")));this.base_t=this.pos_y-this.tt.outerHeight(!1)-arrow_h-space,this.base_l=this.pos_x-w/2,this.base_l+w>window.innerWidth&&(this.tt_arrow.css("margin-left",-arrow_w/2+this.base_l+w-window.innerWidth+"px"),this.base_l=window.innerWidth-w),this.base_l<0&&(this.base_l=0,this.tt_arrow.css("margin-left",-arrow_w/2+this.pos_x-this.tt.outerWidth(!1)/2+"px")),window._css3d?(this.from[window._jcsspfx+"Transform"]="translateY(-"+dist+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.top=this.base_t-dist+"px",this.to.top=this.base_t+"px");break;case"bottom":var w=Math.min(this.tt.outerWidth(!1),parseInt(this.tt.css("max-width")));this.base_t=this.pos_y+arrow_h+space,this.base_l=this.pos_x-w/2,this.base_l+w>window.innerWidth&&(this.tt_arrow.css("margin-left",-arrow_w/2+this.base_l+w-window.innerWidth+"px"),this.base_l=window.innerWidth-w),this.base_l<0&&(this.base_l=0,this.tt_arrow.css("margin-left",-arrow_w/2+this.pos_x-this.tt.outerWidth(!1)/2+"px")),window._css3d?(this.from[window._jcsspfx+"Transform"]="translateY("+dist+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.top=this.base_t+dist+"px",this.to.top=this.base_t+"px");break;case"right":this.base_l=this.pos_x+arrow_w+space,this.base_t=this.pos_y-this.tt.outerHeight(!1)/2,window._css3d?(this.from[window._jcsspfx+"Transform"]="translateX("+dist+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.left=this.base_l+dist+"px",this.to.left=this.base_l+"px");break;case"left":this.base_l=this.pos_x-arrow_w-this.tt.outerWidth(!1)-space,this.base_t=this.pos_y-this.tt.outerHeight(!1)/2,window._css3d?(this.from[window._jcsspfx+"Transform"]="translateX(-"+dist+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.left=this.base_l-dist+"px",this.to.left=this.base_l+"px")}var policyAlign=this._alignPolicy();return null!==policyAlign?(this.align=policyAlign,void this._locateTT()):(this.tt.css("top",parseInt(this.base_t)+"px").css("left",parseInt(this.base_l)+"px"),void this.tt.css(this.from))},p.start=function(){_super.start.call(this),this.tt.appendTo(this.slide.slider.$element),this.tt.css("display","none")},p.reset=function(){_super.reset.call(this),this.tt.detach()},p.create=function(){var that=this;this._orgAlign=this.align=void 0!==this.$element.data("align")?this.$element.data("align"):"top",this.data=this.$element.html(),this.$element.html("").on("mouseenter",function(){that._showTT()}).on("mouseleave",function(){that._hideTT()}),this.point=$('<div><div class="ms-point-center"></div><div class="ms-point-border"></div></div>').addClass("ms-tooltip-point").appendTo(this.$element);var link=this.$element.data("link"),target=this.$element.data("target");link&&this.point.on("click",function(){window.open(link,target||"_self")}),this.tt=$("<div></div>").addClass("ms-tooltip").css("display","hidden").css("opacity",0),void 0!==this.$element.data("width")&&this.tt.css("width",this.$element.data("width")).css("max-width",this.$element.data("width")),this.tt_arrow=$("<div></div>").addClass("ms-tooltip-arrow").appendTo(this.tt),this._updateClassName("ms-tooltip-"+this.align),this.ttcont=$("<div></div>").addClass("ms-tooltip-cont").html(this.data).appendTo(this.tt),this.$element.data("stay-hover")===!0&&this.tt.on("mouseenter",function(){that.hide_start||(clearTimeout(that.hto),that._tween.stop(!0),that._showTT())}).on("mouseleave",function(){that._hideTT()}),_super.create.call(this)}}(jQuery),function(){window.MSButtonLayer=function(){MSLayerElement.call(this),this.type="button"},MSButtonLayer.extend(MSLayerElement);var p=MSButtonLayer.prototype,_super=MSLayerElement.prototype,positionKies=["top","left","bottom","right"];p.create=function(){_super.create.call(this),this.$element.wrap('<div class="ms-btn-container"></div>').css("position","relative"),this.$container=this.$element.parent()},p.locate=function(){_super.locate.call(this);for(var key,tempValue,i=0;4>i;i++)key=positionKies[i],key in this.baseStyle&&(tempValue=this.$element.css(key),this.$element.css(key,""),this.$container.css(key,tempValue));this.$container.width(this.$element.outerWidth(!0)).height(this.$element.outerHeight(!0))}}(jQuery),window.MSSliderEvent=function(type){this.type=type},MSSliderEvent.CHANGE_START="ms_changestart",MSSliderEvent.CHANGE_END="ms_changeend",MSSliderEvent.WAITING="ms_waiting",MSSliderEvent.AUTOPLAY_CHANGE="ms_autoplaychange",MSSliderEvent.VIDEO_PLAY="ms_videoPlay",MSSliderEvent.VIDEO_CLOSE="ms_videoclose",MSSliderEvent.INIT="ms_init",MSSliderEvent.HARD_UPDATE="ms_hard_update",MSSliderEvent.RESIZE="ms_resize",MSSliderEvent.RESERVED_SPACE_CHANGE="ms_rsc",MSSliderEvent.DESTROY="ms_destroy",function(window,document,$){"use strict";window.MSSlide=function(){this.$element=null,this.$loading=$("<div></div>").addClass("ms-slide-loading"),this.view=null,this.index=-1,this.__width=0,this.__height=0,this.fillMode="fill",this.selected=!1,this.pselected=!1,this.autoAppend=!0,this.isSleeping=!0,this.moz=$.browser.mozilla};var p=MSSlide.prototype;p.onSwipeStart=function(){this.link&&(this.linkdis=!0),this.video&&(this.videodis=!0)},p.onSwipeMove=function(e){var move=Math.max(Math.abs(e.data.distanceX),Math.abs(e.data.distanceY));this.swipeMoved=move>4},p.onSwipeCancel=function(){return this.swipeMoved?void(this.swipeMoved=!1):(this.link&&(this.linkdis=!1),void(this.video&&(this.videodis=!1)))},p.setupLayerController=function(){this.hasLayers=!0,this.layerController=new MSLayerController(this)},p.assetsLoaded=function(){this.ready=!0,this.slider.api._startTimer(),(this.selected||this.pselected&&this.slider.options.instantStartLayers)&&(this.hasLayers&&this.layerController.showLayers(),this.vinit&&(this.bgvideo.play(),this.autoPauseBgVid||(this.bgvideo.currentTime=0))),this.isSleeping||this.setupBG(),CTween.fadeOut(this.$loading,300,!0),(0===this.slider.options.preload||"all"===this.slider.options.preload)&&this.index<this.view.slideList.length-1?this.view.slideList[this.index+1].loadImages():"all"===this.slider.options.preload&&this.index===this.view.slideList.length-1&&this.slider._removeLoading()},p.setBG=function(img){this.hasBG=!0;var that=this;this.$imgcont=$("<div></div>").addClass("ms-slide-bgcont"),this.$element.append(this.$loading).append(this.$imgcont),this.$bg_img=$(img).css("visibility","hidden"),this.$imgcont.append(this.$bg_img),this.bgAligner=new MSAligner(that.fillMode,that.$imgcont,that.$bg_img),this.bgAligner.widthOnly=this.slider.options.autoHeight,that.slider.options.autoHeight&&(that.pselected||that.selected)&&that.slider.setHeight(that.slider.options.height),void 0!==this.$bg_img.data("src")?(this.bg_src=this.$bg_img.data("src"),this.$bg_img.removeAttr("data-src")):this.$bg_img.one("load",function(event){that._onBGLoad(event)}).each($.jqLoadFix)},p.setupBG=function(){!this.initBG&&this.bgLoaded&&(this.initBG=!0,this.$bg_img.css("visibility",""),this.bgWidth=this.bgNatrualWidth||this.$bg_img.width(),this.bgHeight=this.bgNatrualHeight||this.$bg_img.height(),CTween.fadeIn(this.$imgcont,300),this.slider.options.autoHeight&&this.$imgcont.height(this.bgHeight*this.ratio),this.bgAligner.init(this.bgWidth,this.bgHeight),this.setSize(this.__width,this.__height),this.slider.options.autoHeight&&(this.pselected||this.selected)&&this.slider.setHeight(this.getHeight()))},p.loadImages=function(){if(!this.ls){if(this.ls=!0,this.bgvideo&&this.bgvideo.load(),this.hasBG&&this.bg_src){var that=this;this.$bg_img.preloadImg(this.bg_src,function(event){that._onBGLoad(event)})}this.hasLayers&&this.layerController.loadLayers(this._onLayersLoad),this.hasBG||this.hasLayers||this.assetsLoaded()}},p._onLayersLoad=function(){this.layersLoaded=!0,(!this.hasBG||this.bgLoaded)&&this.assetsLoaded()},p._onBGLoad=function(event){this.bgNatrualWidth=event.width,this.bgNatrualHeight=event.height,this.bgLoaded=!0,$.browser.msie&&this.$bg_img.on("dragstart",function(event){event.preventDefault()}),(!this.hasLayers||this.layerController.ready)&&this.assetsLoaded()},p.setBGVideo=function($video){if($video[0].play){if(window._mobile)return void $video.remove();this.bgvideo=$video[0];var that=this;$video.addClass("ms-slide-bgvideo"),$video.data("loop")!==!1&&this.bgvideo.addEventListener("ended",function(){that.bgvideo.play()}),$video.data("mute")!==!1&&(this.bgvideo.muted=!0),$video.data("autopause")===!0&&(this.autoPauseBgVid=!0),this.bgvideo_fillmode=$video.data("fill-mode")||"fill","none"!==this.bgvideo_fillmode&&(this.bgVideoAligner=new MSAligner(this.bgvideo_fillmode,this.$element,$video),this.bgvideo.addEventListener("loadedmetadata",function(){that.vinit||(that.vinit=!0,that.video_aspect=that.bgVideoAligner.baseHeight/that.bgVideoAligner.baseWidth,that.bgVideoAligner.init(that.bgvideo.videoWidth,that.bgvideo.videoHeight),that._alignBGVideo(),CTween.fadeIn($(that.bgvideo),200),that.selected&&that.bgvideo.play())})),$video.css("opacity",0),this.$bgvideocont=$("<div></div>").addClass("ms-slide-bgvideocont").append($video),this.hasBG?this.$imgcont.before(this.$bgvideocont):this.$bgvideocont.appendTo(this.$element)}},p._alignBGVideo=function(){this.bgvideo_fillmode&&"none"!==this.bgvideo_fillmode&&this.bgVideoAligner.align()},p.setSize=function(width,height,hard){this.__width=width,this.slider.options.autoHeight&&(this.bgLoaded?(this.ratio=this.__width/this.bgWidth,height=Math.floor(this.ratio*this.bgHeight),this.$imgcont.height(height)):(this.ratio=width/this.slider.options.width,height=this.slider.options.height*this.ratio)),this.__height=height,this.$element.width(width).height(height),this.hasBG&&this.bgLoaded&&this.bgAligner.align(),this._alignBGVideo(),this.hasLayers&&this.layerController.setSize(width,height,hard)
},p.getHeight=function(){return this.hasBG&&this.bgLoaded?this.bgHeight*this.ratio:Math.max(this.$element[0].clientHeight,this.slider.options.height*this.ratio)},p.__playVideo=function(){this.vplayed||this.videodis||(this.vplayed=!0,this.slider.api.paused||(this.slider.api.pause(),this.roc=!0),this.vcbtn.css("display",""),CTween.fadeOut(this.vpbtn,500,!1),CTween.fadeIn(this.vcbtn,500),CTween.fadeIn(this.vframe,500),this.vframe.css("display","block").attr("src",this.video+"&autoplay=1"),this.view.$element.addClass("ms-def-cursor"),this.view.swipeControl&&this.view.swipeControl.disable(),this.slider.slideController.dispatchEvent(new MSSliderEvent(MSSliderEvent.VIDEO_PLAY)))},p.__closeVideo=function(){if(this.vplayed){this.vplayed=!1,this.roc&&this.slider.api.resume();var that=this;CTween.fadeIn(this.vpbtn,500),CTween.animate(this.vcbtn,500,{opacity:0},{complete:function(){that.vcbtn.css("display","none")}}),CTween.animate(this.vframe,500,{opacity:0},{complete:function(){that.vframe.attr("src","about:blank").css("display","none")}}),this.view.swipeControl&&this.view.swipeControl.enable(),this.view.$element.removeClass("ms-def-cursor"),this.slider.slideController.dispatchEvent(new MSSliderEvent(MSSliderEvent.VIDEO_CLOSE))}},p.create=function(){var that=this;this.hasLayers&&this.layerController.create(),this.link&&this.link.addClass("ms-slide-link").html("").click(function(e){that.linkdis&&e.preventDefault()}),this.video&&(-1===this.video.indexOf("?")&&(this.video+="?"),this.vframe=$("<iframe></iframe>").addClass("ms-slide-video").css({width:"100%",height:"100%",display:"none"}).attr("src","about:blank").attr("allowfullscreen","true").appendTo(this.$element),this.vpbtn=$("<div></div>").addClass("ms-slide-vpbtn").click(function(){that.__playVideo()}).appendTo(this.$element),this.vcbtn=$("<div></div>").addClass("ms-slide-vcbtn").click(function(){that.__closeVideo()}).appendTo(this.$element).css("display","none"),window._touch&&this.vcbtn.removeClass("ms-slide-vcbtn").addClass("ms-slide-vcbtn-mobile").append('<div class="ms-vcbtn-txt">Close video</div>').appendTo(this.view.$element.parent())),!this.slider.options.autoHeight&&this.hasBG&&(this.$imgcont.css("height","100%"),("center"===this.fillMode||"stretch"===this.fillMode)&&(this.fillMode="fill")),this.slider.options.autoHeight&&this.$element.addClass("ms-slide-auto-height"),this.sleep(!0)},p.destroy=function(){this.hasLayers&&(this.layerController.destroy(),this.layerController=null),this.$element.remove(),this.$element=null},p.prepareToSelect=function(){this.pselected||this.selected||(this.pselected=!0,(this.link||this.video)&&(this.view.addEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.view.addEventListener(MSViewEvents.SWIPE_MOVE,this.onSwipeMove,this),this.view.addEventListener(MSViewEvents.SWIPE_CANCEL,this.onSwipeCancel,this),this.linkdis=!1,this.swipeMoved=!1),this.loadImages(),this.hasLayers&&this.layerController.prepareToShow(),this.ready&&(this.bgvideo&&this.bgvideo.play(),this.hasLayers&&this.slider.options.instantStartLayers&&this.layerController.showLayers()),this.moz&&this.$element.css("margin-top",""))},p.select=function(){this.selected||(this.selected=!0,this.pselected=!1,this.$element.addClass("ms-sl-selected"),this.hasLayers&&(this.slider.options.autoHeight&&this.layerController.updateHeight(),this.slider.options.instantStartLayers||this.layerController.showLayers()),this.ready&&this.bgvideo&&this.bgvideo.play(),this.videoAutoPlay&&(this.videodis=!1,this.vpbtn.trigger("click")))},p.unselect=function(){this.pselected=!1,this.moz&&this.$element.css("margin-top","0.1px"),(this.link||this.video)&&(this.view.removeEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.view.removeEventListener(MSViewEvents.SWIPE_MOVE,this.onSwipeMove,this),this.view.removeEventListener(MSViewEvents.SWIPE_CANCEL,this.onSwipeCancel,this)),this.bgvideo&&(this.bgvideo.pause(),!this.autoPauseBgVid&&this.vinit&&(this.bgvideo.currentTime=0)),this.hasLayers&&this.layerController.hideLayers(),this.selected&&(this.selected=!1,this.$element.removeClass("ms-sl-selected"),this.video&&this.vplayed&&(this.__closeVideo(),this.roc=!1))},p.sleep=function(force){(!this.isSleeping||force)&&(this.isSleeping=!0,this.autoAppend&&this.$element.detach(),this.hasLayers&&this.layerController.onSlideSleep())},p.wakeup=function(){this.isSleeping&&(this.isSleeping=!1,this.autoAppend&&this.view.$slideCont.append(this.$element),this.moz&&this.$element.css("margin-top","0.1px"),this.setupBG(),this.hasBG&&this.bgAligner.align(),this.hasLayers&&this.layerController.onSlideWakeup())}}(window,document,jQuery),function($){"use strict";var SliderViewList={};window.MSSlideController=function(slider){this._delayProgress=0,this._timer=new averta.Timer(100),this._timer.onTimer=this.onTimer,this._timer.refrence=this,this.currentSlide=null,this.slider=slider,this.so=slider.options,averta.EventDispatcher.call(this)},MSSlideController.registerView=function(name,_class){if(name in SliderViewList)throw new Error(name+", is already registered.");SliderViewList[name]=_class},MSSlideController.SliderControlList={},MSSlideController.registerControl=function(name,_class){if(name in MSSlideController.SliderControlList)throw new Error(name+", is already registered.");MSSlideController.SliderControlList[name]=_class};var p=MSSlideController.prototype;p.setupView=function(){var that=this;this.resize_listener=function(){that.__resize()};var viewOptions={spacing:this.so.space,mouseSwipe:this.so.mouse,loop:this.so.loop,autoHeight:this.so.autoHeight,swipe:this.so.swipe,speed:this.so.speed,dir:this.so.dir,viewNum:this.so.inView,critMargin:this.so.critMargin};this.so.viewOptions&&$.extend(viewOptions,this.so.viewOptions),this.so.autoHeight&&(this.so.heightLimit=!1);var viewClass=SliderViewList[this.slider.options.view]||MSBasicView;if(!viewClass._3dreq||window._css3d&&!$.browser.msie||(viewClass=viewClass._fallback||MSBasicView),this.view=new viewClass(viewOptions),this.so.overPause){var that=this;this.slider.$element.mouseenter(function(){that.is_over=!0,that._stopTimer()}).mouseleave(function(){that.is_over=!1,that._startTimer()})}},p.onChangeStart=function(){this.change_started=!0,this.currentSlide&&this.currentSlide.unselect(),this.currentSlide=this.view.currentSlide,this.currentSlide.prepareToSelect(),this.so.endPause&&this.currentSlide.index===this.slider.slides.length-1&&(this.pause(),this.skipTimer()),this.so.autoHeight&&this.slider.setHeight(this.currentSlide.getHeight()),this.so.deepLink&&this.__updateWindowHash(),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.CHANGE_START))},p.onChangeEnd=function(){if(this.change_started=!1,this._startTimer(),this.currentSlide.select(),this.so.preload>1){var loc,i,slide,l=this.so.preload-1;for(i=1;l>=i;++i){if(loc=this.view.index+i,loc>=this.view.slideList.length){if(!this.so.loop){i=l;continue}loc-=this.view.slideList.length}slide=this.view.slideList[loc],slide&&slide.loadImages()}for(l>this.view.slideList.length/2&&(l=Math.floor(this.view.slideList.length/2)),i=1;l>=i;++i){if(loc=this.view.index-i,0>loc){if(!this.so.loop){i=l;continue}loc=this.view.slideList.length+loc}slide=this.view.slideList[loc],slide&&slide.loadImages()}}this.dispatchEvent(new MSSliderEvent(MSSliderEvent.CHANGE_END))},p.onSwipeStart=function(){this.skipTimer()},p.skipTimer=function(){this._timer.reset(),this._delayProgress=0,this.dispatchEvent(new MSSliderEvent(MSSliderEvent.WAITING))},p.onTimer=function(){if(this._timer.getTime()>=1e3*this.view.currentSlide.delay&&(this.skipTimer(),this.view.next(),this.hideCalled=!1),this._delayProgress=this._timer.getTime()/(10*this.view.currentSlide.delay),this.so.hideLayers&&!this.hideCalled&&1e3*this.view.currentSlide.delay-this._timer.getTime()<=300){var currentSlide=this.view.currentSlide;currentSlide.hasLayers&&currentSlide.layerController.animHideLayers(),this.hideCalled=!0}this.dispatchEvent(new MSSliderEvent(MSSliderEvent.WAITING))},p._stopTimer=function(){this._timer&&this._timer.stop()},p._startTimer=function(){this.paused||this.is_over||!this.currentSlide||!this.currentSlide.ready||this.change_started||this._timer.start()},p.__appendSlides=function(){var slide,loc,i=0,l=this.view.slideList.length-1;for(i;l>i;++i)slide=this.view.slideList[i],slide.detached||(slide.$element.detach(),slide.detached=!0);for(this.view.appendSlide(this.view.slideList[this.view.index]),l=3,i=1;l>=i;++i){if(loc=this.view.index+i,loc>=this.view.slideList.length){if(!this.so.loop){i=l;continue}loc-=this.view.slideList.length}slide=this.view.slideList[loc],slide.detached=!1,this.view.appendSlide(slide)}for(l>this.view.slideList.length/2&&(l=Math.floor(this.view.slideList.length/2)),i=1;l>=i;++i){if(loc=this.view.index-i,0>loc){if(!this.so.loop){i=l;continue}loc=this.view.slideList.length+loc}slide=this.view.slideList[loc],slide.detached=!1,this.view.appendSlide(slide)}},p.__resize=function(hard){this.created&&(this.width=this.slider.$element[0].clientWidth||this.so.width,this.so.fullwidth||(this.width=Math.min(this.width,this.so.width)),this.so.fullheight?(this.so.heightLimit=!1,this.so.autoHeight=!1,this.height=this.slider.$element[0].clientHeight):this.height=this.width/this.slider.aspect,this.so.autoHeight?(this.currentSlide.setSize(this.width,null,hard),this.view.setSize(this.width,this.currentSlide.getHeight(),hard)):this.view.setSize(this.width,Math.max(this.so.minHeight,this.so.heightLimit?Math.min(this.height,this.so.height):this.height),hard),this.slider.$controlsCont&&this.so.centerControls&&this.so.fullwidth&&this.view.$element.css("left",Math.min(0,-(this.slider.$element[0].clientWidth-this.so.width)/2)+"px"),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.RESIZE)))},p.__dispatchInit=function(){this.dispatchEvent(new MSSliderEvent(MSSliderEvent.INIT))},p.__updateWindowHash=function(){var hash=window.location.hash,dl=this.so.deepLink,dlt=this.so.deepLinkType,eq="path"===dlt?"/":"=",sep="path"===dlt?"/":"&",sliderHash=dl+eq+(this.view.index+1),regTest=new RegExp(dl+eq+"[0-9]+","g");window.location.hash=""===hash?sep+sliderHash:regTest.test(hash)?hash.replace(regTest,sliderHash):hash+sep+sliderHash},p.__curentSlideInHash=function(){var hash=window.location.hash,dl=this.so.deepLink,dlt=this.so.deepLinkType,eq="path"===dlt?"/":"=",regTest=new RegExp(dl+eq+"[0-9]+","g");if(regTest.test(hash)){var index=Number(hash.match(regTest)[0].match(/[0-9]+/g).pop());if(!isNaN(index))return index-1}return-1},p.__onHashChanged=function(){var index=this.__curentSlideInHash();-1!==index&&this.gotoSlide(index)},p.setup=function(){this.created=!0,this.paused=!this.so.autoplay,this.view.addEventListener(MSViewEvents.CHANGE_START,this.onChangeStart,this),this.view.addEventListener(MSViewEvents.CHANGE_END,this.onChangeEnd,this),this.view.addEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.currentSlide=this.view.slideList[this.so.start-1],this.__resize();var slideInHash=this.__curentSlideInHash(),startSlide=-1!==slideInHash?slideInHash:this.so.start-1;if(this.view.create(startSlide),0===this.so.preload&&this.view.slideList[0].loadImages(),this.scroller=this.view.controller,this.so.wheel){var that=this,last_time=(new Date).getTime();this.wheellistener=function(event){var e=window.event||event.orginalEvent||event;e.preventDefault();var current_time=(new Date).getTime();if(!(400>current_time-last_time)){last_time=current_time;var delta=Math.abs(e.detail||e.wheelDelta);$.browser.mozilla&&(delta*=100);var scrollThreshold=15;return e.detail<0||e.wheelDelta>0?delta>=scrollThreshold&&that.previous(!0):delta>=scrollThreshold&&that.next(!0),!1}},$.browser.mozilla?this.slider.$element[0].addEventListener("DOMMouseScroll",this.wheellistener):this.slider.$element.bind("mousewheel",this.wheellistener)}0===this.slider.$element[0].clientWidth&&(this.slider.init_safemode=!0),this.__resize();var that=this;this.so.deepLink&&$(window).on("hashchange",function(){that.__onHashChanged()})},p.index=function(){return this.view.index},p.count=function(){return this.view.slidesCount},p.next=function(checkLoop){this.skipTimer(),this.view.next(checkLoop)},p.previous=function(checkLoop){this.skipTimer(),this.view.previous(checkLoop)},p.gotoSlide=function(index){index=Math.min(index,this.count()-1),this.skipTimer(),this.view.gotoSlide(index)},p.destroy=function(reset){this.dispatchEvent(new MSSliderEvent(MSSliderEvent.DESTROY)),this.slider.destroy(reset)},p._destroy=function(){this._timer.reset(),this._timer=null,$(window).unbind("resize",this.resize_listener),this.view.destroy(),this.view=null,this.so.wheel&&($.browser.mozilla?this.slider.$element[0].removeEventListener("DOMMouseScroll",this.wheellistener):this.slider.$element.unbind("mousewheel",this.wheellistener),this.wheellistener=null),this.so=null},p.runAction=function(action){var actionParams=[];if(-1!==action.indexOf("(")){var temp=action.slice(0,action.indexOf("("));actionParams=action.slice(action.indexOf("(")+1,-1).replace(/\"|\'|\s/g,"").split(","),action=temp}action in this?this[action].apply(this,actionParams):console},p.update=function(hard){this.slider.init_safemode&&hard&&(this.slider.init_safemode=!1),this.__resize(hard),hard&&this.dispatchEvent(new MSSliderEvent(MSSliderEvent.HARD_UPDATE))},p.locate=function(){this.__resize()},p.resume=function(){this.paused&&(this.paused=!1,this._startTimer())},p.pause=function(){this.paused||(this.paused=!0,this._stopTimer())},p.currentTime=function(){return this._delayProgress},averta.EventDispatcher.extend(p)}(jQuery),function($){"use strict";var LayerTypes={image:MSImageLayerElement,text:MSLayerElement,video:MSVideoLayerElement,hotspot:MSHotspotLayer,button:MSButtonLayer};window.MasterSlider=function(){this.options={autoplay:!1,loop:!1,mouse:!0,swipe:!0,grabCursor:!0,space:0,fillMode:"fill",start:1,view:"basic",width:300,height:150,inView:15,critMargin:1,heightLimit:!0,smoothHeight:!0,autoHeight:!1,minHeight:-1,fullwidth:!1,fullheight:!1,autofill:!1,layersMode:"center",hideLayers:!1,endPause:!1,centerControls:!0,overPause:!0,shuffle:!1,speed:17,dir:"h",preload:0,wheel:!1,layout:"boxed",autofillTarget:null,fullscreenMargin:0,instantStartLayers:!1,parallaxMode:"mouse",rtl:!1,deepLink:null,deepLinkType:"path",disablePlugins:[]},this.slides=[],this.activePlugins=[],this.$element=null,this.lastMargin=0,this.leftSpace=0,this.topSpace=0,this.rightSpace=0,this.bottomSpace=0,this._holdOn=0;var that=this;this.resize_listener=function(){that._resize()},$(window).bind("resize",this.resize_listener)},MasterSlider.author="Averta Ltd. (www.averta.net)",MasterSlider.version="2.14.6",MasterSlider.releaseDate="May 2015",MasterSlider._plugins=[];var MS=MasterSlider;MS.registerPlugin=function(plugin){-1===MS._plugins.indexOf(plugin)&&MS._plugins.push(plugin)};var p=MasterSlider.prototype;p.__setupSlides=function(){var new_slide,that=this,ind=0;this.$element.children(".ms-slide").each(function(){var $slide_ele=$(this);new_slide=new MSSlide,new_slide.$element=$slide_ele,new_slide.slider=that,new_slide.delay=void 0!==$slide_ele.data("delay")?$slide_ele.data("delay"):3,new_slide.fillMode=void 0!==$slide_ele.data("fill-mode")?$slide_ele.data("fill-mode"):that.options.fillMode,new_slide.index=ind++;var slide_img=$slide_ele.children("img:not(.ms-layer)");slide_img.length>0&&new_slide.setBG(slide_img[0]);var slide_video=$slide_ele.children("video");if(slide_video.length>0&&new_slide.setBGVideo(slide_video),that.controls)for(var i=0,l=that.controls.length;l>i;++i)that.controls[i].slideAction(new_slide);$slide_ele.children("a").each(function(){var $this=$(this);"video"===this.getAttribute("data-type")?(new_slide.video=this.getAttribute("href"),new_slide.videoAutoPlay=$this.data("autoplay"),$this.remove()):$this.hasClass("ms-layer")||(new_slide.link=$(this))});that.__createSlideLayers(new_slide,$slide_ele.find(".ms-layer")),that.slides.push(new_slide),that.slideController.view.addSlide(new_slide)})},p.__createSlideLayers=function(slide,layers){0!=layers.length&&(slide.setupLayerController(),layers.each(function(index,domEle){var $parent_ele,$layer_element=$(this);"A"===domEle.nodeName&&"image"===$layer_element.find(">img").data("type")&&($parent_ele=$(this),$layer_element=$parent_ele.find("img"));var layer=new(LayerTypes[$layer_element.data("type")||"text"]);layer.$element=$layer_element,layer.link=$parent_ele;var eff_parameters={},end_eff_parameters={};void 0!==$layer_element.data("effect")&&(eff_parameters.name=$layer_element.data("effect")),void 0!==$layer_element.data("ease")&&(eff_parameters.ease=$layer_element.data("ease")),void 0!==$layer_element.data("duration")&&(eff_parameters.duration=$layer_element.data("duration")),void 0!==$layer_element.data("delay")&&(eff_parameters.delay=$layer_element.data("delay")),$layer_element.data("hide-effect")&&(end_eff_parameters.name=$layer_element.data("hide-effect")),$layer_element.data("hide-ease")&&(end_eff_parameters.ease=$layer_element.data("hide-ease")),void 0!==$layer_element.data("hide-duration")&&(end_eff_parameters.duration=$layer_element.data("hide-duration")),void 0!==$layer_element.data("hide-time")&&(end_eff_parameters.time=$layer_element.data("hide-time")),layer.setStartAnim(eff_parameters),layer.setEndAnim(end_eff_parameters),slide.layerController.addLayer(layer)}))},p._removeLoading=function(){$(window).unbind("resize",this.resize_listener),this.$element.removeClass("before-init").css("visibility","visible").css("height","").css("opacity",0),CTween.fadeIn(this.$element),this.$loading.remove(),this.slideController&&this.slideController.__resize()},p._resize=function(){if(this.$loading){var h=this.$loading[0].clientWidth/this.aspect;h=this.options.heightLimit?Math.min(h,this.options.height):h,this.$loading.height(h),this.$element.height(h)}},p._shuffleSlides=function(){for(var r,slides=this.$element.children(".ms-slide"),i=0,l=slides.length;l>i;++i)r=Math.floor(Math.random()*(l-1)),i!=r&&(this.$element[0].insertBefore(slides[i],slides[r]),slides=this.$element.children(".ms-slide"))},p._setupSliderLayout=function(){this._updateSideMargins(),this.lastMargin=this.leftSpace;var lo=this.options.layout;"boxed"!==lo&&"partialview"!==lo&&(this.options.fullwidth=!0),("fullscreen"===lo||"autofill"===lo)&&(this.options.fullheight=!0,"autofill"===lo&&(this.$autofillTarget=$(this.options.autofillTarget),0===this.$autofillTarget.length&&(this.$autofillTarget=this.$element.parent()))),"partialview"===lo&&this.$element.addClass("ms-layout-partialview"),("fullscreen"===lo||"fullwidth"===lo||"autofill"===lo)&&($(window).bind("resize",{that:this},this._updateLayout),this._updateLayout()),$(window).bind("resize",this.slideController.resize_listener)},p._updateLayout=function(event){var that=event?event.data.that:this,lo=that.options.layout,$element=that.$element,$win=$(window);if("fullscreen"===lo)document.body.style.overflow="hidden",$element.height($win.height()-that.options.fullscreenMargin-that.topSpace-that.bottomSpace),document.body.style.overflow="";else if("autofill"===lo)return void $element.height(that.$autofillTarget.height()-that.options.fullscreenMargin-that.topSpace-that.bottomSpace).width(that.$autofillTarget.width()-that.leftSpace-that.rightSpace);$element.width($win.width()-that.leftSpace-that.rightSpace);var margin=-$element.offset().left+that.leftSpace+that.lastMargin;$element.css("margin-left",margin),that.lastMargin=margin},p._init=function(){if(!(this._holdOn>0)&&this._docReady){if(this.initialized=!0,"all"!==this.options.preload&&this._removeLoading(),this.options.shuffle&&this._shuffleSlides(),MSLayerEffects.setup(),this.slideController.setupView(),this.view=this.slideController.view,this.$controlsCont=$("<div></div>").addClass("ms-inner-controls-cont"),this.options.centerControls&&this.$controlsCont.css("max-width",this.options.width+"px"),this.$controlsCont.prepend(this.view.$element),this.$msContainer=$("<div></div>").addClass("ms-container").prependTo(this.$element).append(this.$controlsCont),this.controls)for(var i=0,l=this.controls.length;l>i;++i)this.controls[i].setup();if(this._setupSliderLayout(),this.__setupSlides(),this.slideController.setup(),this.controls)for(i=0,l=this.controls.length;l>i;++i)this.controls[i].create();if(this.options.autoHeight&&this.slideController.view.$element.height(this.slideController.currentSlide.getHeight()),this.options.swipe&&!window._touch&&this.options.grabCursor&&this.options.mouse){var $view=this.view.$element;$view.mousedown(function(){$view.removeClass("ms-grab-cursor"),$view.addClass("ms-grabbing-cursor"),$.browser.msie&&window.ms_grabbing_curosr&&($view[0].style.cursor="url("+window.ms_grabbing_curosr+"), move")}).addClass("ms-grab-cursor"),$(document).mouseup(function(){$view.removeClass("ms-grabbing-cursor"),$view.addClass("ms-grab-cursor"),$.browser.msie&&window.ms_grab_curosr&&($view[0].style.cursor="url("+window.ms_grab_curosr+"), move")})}this.slideController.__dispatchInit()}},p.setHeight=function(value){this.options.smoothHeight?(this.htween&&(this.htween.reset?this.htween.reset():this.htween.stop(!0)),this.htween=CTween.animate(this.slideController.view.$element,500,{height:value},{ease:"easeOutQuart"})):this.slideController.view.$element.height(value)},p.reserveSpace=function(side,space){var sideSpace=side+"Space",pos=this[sideSpace];return this[sideSpace]+=space,this._updateSideMargins(),pos},p._updateSideMargins=function(){this.$element.css("margin",this.topSpace+"px "+this.rightSpace+"px "+this.bottomSpace+"px "+this.leftSpace+"px")},p._realignControls=function(){this.rightSpace=this.leftSpace=this.topSpace=this.bottomSpace=0,this._updateSideMargins(),this.api.dispatchEvent(new MSSliderEvent(MSSliderEvent.RESERVED_SPACE_CHANGE))},p.control=function(control,options){if(control in MSSlideController.SliderControlList){this.controls||(this.controls=[]);var ins=new MSSlideController.SliderControlList[control](options);return ins.slider=this,this.controls.push(ins),this}},p.holdOn=function(){this._holdOn++},p.release=function(){this._holdOn--,this._init()},p.setup=function(target,options){if(this.$element="string"==typeof target?$("#"+target):target.eq(0),this.setupMarkup=this.$element.html(),0!==this.$element.length){this.$element.addClass("master-slider").addClass("before-init"),$.browser.msie?this.$element.addClass("ms-ie").addClass("ms-ie"+$.browser.version.slice(0,$.browser.version.indexOf("."))):$.browser.webkit?this.$element.addClass("ms-wk"):$.browser.mozilla&&this.$element.addClass("ms-moz");var ua=navigator.userAgent.toLowerCase(),isAndroid=ua.indexOf("android")>-1;isAndroid&&this.$element.addClass("ms-android");var that=this;$.extend(this.options,options),this.aspect=this.options.width/this.options.height,this.$loading=$("<div></div>").addClass("ms-loading-container").insertBefore(this.$element).append($("<div></div>").addClass("ms-loading")),this.$loading.parent().css("position","relative"),this.options.autofill&&(this.options.fullwidth=!0,this.options.fullheight=!0),this.options.fullheight&&this.$element.addClass("ms-fullheight"),this._resize(),this.slideController=new MSSlideController(this),this.api=this.slideController;for(var i=0,l=MS._plugins.length;i!==l;i++){var plugin=MS._plugins[i];-1===this.options.disablePlugins.indexOf(plugin.name)&&this.activePlugins.push(new plugin(this))}return $(document).ready(function(){that._docReady=!0,that._init()}),this}},p.destroy=function(insertMarkup){for(var i=0,l=this.activePlugins.length;i!==l;i++)this.activePlugins[i].destroy();if(this.controls)for(i=0,l=this.controls.length;i!==l;i++)this.controls[i].destroy();this.slideController&&this.slideController._destroy(),this.$loading&&this.$loading.remove(),insertMarkup?this.$element.html(this.setupMarkup).css("visibility","hidden"):this.$element.remove();var lo=this.options.layout;("fullscreen"===lo||"fullwidth"===lo)&&$(window).unbind("resize",this._updateLayout),this.view=null,this.slides=null,this.options=null,this.slideController=null,this.api=null,this.resize_listener=null,this.activePlugins=null}}(jQuery),function($,window,document,undefined){function MasterSliderPlugin(element,options){this.element=element,this.$element=$(element),this.settings=$.extend({},defaults,options),this._defaults=defaults,this._name=pluginName,this.init()}var pluginName="masterslider",defaults={controls:{}};$.extend(MasterSliderPlugin.prototype,{init:function(){var self=this;this._slider=new MasterSlider;for(var control in this.settings.controls)this._slider.control(control,this.settings.controls[control]);this._slider.setup(this.$element,this.settings);var _superDispatch=this._slider.api.dispatchEvent;this._slider.api.dispatchEvent=function(event){self.$element.trigger(event.type),_superDispatch.call(this,event)}},api:function(){return this._slider.api},slider:function(){return this._slider}}),$.fn[pluginName]=function(options){var args=arguments,plugin="plugin_"+pluginName;if(options===undefined||"object"==typeof options)return this.each(function(){$.data(this,plugin)||$.data(this,plugin,new MasterSliderPlugin(this,options))});if("string"==typeof options&&"_"!==options[0]&&"init"!==options){var returns;return this.each(function(){var instance=$.data(this,plugin);instance instanceof MasterSliderPlugin&&"function"==typeof instance[options]&&(returns=instance[options].apply(instance,Array.prototype.slice.call(args,1))),instance instanceof MasterSliderPlugin&&"function"==typeof instance._slider.api[options]&&(returns=instance._slider.api[options].apply(instance._slider.api,Array.prototype.slice.call(args,1))),"destroy"===options&&$.data(this,plugin,null)}),returns!==undefined?returns:this}}}(jQuery,window,document),window.MSViewEvents=function(type,data){this.type=type,this.data=data},MSViewEvents.SWIPE_START="swipeStart",MSViewEvents.SWIPE_END="swipeEnd",MSViewEvents.SWIPE_MOVE="swipeMove",MSViewEvents.SWIPE_CANCEL="swipeCancel",MSViewEvents.SCROLL="scroll",MSViewEvents.CHANGE_START="slideChangeStart",MSViewEvents.CHANGE_END="slideChangeEnd",function($){"use strict";window.MSBasicView=function(options){this.options={loop:!1,dir:"h",autoHeight:!1,spacing:5,mouseSwipe:!0,swipe:!0,speed:17,minSlideSpeed:2,viewNum:20,critMargin:1},$.extend(this.options,options),this.dir=this.options.dir,this.loop=this.options.loop,this.spacing=this.options.spacing,this.__width=0,this.__height=0,this.__cssProb="h"===this.dir?"left":"top",this.__offset="h"===this.dir?"offsetLeft":"offsetTop",this.__dimension="h"===this.dir?"__width":"__height",this.__translate_end=window._css3d?" translateZ(0px)":"",this.$slideCont=$("<div></div>").addClass("ms-slide-container"),this.$element=$("<div></div>").addClass("ms-view").addClass("ms-basic-view").append(this.$slideCont),this.currentSlide=null,this.index=-1,this.slidesCount=0,this.slides=[],this.slideList=[],this.viewSlidesList=[],this.css3=window._cssanim,this.start_buffer=0,this.firstslide_snap=0,this.slideChanged=!1,this.controller=new Controller(0,0,{snapping:!0,snapsize:100,paging:!0,snappingMinSpeed:this.options.minSlideSpeed,friction:(100-.5*this.options.speed)/100,endless:this.loop}),this.controller.renderCallback("h"===this.dir?this._horizUpdate:this._vertiUpdate,this),this.controller.snappingCallback(this.__snapUpdate,this),this.controller.snapCompleteCallback(this.__snapCompelet,this),averta.EventDispatcher.call(this)};var p=MSBasicView.prototype;p.__snapCompelet=function(){this.slideChanged&&(this.slideChanged=!1,this.__locateSlides(),this.start_buffer=0,this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_END)))},p.__snapUpdate=function(controller,snap,change){if(this.loop){var target_index=this.index+change;this.updateLoop(target_index),target_index>=this.slidesCount&&(target_index-=this.slidesCount),0>target_index&&(target_index=this.slidesCount+target_index),this.index=target_index}else{if(0>snap||snap>=this.slidesCount)return;this.index=snap}this._checkCritMargins(),$.browser.mozilla&&(this.slideList[this.index].$element[0].style.marginTop="0.1px",this.currentSlide&&(this.currentSlide.$element[0].style.marginTop=""));var new_slide=this.slideList[this.index];new_slide!==this.currentSlide&&(this.currentSlide=new_slide,this.autoUpdateZIndex&&this.__updateSlidesZindex(),this.slideChanged=!0,this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_START)))},p._checkCritMargins=function(){if(!this.normalMode){var hlf=Math.floor(this.options.viewNum/2),inView=this.viewSlidesList.indexOf(this.slideList[this.index]),size=this[this.__dimension]+this.spacing,cm=this.options.critMargin;return this.loop?void((cm>=inView||inView>=this.viewSlidesList.length-cm)&&(size*=inView-hlf,this.__locateSlides(!1,size+this.start_buffer),this.start_buffer+=size)):void((cm>inView&&this.index>=cm||inView>=this.viewSlidesList.length-cm&&this.index<this.slidesCount-cm)&&this.__locateSlides(!1))}},p._vertiUpdate=function(controller,value){return this.__contPos=value,this.dispatchEvent(new MSViewEvents(MSViewEvents.SCROLL)),this.css3?void(this.$slideCont[0].style[window._jcsspfx+"Transform"]="translateY("+-value+"px)"+this.__translate_end):void(this.$slideCont[0].style.top=-value+"px")},p._horizUpdate=function(controller,value){return this.__contPos=value,this.dispatchEvent(new MSViewEvents(MSViewEvents.SCROLL)),this.css3?void(this.$slideCont[0].style[window._jcsspfx+"Transform"]="translateX("+-value+"px)"+this.__translate_end):void(this.$slideCont[0].style.left=-value+"px")},p.__updateViewList=function(){if(this.normalMode)return void(this.viewSlidesList=this.slides);var temp=this.viewSlidesList.slice();this.viewSlidesList=[];var l,i=0,hlf=Math.floor(this.options.viewNum/2);if(this.loop)for(;i!==this.options.viewNum;i++)this.viewSlidesList.push(this.slides[this.currentSlideLoc-hlf+i]);else{for(i=0;i!==hlf&&this.index-i!==-1;i++)this.viewSlidesList.unshift(this.slideList[this.index-i]);for(i=1;i!==hlf&&this.index+i!==this.slidesCount;i++)this.viewSlidesList.push(this.slideList[this.index+i])}for(i=0,l=temp.length;i!==l;i++)-1===this.viewSlidesList.indexOf(temp[i])&&temp[i].sleep();temp=null,this.currentSlide&&this.__updateSlidesZindex()},p.__locateSlides=function(move,start){this.__updateViewList(),start=this.loop?start||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(var slide,l=this.viewSlidesList.length,i=0;i!==l;i++){var pos=start+i*(this[this.__dimension]+this.spacing);slide=this.viewSlidesList[i],slide.wakeup(),slide.position=pos,slide.$element[0].style[this.__cssProb]=pos+"px"}move!==!1&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},p.__createLoopList=function(){var return_arr=[],i=0,count=this.slidesCount/2,before_count=this.slidesCount%2===0?count-1:Math.floor(count),after_count=this.slidesCount%2===0?count:Math.floor(count);for(this.currentSlideLoc=before_count,i=1;before_count>=i;++i)return_arr.unshift(this.slideList[this.index-i<0?this.slidesCount-i+this.index:this.index-i]);for(return_arr.push(this.slideList[this.index]),i=1;after_count>=i;++i)return_arr.push(this.slideList[this.index+i>=this.slidesCount?this.index+i-this.slidesCount:this.index+i]);return return_arr},p.__getSteps=function(index,target){var right=index>target?this.slidesCount-index+target:target-index,left=Math.abs(this.slidesCount-right);return left>right?right:-left},p.__pushEnd=function(){var first_slide=this.slides.shift(),last_slide=this.slides[this.slidesCount-2];if(this.slides.push(first_slide),this.normalMode){var pos=last_slide.$element[0][this.__offset]+this.spacing+this[this.__dimension];first_slide.$element[0].style[this.__cssProb]=pos+"px",first_slide.position=pos}},p.__pushStart=function(){var last_slide=this.slides.pop(),first_slide=this.slides[0];if(this.slides.unshift(last_slide),this.normalMode){var pos=first_slide.$element[0][this.__offset]-this.spacing-this[this.__dimension];last_slide.$element[0].style[this.__cssProb]=pos+"px",last_slide.position=pos}},p.__updateSlidesZindex=function(){{var slide,l=this.viewSlidesList.length;Math.floor(l/2)}if(this.loop)for(var loc=this.viewSlidesList.indexOf(this.currentSlide),i=0;i!==l;i++)slide=this.viewSlidesList[i],this.viewSlidesList[i].$element.css("z-index",loc>=i?i+1:l-i);
else{for(var beforeNum=this.currentSlide.index-this.viewSlidesList[0].index,i=0;i!==l;i++)this.viewSlidesList[i].$element.css("z-index",beforeNum>=i?i+1:l-i);this.currentSlide.$element.css("z-index",l)}},p.addSlide=function(slide){slide.view=this,this.slides.push(slide),this.slideList.push(slide),this.slidesCount++},p.appendSlide=function(slide){this.$slideCont.append(slide.$element)},p.updateLoop=function(index){if(this.loop)for(var steps=this.__getSteps(this.index,index),i=0,l=Math.abs(steps);l>i;++i)0>steps?this.__pushStart():this.__pushEnd()},p.gotoSlide=function(index,fast){this.updateLoop(index),this.index=index;var target_slide=this.slideList[index];this._checkCritMargins(),this.controller.changeTo(target_slide.position,!fast,null,null,!1),target_slide!==this.currentSlide&&(this.slideChanged=!0,this.currentSlide=target_slide,this.autoUpdateZIndex&&this.__updateSlidesZindex(),this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_START)),fast&&this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_END)))},p.next=function(checkLoop){return checkLoop&&!this.loop&&this.index+1>=this.slidesCount?void this.controller.bounce(10):void this.gotoSlide(this.index+1>=this.slidesCount?0:this.index+1)},p.previous=function(checkLoop){return checkLoop&&!this.loop&&this.index-1<0?void this.controller.bounce(-10):void this.gotoSlide(this.index-1<0?this.slidesCount-1:this.index-1)},p.setupSwipe=function(){this.swipeControl=new averta.TouchSwipe(this.$element),this.swipeControl.swipeType="h"===this.dir?"horizontal":"vertical";var that=this;this.swipeControl.onSwipe="h"===this.dir?function(status){that.horizSwipeMove(status)}:function(status){that.vertSwipeMove(status)}},p.vertSwipeMove=function(status){var phase=status.phase;if("start"===phase)this.controller.stop(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_START,status));else if("move"===phase&&(!this.loop||Math.abs(this.currentSlide.position-this.controller.value+status.moveY)<this.cont_size/2))this.controller.drag(status.moveY),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_MOVE,status));else if("end"===phase||"cancel"===phase){var speed=status.distanceY/status.duration*50/3;Math.abs(speed)>.1?(this.controller.push(-speed),speed>this.controller.options.snappingMinSpeed&&this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_END,status))):(this.controller.cancel(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_CANCEL,status)))}},p.horizSwipeMove=function(status){var phase=status.phase;if("start"===phase)this.controller.stop(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_START,status));else if("move"===phase&&(!this.loop||Math.abs(this.currentSlide.position-this.controller.value+status.moveX)<this.cont_size/2))this.controller.drag(status.moveX),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_MOVE,status));else if("end"===phase||"cancel"===phase){var speed=status.distanceX/status.duration*50/3;Math.abs(speed)>.1?(this.controller.push(-speed),speed>this.controller.options.snappingMinSpeed&&this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_END,status))):(this.controller.cancel(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_CANCEL,status)))}},p.setSize=function(width,height,hard){if(this.lastWidth!==width||height!==this.lastHeight||hard){this.$element.width(width).height(height);for(var i=0;i<this.slidesCount;++i)this.slides[i].setSize(width,height,hard);this.__width=width,this.__height=height,this.__created&&(this.__locateSlides(),this.cont_size=(this.slidesCount-1)*(this[this.__dimension]+this.spacing),this.loop||(this.controller._max_value=this.cont_size),this.controller.options.snapsize=this[this.__dimension]+this.spacing,this.controller.changeTo(this.currentSlide.position,!1,null,null,!1),this.controller.cancel(),this.lastWidth=width,this.lastHeight=height)}},p.create=function(index){this.__created=!0,this.index=Math.min(index||0,this.slidesCount-1),this.lastSnap=this.index,this.loop&&(this.slides=this.__createLoopList()),this.normalMode=this.slidesCount<=this.options.viewNum;for(var i=0;i<this.slidesCount;++i)this.slides[i].create();this.__locateSlides(),this.controller.options.snapsize=this[this.__dimension]+this.spacing,this.loop||(this.controller._max_value=(this.slidesCount-1)*(this[this.__dimension]+this.spacing)),this.gotoSlide(this.index,!0),this.options.swipe&&(window._touch||this.options.mouseSwipe)&&this.setupSwipe()},p.destroy=function(){if(this.__created){for(var i=0;i<this.slidesCount;++i)this.slides[i].destroy();this.slides=null,this.slideList=null,this.$element.remove(),this.controller.destroy(),this.controller=null}},averta.EventDispatcher.extend(p),MSSlideController.registerView("basic",MSBasicView)}(jQuery),function(){"use strict";window.MSWaveView=function(options){MSBasicView.call(this,options),this.$element.removeClass("ms-basic-view").addClass("ms-wave-view"),this.$slideCont.css(window._csspfx+"transform-style","preserve-3d"),this.autoUpdateZIndex=!0},MSWaveView.extend(MSBasicView),MSWaveView._3dreq=!0,MSWaveView._fallback=MSBasicView;var p=MSWaveView.prototype,_super=MSBasicView.prototype;p._horizUpdate=function(controller,value){_super._horizUpdate.call(this,controller,value);for(var slide,distance,cont_scroll=-value,i=0;i<this.slidesCount;++i)slide=this.slideList[i],distance=-cont_scroll-slide.position,this.__updateSlidesHoriz(slide,distance)},p._vertiUpdate=function(controller,value){_super._vertiUpdate.call(this,controller,value);for(var slide,distance,cont_scroll=-value,i=0;i<this.slidesCount;++i)slide=this.slideList[i],distance=-cont_scroll-slide.position,this.__updateSlidesVertic(slide,distance)},p.__updateSlidesHoriz=function(slide,distance){var value=Math.abs(100*distance/this.__width);slide.$element.css(window._csspfx+"transform","translateZ("+3*-value+"px) rotateY(0.01deg)")},p.__updateSlidesVertic=function(slide,distance){this.__updateSlidesHoriz(slide,distance)},MSSlideController.registerView("wave",MSWaveView)}(jQuery),function(){window.MSFadeBasicView=function(options){MSWaveView.call(this,options),this.$element.removeClass("ms-wave-view").addClass("ms-fade-basic-view")},MSFadeBasicView.extend(MSWaveView);{var p=MSFadeBasicView.prototype;MSFadeBasicView.prototype}p.__updateSlidesHoriz=function(slide,distance){var value=Math.abs(.6*distance/this.__width);value=1-Math.min(value,.6),slide.$element.css("opacity",value)},p.__updateSlidesVertic=function(slide,distance){this.__updateSlidesHoriz(slide,distance)},MSSlideController.registerView("fadeBasic",MSFadeBasicView),MSWaveView._fallback=MSFadeBasicView}(),function(){window.MSFadeWaveView=function(options){MSWaveView.call(this,options),this.$element.removeClass("ms-wave-view").addClass("ms-fade-wave-view")},MSFadeWaveView.extend(MSWaveView),MSFadeWaveView._3dreq=!0,MSFadeWaveView._fallback=MSFadeBasicView;{var p=MSFadeWaveView.prototype;MSWaveView.prototype}p.__updateSlidesHoriz=function(slide,distance){var value=Math.abs(100*distance/this.__width);value=Math.min(value,100),slide.$element.css("opacity",1-value/300),slide.$element[0].style[window._jcsspfx+"Transform"]="scale("+(1-value/800)+") rotateY(0.01deg) "},p.__updateSlidesVertic=function(slide,distance){this.__updateSlidesHoriz(slide,distance)},MSSlideController.registerView("fadeWave",MSFadeWaveView)}(),function(){"use strict";window.MSFlowView=function(options){MSWaveView.call(this,options),this.$element.removeClass("ms-wave-view").addClass("ms-flow-view")},MSFlowView.extend(MSWaveView),MSFlowView._3dreq=!0,MSFlowView._fallback=MSFadeBasicView;{var p=MSFlowView.prototype;MSWaveView.prototype}p.__updateSlidesHoriz=function(slide,distance){var value=Math.abs(100*distance/this.__width),rvalue=Math.min(.3*value,30)*(0>distance?-1:1),zvalue=1.2*value;slide.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+5*-zvalue+"px) rotateY("+rvalue+"deg) "},p.__updateSlidesVertic=function(slide,distance){var value=Math.abs(100*distance/this.__width),rvalue=Math.min(.3*value,30)*(0>distance?-1:1),zvalue=1.2*value;slide.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+5*-zvalue+"px) rotateX("+-rvalue+"deg) "},MSSlideController.registerView("flow",MSFlowView)}(jQuery),function(){window.MSFadeFlowView=function(options){MSWaveView.call(this,options),this.$element.removeClass("ms-wave-view").addClass("ms-fade-flow-view")},MSFadeFlowView.extend(MSWaveView),MSFadeFlowView._3dreq=!0;{var p=MSFadeFlowView.prototype;MSWaveView.prototype}p.__calculate=function(distance){var value=Math.min(Math.abs(100*distance/this.__width),100),rvalue=Math.min(.5*value,50)*(0>distance?-1:1);return{value:value,rvalue:rvalue}},p.__updateSlidesHoriz=function(slide,distance){var clc=this.__calculate(distance);slide.$element.css("opacity",1-clc.value/300),slide.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+-clc.value+"px) rotateY("+clc.rvalue+"deg) "},p.__updateSlidesVertic=function(slide,distance){var clc=this.__calculate(distance);slide.$element.css("opacity",1-clc.value/300),slide.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+-clc.value+"px) rotateX("+-clc.rvalue+"deg) "},MSSlideController.registerView("fadeFlow",MSFadeFlowView)}(),function($){"use strict";window.MSMaskView=function(options){MSBasicView.call(this,options),this.$element.removeClass("ms-basic-view").addClass("ms-mask-view")},MSMaskView.extend(MSBasicView);var p=MSMaskView.prototype,_super=MSBasicView.prototype;p.addSlide=function(slide){slide.view=this,slide.$frame=$("<div></div>").addClass("ms-mask-frame").append(slide.$element),slide.$element[0].style.position="relative",slide.autoAppend=!1,this.slides.push(slide),this.slideList.push(slide),this.slidesCount++},p.setSize=function(width,height){for(var slider=this.slides[0].slider,i=0;i<this.slidesCount;++i)this.slides[i].$frame[0].style.width=width+"px",slider.options.autoHeight||(this.slides[i].$frame[0].style.height=height+"px");_super.setSize.call(this,width,height)},p._horizUpdate=function(controller,value){_super._horizUpdate.call(this,controller,value);var i=0;if(this.css3)for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style[window._jcsspfx+"Transform"]="translateX("+(value-this.slideList[i].position)+"px)"+this.__translate_end;else for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style.left=value-this.slideList[i].position+"px"},p._vertiUpdate=function(controller,value){_super._vertiUpdate.call(this,controller,value);var i=0;if(this.css3)for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style[window._jcsspfx+"Transform"]="translateY("+(value-this.slideList[i].position)+"px)"+this.__translate_end;else for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style.top=value-this.slideList[i].position+"px"},p.__pushEnd=function(){var first_slide=this.slides.shift(),last_slide=this.slides[this.slidesCount-2];if(this.slides.push(first_slide),this.normalMode){var pos=last_slide.$frame[0][this.__offset]+this.spacing+this[this.__dimension];first_slide.$frame[0].style[this.__cssProb]=pos+"px",first_slide.position=pos}},p.__pushStart=function(){var last_slide=this.slides.pop(),first_slide=this.slides[0];if(this.slides.unshift(last_slide),this.normalMode){var pos=first_slide.$frame[0][this.__offset]-this.spacing-this[this.__dimension];last_slide.$frame[0].style[this.__cssProb]=pos+"px",last_slide.position=pos}},p.__updateViewList=function(){if(this.normalMode)return void(this.viewSlidesList=this.slides);var temp=this.viewSlidesList.slice();this.viewSlidesList=[];var l,i=0,hlf=Math.floor(this.options.viewNum/2);if(this.loop)for(;i!==this.options.viewNum;i++)this.viewSlidesList.push(this.slides[this.currentSlideLoc-hlf+i]);else{for(i=0;i!==hlf&&this.index-i!==-1;i++)this.viewSlidesList.unshift(this.slideList[this.index-i]);for(i=1;i!==hlf&&this.index+i!==this.slidesCount;i++)this.viewSlidesList.push(this.slideList[this.index+i])}for(i=0,l=temp.length;i!==l;i++)-1===this.viewSlidesList.indexOf(temp[i])&&(temp[i].sleep(),temp[i].$frame.detach());temp=null},p.__locateSlides=function(move,start){this.__updateViewList(),start=this.loop?start||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(var slide,l=this.viewSlidesList.length,i=0;i!==l;i++){var pos=start+i*(this[this.__dimension]+this.spacing);if(slide=this.viewSlidesList[i],this.$slideCont.append(slide.$frame),slide.wakeup(!1),slide.position=pos,slide.selected&&slide.bgvideo)try{slide.bgvideo.play()}catch(e){}slide.$frame[0].style[this.__cssProb]=pos+"px"}move!==!1&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},MSSlideController.registerView("mask",MSMaskView)}(jQuery),function(){"use strict";window.MSParallaxMaskView=function(options){MSMaskView.call(this,options),this.$element.removeClass("ms-basic-view").addClass("ms-parallax-mask-view")},MSParallaxMaskView.extend(MSMaskView),MSParallaxMaskView.parallaxAmount=.5;var p=MSParallaxMaskView.prototype,_super=MSBasicView.prototype;p._horizUpdate=function(controller,value){_super._horizUpdate.call(this,controller,value);var i=0;if(this.css3)for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style[window._jcsspfx+"Transform"]="translateX("+(value-this.slideList[i].position)*MSParallaxMaskView.parallaxAmount+"px)"+this.__translate_end;else for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style.left=(value-this.slideList[i].position)*MSParallaxMaskView.parallaxAmount+"px"},p._vertiUpdate=function(controller,value){_super._vertiUpdate.call(this,controller,value);var i=0;if(this.css3)for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style[window._jcsspfx+"Transform"]="translateY("+(value-this.slideList[i].position)*MSParallaxMaskView.parallaxAmount+"px)"+this.__translate_end;else for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style.top=(value-this.slideList[i].position)*MSParallaxMaskView.parallaxAmount+"px"},MSSlideController.registerView("parallaxMask",MSParallaxMaskView)}(jQuery),function(){"use strict";window.MSFadeView=function(options){MSBasicView.call(this,options),this.$element.removeClass("ms-basic-view").addClass("ms-fade-view"),this.controller.renderCallback(this.__update,this)},MSFadeView.extend(MSBasicView);var p=MSFadeView.prototype,_super=MSBasicView.prototype;p.__update=function(controller,value){for(var slide,distance,cont_scroll=-value,i=0;i<this.slidesCount;++i)slide=this.slideList[i],distance=-cont_scroll-slide.position,this.__updateSlides(slide,distance)},p.__updateSlides=function(slide,distance){var value=Math.abs(distance/this[this.__dimension]);0>=1-value?slide.$element.fadeTo(0,0).css("visibility","hidden"):slide.$element.fadeTo(0,1-value).css("visibility","")},p.__locateSlides=function(move,start){this.__updateViewList(),start=this.loop?start||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(var slide,l=this.viewSlidesList.length,i=0;i!==l;i++){var pos=start+i*this[this.__dimension];slide=this.viewSlidesList[i],slide.wakeup(),slide.position=pos}move!==!1&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},p.__pushEnd=function(){var first_slide=this.slides.shift(),last_slide=this.slides[this.slidesCount-2];this.slides.push(first_slide),first_slide.position=last_slide.position+this[this.__dimension]},p.__pushStart=function(){var last_slide=this.slides.pop(),first_slide=this.slides[0];this.slides.unshift(last_slide),last_slide.position=first_slide.position-this[this.__dimension]},p.create=function(index){_super.create.call(this,index),this.spacing=0,this.controller.options.minValidDist=10},MSSlideController.registerView("fade",MSFadeView)}(jQuery),function(){"use strict";window.MSScaleView=function(options){MSBasicView.call(this,options),this.$element.removeClass("ms-basic-view").addClass("ms-scale-view"),this.controller.renderCallback(this.__update,this)},MSScaleView.extend(MSFadeView);var p=MSScaleView.prototype,_super=MSFadeView.prototype;p.__updateSlides=function(slide,distance){var value=Math.abs(distance/this[this.__dimension]),element=slide.$element[0];0>=1-value?(element.style.opacity=0,element.style.visibility="hidden",element.style[window._jcsspfx+"Transform"]=""):(element.style.opacity=1-value,element.style.visibility="",element.style[window._jcsspfx+"Transform"]="perspective(2000px) translateZ("+value*(0>distance?-.5:.5)*300+"px)")},p.create=function(index){_super.create.call(this,index),this.controller.options.minValidDist=.03},MSSlideController.registerView("scale",MSScaleView)}(jQuery),function(){"use strict";window.MSStackView=function(options){MSBasicView.call(this,options),this.$element.removeClass("ms-basic-view").addClass("ms-stack-view"),this.controller.renderCallback(this.__update,this),this.autoUpdateZIndex=!0},MSStackView.extend(MSFadeView),MSStackView._3dreq=!0,MSStackView._fallback=MSFadeView;var p=MSStackView.prototype,_super=MSFadeView.prototype;p.__updateSlidesZindex=function(){for(var slide,l=this.viewSlidesList.length,i=0;i!==l;i++)slide=this.viewSlidesList[i],this.viewSlidesList[i].$element.css("z-index",l-i)},p.__updateSlides=function(slide,distance){var value=Math.abs(distance/this[this.__dimension]),element=slide.$element[0];0>=1-value?(element.style.opacity=1,element.style.visibility="hidden",element.style[window._jcsspfx+"Transform"]=""):(element.style.visibility="",element.style[window._jcsspfx+"Transform"]=0>distance?"perspective(2000px) translateZ("+-300*value+"px)":this.__translate+"("+-value*this[this.__dimension]+"px)")},p.create=function(index){_super.create.call(this,index),this.controller.options.minValidDist=.03,this.__translate="h"===this.dir?"translateX":"translateY"},MSSlideController.registerView("stack",MSStackView)}(jQuery),function(){"use strict";var perspective=2e3;window.MSFocusView=function(options){MSWaveView.call(this,options),this.$element.removeClass("ms-wave-view").addClass("ms-focus-view"),this.options.centerSpace=this.options.centerSpace||1},MSFocusView.extend(MSWaveView),MSFocusView._3dreq=!0,MSFocusView._fallback=MSFadeBasicView;{var p=MSFocusView.prototype;MSWaveView.prototype}p.__calcview=function(z,w){var a=w/2*z/(z+perspective);return a*(z+perspective)/perspective},p.__updateSlidesHoriz=function(slide,distance){var value=Math.abs(100*distance/this.__width);value=15*-Math.min(value,100),slide.$element.css(window._csspfx+"transform","translateZ("+(value+1)+"px) rotateY(0.01deg) translateX("+(0>distance?1:-1)*-this.__calcview(value,this.__width)*this.options.centerSpace+"px)")},p.__updateSlidesVertic=function(slide,distance){var value=Math.abs(100*distance/this.__width);value=15*-Math.min(value,100),slide.$element.css(window._csspfx+"transform","translateZ("+(value+1)+"px) rotateY(0.01deg) translateY("+(0>distance?1:-1)*-this.__calcview(value,this.__width)*this.options.centerSpace+"px)")},MSSlideController.registerView("focus",MSFocusView)}(),function(){window.MSPartialWaveView=function(options){MSWaveView.call(this,options),this.$element.removeClass("ms-wave-view").addClass("ms-partial-wave-view")},MSPartialWaveView.extend(MSWaveView),MSPartialWaveView._3dreq=!0,MSPartialWaveView._fallback=MSFadeBasicView;{var p=MSPartialWaveView.prototype;MSWaveView.prototype}p.__updateSlidesHoriz=function(slide,distance){var value=Math.abs(100*distance/this.__width);slide.hasBG&&slide.$bg_img.css("opacity",(100-Math.abs(120*distance/this.__width/3))/100),slide.$element.css(window._csspfx+"transform","translateZ("+3*-value+"px) rotateY(0.01deg) translateX("+.75*distance+"px)")},p.__updateSlidesVertic=function(slide,distance){var value=Math.abs(100*distance/this.__width);slide.hasBG&&slide.$bg_img.css("opacity",(100-Math.abs(120*distance/this.__width/3))/100),slide.$element.css(window._csspfx+"transform","translateZ("+3*-value+"px) rotateY(0.01deg) translateY("+.75*distance+"px)")},MSSlideController.registerView("partialWave",MSPartialWaveView)}(),function($){"use strict";var BaseControl=function(){this.options={prefix:"ms-",autohide:!0,overVideo:!0,customClass:null}},p=BaseControl.prototype;p.slideAction=function(){},p.setup=function(){this.cont=this.options.insertTo?$(this.options.insertTo):this.slider.$controlsCont,this.options.overVideo||this._hideOnvideoStarts()},p.checkHideUnder=function(){this.options.hideUnder&&(this.needsRealign=!this.options.insetTo&&("left"===this.options.align||"right"===this.options.align)&&this.options.inset===!1,$(window).bind("resize",{that:this},this.onResize),this.onResize())},p.onResize=function(event){var that=event&&event.data.that||this,w=window.innerWidth;w<=that.options.hideUnder&&!that.detached?(that.hide(!0),that.detached=!0,that.onDetach()):w>=that.options.hideUnder&&that.detached&&(that.detached=!1,that.visible(),that.onAppend())},p.create=function(){this.options.autohide&&(this.hide(!0),this.slider.$controlsCont.mouseenter($.proxy(this._onMouseEnter,this)).mouseleave($.proxy(this._onMouseLeave,this)).mousedown($.proxy(this._onMouseDown,this)),this.$element&&this.$element.mouseenter($.proxy(this._onMouseEnter,this)).mouseleave($.proxy(this._onMouseLeave,this)).mousedown($.proxy(this._onMouseDown,this)),$(document).mouseup($.proxy(this._onMouseUp,this))),this.options.align&&this.$element.addClass("ms-align-"+this.options.align),this.options.customClass&&this.$element&&this.$element.addClass(this.options.customClass)},p._onMouseEnter=function(){this._disableAH||this.mdown||this.visible(),this.mleave=!1},p._onMouseLeave=function(){this.mdown||this.hide(),this.mleave=!0},p._onMouseDown=function(){this.mdown=!0},p._onMouseUp=function(){this.mdown&&this.mleave&&this.hide(),this.mdown=!1},p.onAppend=function(){this.needsRealign&&this.slider._realignControls()},p.onDetach=function(){this.needsRealign&&this.slider._realignControls()},p._hideOnvideoStarts=function(){var that=this;this.slider.api.addEventListener(MSSliderEvent.VIDEO_PLAY,function(){that._disableAH=!0,that.hide()}),this.slider.api.addEventListener(MSSliderEvent.VIDEO_CLOSE,function(){that._disableAH=!1,that.visible()})},p.hide=function(fast){if(fast)this.$element.css("opacity",0),this.$element.css("display","none");else{clearTimeout(this.hideTo);var $element=this.$element;this.hideTo=setTimeout(function(){CTween.fadeOut($element,400,!1)},20)}this.$element.addClass("ms-ctrl-hide")},p.visible=function(){this.detached||(clearTimeout(this.hideTo),this.$element.css("display",""),CTween.fadeIn(this.$element,400,!1),this.$element.removeClass("ms-ctrl-hide"))},p.destroy=function(){this.options&&this.options.hideUnder&&$(window).unbind("resize",this.onResize)},window.BaseControl=BaseControl}(jQuery),function($){"use strict";var MSArrows=function(options){BaseControl.call(this),$.extend(this.options,options)};MSArrows.extend(BaseControl);var p=MSArrows.prototype,_super=BaseControl.prototype;p.setup=function(){var that=this;this.$next=$("<div></div>").addClass(this.options.prefix+"nav-next").bind("click",function(){that.slider.api.next(!0)}),this.$prev=$("<div></div>").addClass(this.options.prefix+"nav-prev").bind("click",function(){that.slider.api.previous(!0)}),_super.setup.call(this),this.cont.append(this.$next),this.cont.append(this.$prev),this.checkHideUnder()},p.hide=function(fast){return fast?(this.$prev.css("opacity",0).css("display","none"),void this.$next.css("opacity",0).css("display","none")):(CTween.fadeOut(this.$prev,400,!1),CTween.fadeOut(this.$next,400,!1),this.$prev.addClass("ms-ctrl-hide"),void this.$next.addClass("ms-ctrl-hide"))},p.visible=function(){this.detached||(CTween.fadeIn(this.$prev,400),CTween.fadeIn(this.$next,400),this.$prev.removeClass("ms-ctrl-hide").css("display",""),this.$next.removeClass("ms-ctrl-hide").css("display",""))},p.destroy=function(){_super.destroy(),this.$next.remove(),this.$prev.remove()},window.MSArrows=MSArrows,MSSlideController.registerControl("arrows",MSArrows)}(jQuery),function($){"use strict";var MSThumblist=function(options){BaseControl.call(this),this.options.dir="h",this.options.wheel="v"===options.dir,this.options.arrows=!1,this.options.speed=17,this.options.align=null,this.options.inset=!1,this.options.margin=10,this.options.space=10,this.options.width=100,this.options.height=100,this.options.type="thumbs",this.options.hover=!1,$.extend(this.options,options),this.thumbs=[],this.index_count=0,this.__dimen="h"===this.options.dir?"width":"height",this.__alignsize="h"===this.options.dir?"height":"width",this.__jdimen="h"===this.options.dir?"outerWidth":"outerHeight",this.__pos="h"===this.options.dir?"left":"top",this.click_enable=!0};MSThumblist.extend(BaseControl);var p=MSThumblist.prototype,_super=BaseControl.prototype;p.setup=function(){if(this.$element=$("<div></div>").addClass(this.options.prefix+"thumb-list"),"tabs"===this.options.type&&this.$element.addClass(this.options.prefix+"tabs"),this.$element.addClass("ms-dir-"+this.options.dir),_super.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),this.$thumbscont=$("<div></div>").addClass("ms-thumbs-cont").appendTo(this.$element),this.options.arrows){var that=this;this.$fwd=$("<div></div>").addClass("ms-thumblist-fwd").appendTo(this.$element).click(function(){that.controller.push(-15)}),this.$bwd=$("<div></div>").addClass("ms-thumblist-bwd").appendTo(this.$element).click(function(){that.controller.push(15)})}if(!this.options.insetTo&&this.options.align){var align=this.options.align;this.options.inset?this.$element.css(align,this.options.margin):"top"===align?this.$element.detach().prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===align?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align()),"v"===this.options.dir?this.$element.width(this.options.width):this.$element.height(this.options.height)}this.checkHideUnder()},p.align=function(){if(!this.detached){var align=this.options.align,pos=this.slider.reserveSpace(align,this.options[this.__alignsize]+2*this.options.margin);this.$element.css(align,-pos-this.options[this.__alignsize]-this.options.margin)}},p.slideAction=function(slide){var thumb_ele=slide.$element.find(".ms-thumb"),that=this,thumb_frame=$("<div></div>").addClass("ms-thumb-frame").append(thumb_ele).append($('<div class="ms-thumb-ol"></div>')).bind(this.options.hover?"hover":"click",function(){that.changeSlide(thumb_frame)});if(this.options.align&&thumb_frame.width(this.options.width-("v"===this.options.dir&&"tabs"===this.options.type?12:0)).height(this.options.height).css("margin-"+("v"===this.options.dir?"bottom":"right"),this.options.space),thumb_frame[0].index=this.index_count++,this.$thumbscont.append(thumb_frame),this.options.fillMode&&thumb_ele.is("img")){var aligner=new window.MSAligner(this.options.fillMode,thumb_frame,thumb_ele);thumb_ele[0].aligner=aligner,thumb_ele.one("load",function(){var $this=$(this);$this[0].aligner.init($this.width(),$this.height()),$this[0].aligner.align()}).each($.jqLoadFix)}$.browser.msie&&thumb_ele.on("dragstart",function(event){event.preventDefault()}),this.thumbs.push(thumb_frame)},p.create=function(){_super.create.call(this),this.__translate_end=window._css3d?" translateZ(0px)":"",this.controller=new Controller(0,0,{snappingMinSpeed:2,friction:(100-.5*this.options.speed)/100}),this.controller.renderCallback("h"===this.options.dir?this._hMove:this._vMove,this);var that=this;this.resize_listener=function(){that.__resize()},$(window).bind("resize",this.resize_listener),this.thumbSize=this.thumbs[0][this.__jdimen](!0),this.setupSwipe(),this.__resize();var that=this;this.options.wheel&&(this.wheellistener=function(event){var e=window.event||event.orginalEvent||event,delta=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));return that.controller.push(10*-delta),!1},$.browser.mozilla?this.$element[0].addEventListener("DOMMouseScroll",this.wheellistener):this.$element.bind("mousewheel",this.wheellistener)),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.slider.api.addEventListener(MSSliderEvent.HARD_UPDATE,this.realignThumbs,this),this.cindex=this.slider.api.index(),this.select(this.thumbs[this.cindex])},p._hMove=function(controller,value){return this.__contPos=value,window._cssanim?void(this.$thumbscont[0].style[window._jcsspfx+"Transform"]="translateX("+-value+"px)"+this.__translate_end):void(this.$thumbscont[0].style.left=-value+"px")},p._vMove=function(controller,value){return this.__contPos=value,window._cssanim?void(this.$thumbscont[0].style[window._jcsspfx+"Transform"]="translateY("+-value+"px)"+this.__translate_end):void(this.$thumbscont[0].style.top=-value+"px")},p.setupSwipe=function(){this.swipeControl=new averta.TouchSwipe(this.$element),this.swipeControl.swipeType="h"===this.options.dir?"horizontal":"vertical";var that=this;this.swipeControl.onSwipe="h"===this.options.dir?function(status){that.horizSwipeMove(status)}:function(status){that.vertSwipeMove(status)}},p.vertSwipeMove=function(status){if(!this.dTouch){var phase=status.phase;if("start"===phase)this.controller.stop();else if("move"===phase)this.controller.drag(status.moveY);else if("end"===phase||"cancel"===phase){var speed=Math.abs(status.distanceY/status.duration*50/3);speed>.1?this.controller.push(-status.distanceY/status.duration*50/3):(this.click_enable=!0,this.controller.cancel())}}},p.horizSwipeMove=function(status){if(!this.dTouch){var phase=status.phase;if("start"===phase)this.controller.stop(),this.click_enable=!1;else if("move"===phase)this.controller.drag(status.moveX);else if("end"===phase||"cancel"===phase){var speed=Math.abs(status.distanceX/status.duration*50/3);speed>.1?this.controller.push(-status.distanceX/status.duration*50/3):(this.click_enable=!0,this.controller.cancel())}}},p.update=function(){var nindex=this.slider.api.index();this.cindex!==nindex&&(null!=this.cindex&&this.unselect(this.thumbs[this.cindex]),this.cindex=nindex,this.select(this.thumbs[this.cindex]),this.dTouch||this.updateThumbscroll())},p.realignThumbs=function(){this.$element.find(".ms-thumb").each(function(index,thumb){thumb.aligner&&thumb.aligner.align()})},p.updateThumbscroll=function(){var pos=this.thumbSize*this.cindex;if(0/0==this.controller.value&&(this.controller.value=0),pos-this.controller.value<0)return void this.controller.gotoSnap(this.cindex,!0);if(pos+this.thumbSize-this.controller.value>this.$element[this.__dimen]()){var first_snap=this.cindex-Math.floor(this.$element[this.__dimen]()/this.thumbSize)+1;return void this.controller.gotoSnap(first_snap,!0)}},p.changeSlide=function(thumb){this.click_enable&&this.cindex!==thumb[0].index&&this.slider.api.gotoSlide(thumb[0].index)},p.unselect=function(ele){ele.removeClass("ms-thumb-frame-selected")},p.select=function(ele){ele.addClass("ms-thumb-frame-selected")},p.__resize=function(){var size=this.$element[this.__dimen]();if(this.ls!==size){this.ls=size,this.thumbSize=this.thumbs[0][this.__jdimen](!0);var len=this.slider.api.count()*this.thumbSize;this.$thumbscont[0].style[this.__dimen]=len+"px",size>=len?(this.dTouch=!0,this.controller.stop(),this.$thumbscont[0].style[this.__pos]=.5*(size-len)+"px",this.$thumbscont[0].style[window._jcsspfx+"Transform"]=""):(this.dTouch=!1,this.click_enable=!0,this.$thumbscont[0].style[this.__pos]="",this.controller._max_value=len-size,this.controller.options.snapsize=this.thumbSize,this.updateThumbscroll())}},p.destroy=function(){_super.destroy(),this.options.wheel&&($.browser.mozilla?this.$element[0].removeEventListener("DOMMouseScroll",this.wheellistener):this.$element.unbind("mousewheel",this.wheellistener),this.wheellistener=null),$(window).unbind("resize",this.resize_listener),this.$element.remove(),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this)},window.MSThumblist=MSThumblist,MSSlideController.registerControl("thumblist",MSThumblist)}(jQuery),function($){"use strict";
var MSBulltes=function(options){BaseControl.call(this),this.options.dir="h",this.options.inset=!0,this.options.margin=10,this.options.space=10,$.extend(this.options,options),this.bullets=[]};MSBulltes.extend(BaseControl);var p=MSBulltes.prototype,_super=BaseControl.prototype;p.setup=function(){if(_super.setup.call(this),this.$element=$("<div></div>").addClass(this.options.prefix+"bullets").addClass("ms-dir-"+this.options.dir).appendTo(this.cont),this.$bullet_cont=$("<div></div>").addClass("ms-bullets-count").appendTo(this.$element),!this.options.insetTo&&this.options.align){var align=this.options.align;this.options.inset&&this.$element.css(align,this.options.margin)}this.checkHideUnder()},p.create=function(){_super.create.call(this);var that=this;this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.cindex=this.slider.api.index();for(var i=0;i<this.slider.api.count();++i){var bullet=$("<div></div>").addClass("ms-bullet");bullet[0].index=i,bullet.on("click",function(){that.changeSlide(this.index)}),this.$bullet_cont.append(bullet),this.bullets.push(bullet),"h"===this.options.dir?bullet.css("margin",this.options.space/2):bullet.css("margin",this.options.space)}"h"===this.options.dir?this.$element.width(bullet.outerWidth(!0)*this.slider.api.count()):this.$element.css("margin-top",-this.$element.outerHeight(!0)/2),this.select(this.bullets[this.cindex])},p.update=function(){var nindex=this.slider.api.index();this.cindex!==nindex&&(null!=this.cindex&&this.unselect(this.bullets[this.cindex]),this.cindex=nindex,this.select(this.bullets[this.cindex]))},p.changeSlide=function(index){this.cindex!==index&&this.slider.api.gotoSlide(index)},p.unselect=function(ele){ele.removeClass("ms-bullet-selected")},p.select=function(ele){ele.addClass("ms-bullet-selected")},p.destroy=function(){_super.destroy(),this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.$element.remove()},window.MSBulltes=MSBulltes,MSSlideController.registerControl("bullets",MSBulltes)}(jQuery),function($){"use strict";var MSScrollbar=function(options){BaseControl.call(this),this.options.dir="h",this.options.autohide=!0,this.options.width=4,this.options.color="#3D3D3D",this.options.margin=10,$.extend(this.options,options),this.__dimen="h"===this.options.dir?"width":"height",this.__jdimen="h"===this.options.dir?"outerWidth":"outerHeight",this.__pos="h"===this.options.dir?"left":"top",this.__translate_end=window._css3d?" translateZ(0px)":"",this.__translate_start="h"===this.options.dir?" translateX(":"translateY("};MSScrollbar.extend(BaseControl);var p=MSScrollbar.prototype,_super=BaseControl.prototype;p.setup=function(){if(this.$element=$("<div></div>").addClass(this.options.prefix+"sbar").addClass("ms-dir-"+this.options.dir),_super.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),this.$bar=$("<div></div>").addClass(this.options.prefix+"bar").appendTo(this.$element),this.slider.options.loop&&(this.disable=!0,this.$element.remove()),"v"===this.options.dir?this.$bar.width(this.options.width):this.$bar.height(this.options.width),this.$bar.css("background-color",this.options.color),!this.options.insetTo&&this.options.align){this.$element.css("v"===this.options.dir?{right:"auto",left:"auto"}:{top:"auto",bottom:"auto"});var align=this.options.align;this.options.inset?this.$element.css(align,this.options.margin):"top"===align?this.$element.prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===align?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align())}this.checkHideUnder()},p.align=function(){if(!this.detached){var align=this.options.align,pos=this.slider.reserveSpace(align,2*this.options.margin+this.options.width);this.$element.css(align,-pos-this.options.margin-this.options.width)}},p.create=function(){if(!this.disable){this.scroller=this.slider.api.scroller,this.slider.api.view.addEventListener(MSViewEvents.SCROLL,this._update,this),this.slider.api.addEventListener(MSSliderEvent.RESIZE,this._resize,this),this._resize(),this.options.autohide&&this.$bar.css("opacity","0")}},p._resize=function(){this.vdimen=this.$element[this.__dimen](),this.bar_dimen=this.slider.api.view["__"+this.__dimen]*this.vdimen/this.scroller._max_value,this.$bar[this.__dimen](this.bar_dimen)},p._update=function(){var value=this.scroller.value*(this.vdimen-this.bar_dimen)/this.scroller._max_value;if(this.lvalue!==value){if(this.lvalue=value,this.options.autohide){clearTimeout(this.hto),this.$bar.css("opacity","1");var that=this;this.hto=setTimeout(function(){that.$bar.css("opacity","0")},150)}return 0>value?void(this.$bar[0].style[this.__dimen]=this.bar_dimen+value+"px"):(value>this.vdimen-this.bar_dimen&&(this.$bar[0].style[this.__dimen]=this.vdimen-value+"px"),window._cssanim?void(this.$bar[0].style[window._jcsspfx+"Transform"]=this.__translate_start+value+"px)"+this.__translate_end):void(this.$bar[0].style[this.__pos]=value+"px"))}},p.destroy=function(){_super.destroy(),this.slider.api.view.removeEventListener(MSViewEvents.SCROLL,this._update,this),this.slider.api.removeEventListener(MSSliderEvent.RESIZE,this._resize,this),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.$element.remove()},window.MSScrollbar=MSScrollbar,MSSlideController.registerControl("scrollbar",MSScrollbar)}(jQuery),function($){"use strict";var MSTimerbar=function(options){BaseControl.call(this),this.options.autohide=!1,this.options.width=4,this.options.color="#FFFFFF",this.options.inset=!0,this.options.margin=0,$.extend(this.options,options)};MSTimerbar.extend(BaseControl);var p=MSTimerbar.prototype,_super=BaseControl.prototype;p.setup=function(){if(_super.setup.call(this),this.$element=$("<div></div>").addClass(this.options.prefix+"timerbar"),_super.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),this.$bar=$("<div></div>").addClass("ms-time-bar").appendTo(this.$element),"v"===this.options.dir?(this.$bar.width(this.options.width),this.$element.width(this.options.width)):(this.$bar.height(this.options.width),this.$element.height(this.options.width)),this.$bar.css("background-color",this.options.color),!this.options.insetTo&&this.options.align){this.$element.css({top:"auto",bottom:"auto"});var align=this.options.align;this.options.inset?this.$element.css(align,this.options.margin):"top"===align?this.$element.prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===align?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align())}this.checkHideUnder()},p.align=function(){if(!this.detached){var align=this.options.align,pos=this.slider.reserveSpace(align,2*this.options.margin+this.options.width);this.$element.css(align,-pos-this.options.margin-this.options.width)}},p.create=function(){_super.create.call(this),this.slider.api.addEventListener(MSSliderEvent.WAITING,this._update,this),this._update()},p._update=function(){this.$bar[0].style.width=this.slider.api._delayProgress+"%"},p.destroy=function(){_super.destroy(),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.slider.api.removeEventListener(MSSliderEvent.WAITING,this._update,this),this.$element.remove()},window.MSTimerbar=MSTimerbar,MSSlideController.registerControl("timebar",MSTimerbar)}(jQuery),function($){"use strict";var MSCircleTimer=function(options){BaseControl.call(this),this.options.color="#A2A2A2",this.options.stroke=10,this.options.radius=4,this.options.autohide=!1,$.extend(this.options,options)};MSCircleTimer.extend(BaseControl);var p=MSCircleTimer.prototype,_super=BaseControl.prototype;p.setup=function(){return _super.setup.call(this),this.$element=$("<div></div>").addClass(this.options.prefix+"ctimer").appendTo(this.cont),this.$canvas=$("<canvas></canvas>").addClass("ms-ctimer-canvas").appendTo(this.$element),this.$bar=$("<div></div>").addClass("ms-ctimer-bullet").appendTo(this.$element),this.$canvas[0].getContext?(this.ctx=this.$canvas[0].getContext("2d"),this.prog=0,this.__w=2*(this.options.radius+this.options.stroke/2),this.$canvas[0].width=this.__w,this.$canvas[0].height=this.__w,void this.checkHideUnder()):(this.destroy(),void(this.disable=!0))},p.create=function(){if(!this.disable){_super.create.call(this),this.slider.api.addEventListener(MSSliderEvent.WAITING,this._update,this);var that=this;this.$element.click(function(){that.slider.api.paused?that.slider.api.resume():that.slider.api.pause()}),this._update()}},p._update=function(){var that=this;$(this).stop(!0).animate({prog:.01*this.slider.api._delayProgress},{duration:200,step:function(){that._draw()}})},p._draw=function(){this.ctx.clearRect(0,0,this.__w,this.__w),this.ctx.beginPath(),this.ctx.arc(.5*this.__w,.5*this.__w,this.options.radius,1.5*Math.PI,1.5*Math.PI+2*Math.PI*this.prog,!1),this.ctx.strokeStyle=this.options.color,this.ctx.lineWidth=this.options.stroke,this.ctx.stroke()},p.destroy=function(){_super.destroy(),this.disable||($(this).stop(!0),this.slider.api.removeEventListener(MSSliderEvent.WAITING,this._update,this),this.$element.remove())},window.MSCircleTimer=MSCircleTimer,MSSlideController.registerControl("circletimer",MSCircleTimer)}(jQuery),function($){"use strict";window.MSLightbox=function(options){BaseControl.call(this,options),this.options.autohide=!1,$.extend(this.options,options),this.data_list=[]},MSLightbox.fadeDuratation=400,MSLightbox.extend(BaseControl);var p=MSLightbox.prototype,_super=BaseControl.prototype;p.setup=function(){_super.setup.call(this),this.$element=$("<div></div>").addClass(this.options.prefix+"lightbox-btn").appendTo(this.cont),this.checkHideUnder()},p.slideAction=function(slide){$("<div></div>").addClass(this.options.prefix+"lightbox-btn").appendTo(slide.$element).append($(slide.$element.find(".ms-lightbox")))},p.create=function(){_super.create.call(this)},MSSlideController.registerControl("lightbox",MSLightbox)}(jQuery),function($){"use strict";window.MSSlideInfo=function(options){BaseControl.call(this,options),this.options.autohide=!1,this.options.align=null,this.options.inset=!1,this.options.margin=10,this.options.size=100,this.options.dir="h",$.extend(this.options,options),this.data_list=[]},MSSlideInfo.fadeDuratation=400,MSSlideInfo.extend(BaseControl);var p=MSSlideInfo.prototype,_super=BaseControl.prototype;p.setup=function(){if(this.$element=$("<div></div>").addClass(this.options.prefix+"slide-info").addClass("ms-dir-"+this.options.dir),_super.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),!this.options.insetTo&&this.options.align){var align=this.options.align;this.options.inset?this.$element.css(align,this.options.margin):"top"===align?this.$element.prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===align?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align()),"v"===this.options.dir?this.$element.width(this.options.size):this.$element.css("min-height",this.options.size)}this.checkHideUnder()},p.align=function(){if(!this.detached){var align=this.options.align,pos=this.slider.reserveSpace(align,this.options.size+2*this.options.margin);this.$element.css(align,-pos-this.options.size-this.options.margin)}},p.slideAction=function(slide){var info_ele=$(slide.$element.find(".ms-info"));info_ele.detach(),this.data_list[slide.index]=info_ele},p.create=function(){_super.create.call(this),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.cindex=this.slider.api.index(),this.switchEle(this.data_list[this.cindex])},p.update=function(){var nindex=this.slider.api.index();this.switchEle(this.data_list[nindex]),this.cindex=nindex},p.switchEle=function(ele){if(this.current_ele){this.current_ele[0].tween&&this.current_ele[0].tween.stop(!0),this.current_ele[0].tween=CTween.animate(this.current_ele,MSSlideInfo.fadeDuratation,{opacity:0},{complete:function(){this.detach(),this[0].tween=null,ele.css("position","relative")},target:this.current_ele}),ele.css("position","absolute")}this.__show(ele)},p.__show=function(ele){ele.appendTo(this.$element).css("opacity","0"),this.current_ele&&ele.height(Math.max(ele.height(),this.current_ele.height())),clearTimeout(this.tou),this.tou=setTimeout(function(){CTween.fadeIn(ele,MSSlideInfo.fadeDuratation),ele.css("height","")},MSSlideInfo.fadeDuratation),ele[0].tween&&ele[0].tween.stop(!0),this.current_ele=ele},p.destroy=function(){_super.destroy(),clearTimeout(this.tou),this.current_ele&&this.current_ele[0].tween&&this.current_ele[0].tween.stop("true"),this.$element.remove(),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this)},MSSlideController.registerControl("slideinfo",MSSlideInfo)}(jQuery),function($){window.MSGallery=function(id,slider){this.id=id,this.slider=slider,this.telement=$("#"+id),this.botcont=$("<div></div>").addClass("ms-gallery-botcont").appendTo(this.telement),this.thumbcont=$("<div></div>").addClass("ms-gal-thumbcont hide-thumbs").appendTo(this.botcont),this.playbtn=$("<div></div>").addClass("ms-gal-playbtn").appendTo(this.botcont),this.thumbtoggle=$("<div></div>").addClass("ms-gal-thumbtoggle").appendTo(this.botcont),slider.control("thumblist",{insertTo:this.thumbcont,autohide:!1,dir:"h"}),slider.control("slidenum",{insertTo:this.botcont,autohide:!1}),slider.control("slideinfo",{insertTo:this.botcont,autohide:!1}),slider.control("timebar",{insertTo:this.botcont,autohide:!1}),slider.control("bullets",{insertTo:this.botcont,autohide:!1})};var p=MSGallery.prototype;p._init=function(){var that=this;this.slider.api.paused||this.playbtn.addClass("btn-pause"),this.playbtn.click(function(){that.slider.api.paused?(that.slider.api.resume(),that.playbtn.addClass("btn-pause")):(that.slider.api.pause(),that.playbtn.removeClass("btn-pause"))}),this.thumbtoggle.click(function(){that.vthumbs?(that.thumbtoggle.removeClass("btn-hide"),that.vthumbs=!1,that.thumbcont.addClass("hide-thumbs")):(that.thumbtoggle.addClass("btn-hide"),that.thumbcont.removeClass("hide-thumbs"),that.vthumbs=!0)})},p.setup=function(){var that=this;$(document).ready(function(){that._init()})}}(jQuery),function($){var getPhotosetURL=function(key,id,count){return"https://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos&api_key="+key+"&photoset_id="+id+"&per_page="+count+"&extras=url_o,description,date_taken,owner_name,views&format=json&jsoncallback=?"},getUserPublicURL=function(key,id,count){return"https://api.flickr.com/services/rest/?&method=flickr.people.getPublicPhotos&api_key="+key+"&user_id="+id+"&per_page="+count+"&extras=url_o,description,date_taken,owner_name,views&format=json&jsoncallback=?"},getImageSource=function(fid,server,id,secret,size,data){return"_o"===size&&data?data.url_o:"https://farm"+fid+".staticflickr.com/"+server+"/"+id+"_"+secret+size+".jpg"};window.MSFlickrV2=function(slider,options){var _options={count:10,type:"photoset",thumbSize:"q",imgSize:"c"};if(this.slider=slider,this.slider.holdOn(),!options.key)return void this.errMsg("Flickr API Key required. Please add it in settings.");$.extend(_options,options),this.options=_options;var that=this;"photoset"===this.options.type?$.getJSON(getPhotosetURL(this.options.key,this.options.id,this.options.count),function(data){that._photosData(data)}):$.getJSON(getUserPublicURL(this.options.key,this.options.id,this.options.count),function(data){that.options.type="photos",that._photosData(data)}),""!==this.options.imgSize&&"-"!==this.options.imgSize&&(this.options.imgSize="_"+this.options.imgSize),this.options.thumbSize="_"+this.options.thumbSize,this.slideTemplate=this.slider.$element.find(".ms-slide")[0].outerHTML,this.slider.$element.find(".ms-slide").remove()};var p=MSFlickrV2.prototype;p._photosData=function(data){if("fail"===data.stat)return void this.errMsg("Flickr API ERROR#"+data.code+": "+data.message);{var that=this;this.options.author||this.options.desc}$.each(data[this.options.type].photo,function(i,item){var slide_cont=that.slideTemplate.replace(/{{[\w-]+}}/g,function(match){return match=match.replace(/{{|}}/g,""),shortCodes[match]?shortCodes[match](item,that):"{{"+match+"}}"});$(slide_cont).appendTo(that.slider.$element)}),that._initSlider()},p.errMsg=function(msg){this.slider.$element.css("display","block"),this.errEle||(this.errEle=$('<div style="font-family:Arial; color:red; font-size:12px; position:absolute; top:10px; left:10px"></div>').appendTo(this.slider.$loading)),this.errEle.html(msg)},p._initSlider=function(){this.slider.release()};var shortCodes={image:function(data,that){return getImageSource(data.farm,data.server,data.id,data.secret,that.options.imgSize,data)},thumb:function(data,that){return getImageSource(data.farm,data.server,data.id,data.secret,that.options.thumbSize)},title:function(data){return data.title},"owner-name":function(data){return data.ownername},"date-taken":function(data){return data.datetaken},views:function(data){return data.views},description:function(data){return data.description._content}}}(jQuery),function($){window.MSFacebookGallery=function(slider,options){var _options={count:10,type:"photostream",thumbSize:"320",imgSize:"orginal",https:!1};this.slider=slider,this.slider.holdOn(),$.extend(_options,options),this.options=_options,this.graph=this.options.https?"https://graph.facebook.com":"http://graph.facebook.com";var that=this;"photostream"===this.options.type?$.getJSON(this.graph+"/"+this.options.username+"/photos/uploaded/?fields=source,name,link,images,from&limit="+this.options.count,function(data){that._photosData(data)}):$.getJSON(this.graph+"/"+this.options.albumId+"/photos?fields=source,name,link,images,from&limit="+this.options.count,function(data){that._photosData(data)}),this.slideTemplate=this.slider.$element.find(".ms-slide")[0].outerHTML,this.slider.$element.find(".ms-slide").remove()};var p=MSFacebookGallery.prototype;p._photosData=function(content){if(content.error)return void this.errMsg("Facebook API ERROR#"+content.error.code+"("+content.error.type+"): "+content.error.message);for(var that=this,i=(this.options.author||this.options.desc,0),l=content.data.length;i!==l;i++){var slide_cont=that.slideTemplate.replace(/{{[\w-]+}}/g,function(match){return match=match.replace(/{{|}}/g,""),shortCodes[match]?shortCodes[match](content.data[i],that):"{{"+match+"}}"});$(slide_cont).appendTo(that.slider.$element)}that._initSlider()},p.errMsg=function(msg){this.slider.$element.css("display","block"),this.errEle||(this.errEle=$('<div style="font-family:Arial; color:red; font-size:12px; position:absolute; top:10px; left:10px"></div>').appendTo(this.slider.$loading)),this.errEle.html(msg)},p._initSlider=function(){this.slider.release()};var getImageSource=function(images,size){if("orginal"===size)return images[0].source;for(var i=0,l=images.length;i!==l;i++)if(-1!==images[i].source.indexOf(size+"x"+size))return images[i].source;return images[l-3].source},shortCodes={image:function(data,that){return getImageSource(data.images,that.options.imgSize)},thumb:function(data,that){return getImageSource(data.images,that.options.thumbSize)},name:function(data){return data.name},"owner-name":function(data){return data.from.name},link:function(data){return data.link}}}(jQuery),function($){"use strict";window.MSScrollParallax=function(slider,parallax,bgparallax,fade){this.fade=fade,this.slider=slider,this.parallax=parallax/100,this.bgparallax=bgparallax/100,slider.api.addEventListener(MSSliderEvent.INIT,this.init,this),slider.api.addEventListener(MSSliderEvent.DESTROY,this.destory,this),slider.api.addEventListener(MSSliderEvent.CHANGE_END,this.resetLayers,this),slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.updateCurrentSlide,this)},window.MSScrollParallax.setup=function(slider,parallax,bgparallax,fade){return window._mobile?void 0:(null==parallax&&(parallax=50),null==bgparallax&&(bgparallax=40),new MSScrollParallax(slider,parallax,bgparallax,fade))};var p=window.MSScrollParallax.prototype;p.init=function(){this.slider.$element.addClass("ms-scroll-parallax"),this.sliderOffset=this.slider.$element.offset().top,this.updateCurrentSlide();for(var slide,slides=this.slider.api.view.slideList,i=0,l=slides.length;i!==l;i++)slide=slides[i],slide.hasLayers&&(slide.layerController.$layers.wrap('<div class="ms-scroll-parallax-cont"></div>'),slide.$scrollParallaxCont=slide.layerController.$layers.parent());$(window).on("scroll",{that:this},this.moveParallax).trigger("scroll")},p.resetLayers=function(){if(this.lastSlide){var layers=this.lastSlide.$scrollParallaxCont;window._css2d?(layers&&(layers[0].style[window._jcsspfx+"Transform"]=""),this.lastSlide.hasBG&&(this.lastSlide.$imgcont[0].style[window._jcsspfx+"Transform"]="")):(layers&&(layers[0].style.top=""),this.lastSlide.hasBG&&(this.lastSlide.$imgcont[0].style.top="0px"))}},p.updateCurrentSlide=function(){this.lastSlide=this.currentSlide,this.currentSlide=this.slider.api.currentSlide,this.moveParallax({data:{that:this}})},p.moveParallax=function(e){var that=e.data.that,slider=that.slider,offset=that.sliderOffset,scrollTop=$(window).scrollTop(),layers=that.currentSlide.$scrollParallaxCont,out=offset-scrollTop;0>=out?(layers&&(window._css3d?layers[0].style[window._jcsspfx+"Transform"]="translateY("+-out*that.parallax+"px) translateZ(0.4px)":window._css2d?layers[0].style[window._jcsspfx+"Transform"]="translateY("+-out*that.parallax+"px)":layers[0].style.top=-out*that.parallax+"px"),that.updateSlidesBG(-out*that.bgparallax+"px",!0),layers&&that.fade&&layers.css("opacity",1-Math.min(1,-out/slider.api.height))):(layers&&(window._css2d?layers[0].style[window._jcsspfx+"Transform"]="":layers[0].style.top=""),that.updateSlidesBG("0px",!1),layers&&that.fade&&layers.css("opacity",1))},p.updateSlidesBG=function(pos,fixed){for(var slides=this.slider.api.view.slideList,position=!fixed||$.browser.msie||$.browser.opera?"":"fixed",i=0,l=slides.length;i!==l;i++)slides[i].hasBG&&(slides[i].$imgcont[0].style.position=position,slides[i].$imgcont[0].style.top=pos),slides[i].$bgvideocont&&(slides[i].$bgvideocont[0].style.position=position,slides[i].$bgvideocont[0].style.top=pos)},p.destory=function(){slider.api.removeEventListener(MSSliderEvent.INIT,this.init,this),slider.api.removeEventListener(MSSliderEvent.DESTROY,this.destory,this),slider.api.removeEventListener(MSSliderEvent.CHANGE_END,this.resetLayers,this),slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.updateCurrentSlide,this),$(window).off("scroll",this.moveParallax)}}(jQuery),function($,document,window){var PId=0;if(window.MasterSlider){var KeyboardNav=function(slider){this.slider=slider,this.PId=PId++,this.slider.options.keyboard&&slider.api.addEventListener(MSSliderEvent.INIT,this.init,this)};KeyboardNav.name="MSKeyboardNav";var p=KeyboardNav.prototype;p.init=function(){var api=this.slider.api;$(document).on("keydown.kbnav"+this.PId,function(event){var which=event.which;37===which||40===which?api.previous(!0):(38===which||39===which)&&api.next(!0)})},p.destroy=function(){$(document).off("keydown.kbnav"+this.PId),this.slider.api.removeEventListener(MSSliderEvent.INIT,this.init,this)},MasterSlider.registerPlugin(KeyboardNav)}}(jQuery,document,window),function($,document,window){var PId=0,$window=$(window),$doc=$(document);if(window.MasterSlider){var StartOnAppear=function(slider){this.PId=PId++,this.slider=slider,this.$slider=slider.$element,this.slider.options.startOnAppear&&(slider.holdOn(),$doc.ready($.proxy(this.init,this)))};StartOnAppear.name="MSStartOnAppear";var p=StartOnAppear.prototype;p.init=function(){this.slider.api;$window.on("scroll.soa"+this.PId,$.proxy(this._onScroll,this)).trigger("scroll")},p._onScroll=function(){var vpBottom=$window.scrollTop()+$window.height(),top=this.$slider.offset().top;vpBottom>top&&($window.off("scroll.soa"+this.PId),this.slider.release())},p.destroy=function(){},MasterSlider.registerPlugin(StartOnAppear)}}(jQuery,document,window),function(document,window){var filterUnits={"hue-rotate":"deg",blur:"px"},initialValues={opacity:1,contrast:1,brightness:1,saturate:1,"hue-rotate":0,invert:0,sepia:0,blur:0,grayscale:0};if(window.MasterSlider){var Filters=function(slider){this.slider=slider,this.slider.options.filters&&slider.api.addEventListener(MSSliderEvent.INIT,this.init,this)};Filters.name="MSFilters";var p=Filters.prototype;p.init=function(){var api=this.slider.api,view=api.view;this.filters=this.slider.options.filters,this.slideList=view.slideList,this.slidesCount=view.slidesCount,this.dimension=view[view.__dimension],this.target="slide"===this.slider.options.filterTarget?"$element":"$bg_img",this.filterName=$.browser.webkit?"WebkitFilter":"filter";var superFun=view.controller.__renderHook.fun,superRef=view.controller.__renderHook.ref;view.controller.renderCallback(function(controller,value){superFun.call(superRef,controller,value),this.applyEffect(value)},this),this.applyEffect(view.controller.value)},p.applyEffect=function(value){for(var factor,slide,i=0;i<this.slidesCount;++i)slide=this.slideList[i],factor=Math.min(1,Math.abs(value-slide.position)/this.dimension),slide[this.target]&&($.browser.msie?null!=this.filters.opacity&&slide[this.target].opacity(1-this.filters.opacity*factor):slide[this.target][0].style[this.filterName]=this.generateStyle(factor))},p.generateStyle=function(factor){var unit,style="";for(var filter in this.filters)unit=filterUnits[filter]||"",style+=filter+"("+(initialValues[filter]+(this.filters[filter]-initialValues[filter])*factor)+") ";return style},p.destroy=function(){this.slider.api.removeEventListener(MSSliderEvent.INIT,this.init,this)},MasterSlider.registerPlugin(Filters)}}(document,window,jQuery),function($,document,window){if(window.MasterSlider){var ScrollToAction=function(slider){this.slider=slider,slider.api.addEventListener(MSSliderEvent.INIT,this.init,this)};ScrollToAction.name="MSScrollToAction";var p=ScrollToAction.prototype;p.init=function(){var api=this.slider.api;api.scrollToEnd=_scrollToEnd,api.scrollTo=_scrollTo},p.destroy=function(){};var _scrollTo=function(target,duration){var target=(this.slider.$element,$(target).eq(0));0!==target.length&&(null==duration&&(duration=1.4),$("html, body").animate({scrollTop:target.offset().top},1e3*duration,"easeInOutQuad"))},_scrollToEnd=function(duration){var sliderEle=this.slider.$element;null==duration&&(duration=1.4),$("html, body").animate({scrollTop:sliderEle.offset().top+sliderEle.outerHeight(!1)},1e3*duration,"easeInOutQuad")};MasterSlider.registerPlugin(ScrollToAction)}}(jQuery,document,window);
//# sourceMappingURL=masterslider.min.js.map
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJtYXN0ZXJzbGlkZXIubWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBcclxuICogTWFzdGVyIFNsaWRlciDigJMgUmVzcG9uc2l2ZSBUb3VjaCBTd2lwZSBTbGlkZXJcclxuICogQ29weXJpZ2h0IMKpIDIwMTUgQWxsIFJpZ2h0cyBSZXNlcnZlZC4gXHJcbiAqXHJcbiAqIEBhdXRob3IgQXZlcnRhIFt3d3cuYXZlcnRhLm5ldF1cclxuICogQHZlcnNpb24gMi4xNC42XHJcbiAqIEBkYXRlIE1heSAyMDE1XHJcbiAqL1xyXG53aW5kb3cuYXZlcnRhPXt9LGZ1bmN0aW9uKCQpe2Z1bmN0aW9uIGdldFZlbmRvclByZWZpeCgpe2lmKFwicmVzdWx0XCJpbiBhcmd1bWVudHMuY2FsbGVlKXJldHVybiBhcmd1bWVudHMuY2FsbGVlLnJlc3VsdDt2YXIgcmVnZXg9L14oTW96fFdlYmtpdHxLaHRtbHxPfG1zfEljYWIpKD89W0EtWl0pLyxzb21lU2NyaXB0PWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpWzBdO2Zvcih2YXIgcHJvcCBpbiBzb21lU2NyaXB0LnN0eWxlKWlmKHJlZ2V4LnRlc3QocHJvcCkpcmV0dXJuIGFyZ3VtZW50cy5jYWxsZWUucmVzdWx0PXByb3AubWF0Y2gocmVnZXgpWzBdO3JldHVybiBhcmd1bWVudHMuY2FsbGVlLnJlc3VsdD1cIldlYmtpdE9wYWNpdHlcImluIHNvbWVTY3JpcHQuc3R5bGU/XCJXZWJraXRcIjpcIktodG1sT3BhY2l0eVwiaW4gc29tZVNjcmlwdC5zdHlsZT9cIktodG1sXCI6XCJcIn1mdW5jdGlvbiBjaGVja1N0eWxlVmFsdWUocHJvcCl7dmFyIGI9ZG9jdW1lbnQuYm9keXx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LHM9Yi5zdHlsZSxwPXByb3A7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHNbcF0pcmV0dXJuITA7dj1bXCJNb3pcIixcIldlYmtpdFwiLFwiS2h0bWxcIixcIk9cIixcIm1zXCJdLHA9cC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStwLnN1YnN0cigxKTtmb3IodmFyIGk9MDtpPHYubGVuZ3RoO2krKylpZihcInN0cmluZ1wiPT10eXBlb2Ygc1t2W2ldK3BdKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIHN1cHBvcnRzVHJhbnNpdGlvbnMoKXtyZXR1cm4gY2hlY2tTdHlsZVZhbHVlKFwidHJhbnNpdGlvblwiKX1mdW5jdGlvbiBzdXBwb3J0c1RyYW5zZm9ybXMoKXtyZXR1cm4gY2hlY2tTdHlsZVZhbHVlKFwidHJhbnNmb3JtXCIpfWZ1bmN0aW9uIHN1cHBvcnRzM0RUcmFuc2Zvcm1zKCl7aWYoIXN1cHBvcnRzVHJhbnNmb3JtcygpKXJldHVybiExO3ZhciBoYXMzZCxlbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaVwiKSx0cmFuc2Zvcm1zPXtXZWJraXRUcmFuc2Zvcm06XCItd2Via2l0LXRyYW5zZm9ybVwiLE9UcmFuc2Zvcm06XCItby10cmFuc2Zvcm1cIixNU1RyYW5zZm9ybTpcIi1tcy10cmFuc2Zvcm1cIixtc1RyYW5zZm9ybTpcIi1tcy10cmFuc2Zvcm1cIixNb3pUcmFuc2Zvcm06XCItbW96LXRyYW5zZm9ybVwiLFRyYW5zZm9ybTpcInRyYW5zZm9ybVwiLHRyYW5zZm9ybTpcInRyYW5zZm9ybVwifTtlbC5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIixkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZShlbCxudWxsKTtmb3IodmFyIHQgaW4gdHJhbnNmb3Jtcyl2b2lkIDAhPT1lbC5zdHlsZVt0XSYmKGVsLnN0eWxlW3RdPVwidHJhbnNsYXRlM2QoMXB4LDFweCwxcHgpXCIsaGFzM2Q9d2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpLmdldFByb3BlcnR5VmFsdWUodHJhbnNmb3Jtc1t0XSkpO3JldHVybiBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGVsKSxudWxsIT1oYXMzZCYmaGFzM2QubGVuZ3RoPjAmJlwibm9uZVwiIT09aGFzM2R9d2luZG93W1wicGFja2FnZVwiXT1mdW5jdGlvbihuYW1lKXt3aW5kb3dbbmFtZV18fCh3aW5kb3dbbmFtZV09e30pfTt2YXIgZXh0ZW5kPWZ1bmN0aW9uKHRhcmdldCxvYmplY3Qpe2Zvcih2YXIga2V5IGluIG9iamVjdCl0YXJnZXRba2V5XT1vYmplY3Rba2V5XX07RnVuY3Rpb24ucHJvdG90eXBlLmV4dGVuZD1mdW5jdGlvbihzdXBlcmNsYXNzKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBzdXBlcmNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj8oZXh0ZW5kKHRoaXMucHJvdG90eXBlLHN1cGVyY2xhc3MucHJvdG90eXBlKSx0aGlzLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj10aGlzKToodGhpcy5wcm90b3R5cGUuZXh0ZW5kKHN1cGVyY2xhc3MpLHRoaXMucHJvdG90eXBlLmNvbnN0cnVjdG9yPXRoaXMpfTt2YXIgdHJhbnM9e01vejpcIi1tb3otXCIsV2Via2l0OlwiLXdlYmtpdC1cIixLaHRtbDpcIi1raHRtbC1cIixPOlwiLW8tXCIsbXM6XCItbXMtXCIsSWNhYjpcIi1pY2FiLVwifTt3aW5kb3cuX21vYmlsZT0vQW5kcm9pZHx3ZWJPU3xpUGhvbmV8aVBhZHxpUG9kfEJsYWNrQmVycnl8SUVNb2JpbGV8T3BlcmEgTWluaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksd2luZG93Ll90b3VjaD1cIm9udG91Y2hzdGFydFwiaW4gZG9jdW1lbnQsJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXt3aW5kb3cuX2pjc3NwZng9Z2V0VmVuZG9yUHJlZml4KCksd2luZG93Ll9jc3NwZng9dHJhbnNbd2luZG93Ll9qY3NzcGZ4XSx3aW5kb3cuX2Nzc2FuaW09c3VwcG9ydHNUcmFuc2l0aW9ucygpLHdpbmRvdy5fY3NzM2Q9c3VwcG9ydHMzRFRyYW5zZm9ybXMoKSx3aW5kb3cuX2NzczJkPXN1cHBvcnRzVHJhbnNmb3JtcygpfSksd2luZG93LnBhcnNlUXVlcnlTdHJpbmc9ZnVuY3Rpb24odXJsKXt2YXIgcXVlcnlTdHJpbmc9e307cmV0dXJuIHVybC5yZXBsYWNlKG5ldyBSZWdFeHAoXCIoW14/PSZdKykoPShbXiZdKikpP1wiLFwiZ1wiKSxmdW5jdGlvbigkMCwkMSwkMiwkMyl7cXVlcnlTdHJpbmdbJDFdPSQzfSkscXVlcnlTdHJpbmd9O3ZhciBmcHM2MD01MC8zO2lmKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fCh3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGNhbGxiYWNrKXt3aW5kb3cuc2V0VGltZW91dChjYWxsYmFjayxmcHM2MCl9fSgpKSx3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZXx8KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlPWZ1bmN0aW9uKGVsKXtyZXR1cm4gdGhpcy5lbD1lbCx0aGlzLmdldFByb3BlcnR5VmFsdWU9ZnVuY3Rpb24ocHJvcCl7dmFyIHJlPS8oXFwtKFthLXpdKXsxfSkvZztyZXR1cm5cImZsb2F0XCI9PXByb3AmJihwcm9wPVwic3R5bGVGbG9hdFwiKSxyZS50ZXN0KHByb3ApJiYocHJvcD1wcm9wLnJlcGxhY2UocmUsZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzWzJdLnRvVXBwZXJDYXNlKCl9KSksZWwuY3VycmVudFN0eWxlW3Byb3BdP2VsLmN1cnJlbnRTdHlsZVtwcm9wXTpudWxsfSxlbC5jdXJyZW50U3R5bGV9KSxBcnJheS5wcm90b3R5cGUuaW5kZXhPZnx8KEFycmF5LnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKGVsdCl7dmFyIGxlbj10aGlzLmxlbmd0aD4+PjAsZnJvbT1OdW1iZXIoYXJndW1lbnRzWzFdKXx8MDtmb3IoZnJvbT0wPmZyb20/TWF0aC5jZWlsKGZyb20pOk1hdGguZmxvb3IoZnJvbSksMD5mcm9tJiYoZnJvbSs9bGVuKTtsZW4+ZnJvbTtmcm9tKyspaWYoZnJvbSBpbiB0aGlzJiZ0aGlzW2Zyb21dPT09ZWx0KXJldHVybiBmcm9tO3JldHVybi0xfSksd2luZG93LmlzTVNJRT1mdW5jdGlvbih2ZXJzaW9uKXtpZighJC5icm93c2VyLm1zaWUpcmV0dXJuITE7aWYoIXZlcnNpb24pcmV0dXJuITA7dmFyIGllVmVyPSQuYnJvd3Nlci52ZXJzaW9uLnNsaWNlKDAsJC5icm93c2VyLnZlcnNpb24uaW5kZXhPZihcIi5cIikpO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB2ZXJzaW9uP2V2YWwoLTEhPT12ZXJzaW9uLmluZGV4T2YoXCI8XCIpfHwtMSE9PXZlcnNpb24uaW5kZXhPZihcIj5cIik/aWVWZXIrdmVyc2lvbjp2ZXJzaW9uK1wiPT1cIitpZVZlcik6dmVyc2lvbj09aWVWZXJ9LCQucmVtb3ZlRGF0YUF0dHJzPWZ1bmN0aW9uKCR0YXJnZXQsZXhjbHVkZSl7dmFyIGksYXR0ck5hbWUsZGF0YUF0dHJzVG9EZWxldGU9W10sZGF0YUF0dHJzPSR0YXJnZXRbMF0uYXR0cmlidXRlcyxkYXRhQXR0cnNMZW49ZGF0YUF0dHJzLmxlbmd0aDtmb3IoZXhjbHVkZT1leGNsdWRlfHxbXSxpPTA7ZGF0YUF0dHJzTGVuPmk7aSsrKWF0dHJOYW1lPWRhdGFBdHRyc1tpXS5uYW1lLFwiZGF0YS1cIj09PWF0dHJOYW1lLnN1YnN0cmluZygwLDUpJiYtMT09PWV4Y2x1ZGUuaW5kZXhPZihhdHRyTmFtZSkmJmRhdGFBdHRyc1RvRGVsZXRlLnB1c2goZGF0YUF0dHJzW2ldLm5hbWUpOyQuZWFjaChkYXRhQXR0cnNUb0RlbGV0ZSxmdW5jdGlvbihpbmRleCxhdHRyTmFtZSl7JHRhcmdldC5yZW1vdmVBdHRyKGF0dHJOYW1lKX0pfSxqUXVlcnkpeyQuanFMb2FkRml4PWZ1bmN0aW9uKCl7aWYodGhpcy5jb21wbGV0ZSl7dmFyIHRoYXQ9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7JCh0aGF0KS5sb2FkKCl9LDEpfX0salF1ZXJ5LnVhTWF0Y2g9alF1ZXJ5LnVhTWF0Y2h8fGZ1bmN0aW9uKHVhKXt1YT11YS50b0xvd2VyQ2FzZSgpO3ZhciBtYXRjaD0vKGNocm9tZSlbIFxcL10oW1xcdy5dKykvLmV4ZWModWEpfHwvKHdlYmtpdClbIFxcL10oW1xcdy5dKykvLmV4ZWModWEpfHwvKG9wZXJhKSg/Oi4qdmVyc2lvbnwpWyBcXC9dKFtcXHcuXSspLy5leGVjKHVhKXx8Lyhtc2llKSAoW1xcdy5dKykvLmV4ZWModWEpfHx1YS5pbmRleE9mKFwiY29tcGF0aWJsZVwiKTwwJiYvKG1vemlsbGEpKD86Lio/IHJ2OihbXFx3Ll0rKXwpLy5leGVjKHVhKXx8W107cmV0dXJue2Jyb3dzZXI6bWF0Y2hbMV18fFwiXCIsdmVyc2lvbjptYXRjaFsyXXx8XCIwXCJ9fSxtYXRjaGVkPWpRdWVyeS51YU1hdGNoKG5hdmlnYXRvci51c2VyQWdlbnQpLGJyb3dzZXI9e30sbWF0Y2hlZC5icm93c2VyJiYoYnJvd3NlclttYXRjaGVkLmJyb3dzZXJdPSEwLGJyb3dzZXIudmVyc2lvbj1tYXRjaGVkLnZlcnNpb24pLGJyb3dzZXIuY2hyb21lP2Jyb3dzZXIud2Via2l0PSEwOmJyb3dzZXIud2Via2l0JiYoYnJvd3Nlci5zYWZhcmk9ITApO3ZhciBpc0lFMTE9ISFuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9UcmlkZW50XFwvN1xcLi8pO2lzSUUxMSYmKGJyb3dzZXIubXNpZT1cInRydWVcIixkZWxldGUgYnJvd3Nlci5tb3ppbGxhKSxqUXVlcnkuYnJvd3Nlcj1icm93c2VyLCQuZm4ucHJlbG9hZEltZz1mdW5jdGlvbihzcmMsX2V2ZW50KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyICR0aGlzPSQodGhpcyksc2VsZj10aGlzLGltZz1uZXcgSW1hZ2U7aW1nLm9ubG9hZD1mdW5jdGlvbihldmVudCl7bnVsbD09ZXZlbnQmJihldmVudD17fSksJHRoaXMuYXR0cihcInNyY1wiLHNyYyksZXZlbnQud2lkdGg9aW1nLndpZHRoLGV2ZW50LmhlaWdodD1pbWcuaGVpZ2h0LCR0aGlzLmRhdGEoXCJ3aWR0aFwiLGltZy53aWR0aCksJHRoaXMuZGF0YShcImhlaWdodFwiLGltZy5oZWlnaHQpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtfZXZlbnQuY2FsbChzZWxmLGV2ZW50KX0sNTApLGltZz1udWxsfSxpbWcuc3JjPXNyY30pLHRoaXN9fX0oalF1ZXJ5KSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2F2ZXJ0YS5FdmVudERpc3BhdGNoZXI9ZnVuY3Rpb24oKXt0aGlzLmxpc3RlbmVycz17fX0sYXZlcnRhLkV2ZW50RGlzcGF0Y2hlci5leHRlbmQ9ZnVuY3Rpb24oX3Byb3RvKXt2YXIgaW5zdGFuY2U9bmV3IGF2ZXJ0YS5FdmVudERpc3BhdGNoZXI7Zm9yKHZhciBrZXkgaW4gaW5zdGFuY2UpXCJjb25zdHJ1Y3RvclwiIT1rZXkmJihfcHJvdG9ba2V5XT1hdmVydGEuRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZVtrZXldKX0sYXZlcnRhLkV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmF2ZXJ0YS5FdmVudERpc3BhdGNoZXIsYWRkRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbihldmVudCxsaXN0ZW5lcixyZWYpe3RoaXMubGlzdGVuZXJzW2V2ZW50XXx8KHRoaXMubGlzdGVuZXJzW2V2ZW50XT1bXSksdGhpcy5saXN0ZW5lcnNbZXZlbnRdLnB1c2goe2xpc3RlbmVyOmxpc3RlbmVyLHJlZjpyZWZ9KX0scmVtb3ZlRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbihldmVudCxsaXN0ZW5lcixyZWYpe2lmKHRoaXMubGlzdGVuZXJzW2V2ZW50XSl7Zm9yKHZhciBpPTA7aTx0aGlzLmxpc3RlbmVyc1tldmVudF0ubGVuZ3RoOysraSlsaXN0ZW5lcj09PXRoaXMubGlzdGVuZXJzW2V2ZW50XVtpXS5saXN0ZW5lciYmcmVmPT09dGhpcy5saXN0ZW5lcnNbZXZlbnRdW2ldLnJlZiYmdGhpcy5saXN0ZW5lcnNbZXZlbnRdLnNwbGljZShpLS0sMSk7MD09PXRoaXMubGlzdGVuZXJzW2V2ZW50XS5sZW5ndGgmJih0aGlzLmxpc3RlbmVyc1tldmVudF09bnVsbCl9fSxkaXNwYXRjaEV2ZW50OmZ1bmN0aW9uKGV2ZW50KXtpZihldmVudC50YXJnZXQ9dGhpcyx0aGlzLmxpc3RlbmVyc1tldmVudC50eXBlXSlmb3IodmFyIGk9MCxsPXRoaXMubGlzdGVuZXJzW2V2ZW50LnR5cGVdLmxlbmd0aDtsPmk7KytpKXRoaXMubGlzdGVuZXJzW2V2ZW50LnR5cGVdW2ldLmxpc3RlbmVyLmNhbGwodGhpcy5saXN0ZW5lcnNbZXZlbnQudHlwZV1baV0ucmVmLGV2ZW50KX19fSgpLGZ1bmN0aW9uKCQpe1widXNlIHN0cmljdFwiO3ZhciBpc1RvdWNoPVwib250b3VjaHN0YXJ0XCJpbiBkb2N1bWVudCxpc1BvaW50ZXI9d2luZG93Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZCxpc01TUG9pbmVyPSFpc1BvaW50ZXImJndpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCx1c2VQb2ludGVyPWlzUG9pbnRlcnx8aXNNU1BvaW5lcixldl9zdGFydD0oaXNQb2ludGVyP1wicG9pbnRlcmRvd24gXCI6XCJcIikrKGlzTVNQb2luZXI/XCJNU1BvaW50ZXJEb3duIFwiOlwiXCIpKyhpc1RvdWNoP1widG91Y2hzdGFydCBcIjpcIlwiKStcIm1vdXNlZG93blwiLGV2X21vdmU9KGlzUG9pbnRlcj9cInBvaW50ZXJtb3ZlIFwiOlwiXCIpKyhpc01TUG9pbmVyP1wiTVNQb2ludGVyTW92ZSBcIjpcIlwiKSsoaXNUb3VjaD9cInRvdWNobW92ZSBcIjpcIlwiKStcIm1vdXNlbW92ZVwiLGV2X2VuZD0oaXNQb2ludGVyP1wicG9pbnRlcnVwIFwiOlwiXCIpKyhpc01TUG9pbmVyP1wiTVNQb2ludGVyVXAgXCI6XCJcIikrKGlzVG91Y2g/XCJ0b3VjaGVuZCBcIjpcIlwiKStcIm1vdXNldXBcIixldl9jYW5jZWw9KGlzUG9pbnRlcj9cInBvaW50ZXJjYW5jZWwgXCI6XCJcIikrKGlzTVNQb2luZXI/XCJNU1BvaW50ZXJDYW5jZWwgXCI6XCJcIikrXCJ0b3VjaGNhbmNlbFwiO2F2ZXJ0YS5Ub3VjaFN3aXBlPWZ1bmN0aW9uKCRlbGVtZW50KXt0aGlzLiRlbGVtZW50PSRlbGVtZW50LHRoaXMuZW5hYmxlZD0hMCwkZWxlbWVudC5iaW5kKGV2X3N0YXJ0LHt0YXJnZXQ6dGhpc30sdGhpcy5fX3RvdWNoU3RhcnQpLCRlbGVtZW50WzBdLnN3aXBlPXRoaXMsdGhpcy5vblN3aXBlPW51bGwsdGhpcy5zd2lwZVR5cGU9XCJob3Jpem9udGFsXCIsdGhpcy5ub1N3aXBlU2VsZWN0b3I9XCJpbnB1dCwgdGV4dGFyZWEsIGJ1dHRvbiwgLm5vLXN3aXBlLCAubXMtbm8tc3dpcGVcIix0aGlzLmxhc3RTdGF0dXM9e319O3ZhciBwPWF2ZXJ0YS5Ub3VjaFN3aXBlLnByb3RvdHlwZTtwLmdldERpcmVjdGlvbj1mdW5jdGlvbihuZXdfeCxuZXdfeSl7c3dpdGNoKHRoaXMuc3dpcGVUeXBlKXtjYXNlXCJob3Jpem9udGFsXCI6cmV0dXJuIG5ld194PD10aGlzLnN0YXJ0X3g/XCJsZWZ0XCI6XCJyaWdodFwiO2Nhc2VcInZlcnRpY2FsXCI6cmV0dXJuIG5ld195PD10aGlzLnN0YXJ0X3k/XCJ1cFwiOlwiZG93blwiO2Nhc2VcImFsbFwiOnJldHVybiBNYXRoLmFicyhuZXdfeC10aGlzLnN0YXJ0X3gpPk1hdGguYWJzKG5ld195LXRoaXMuc3RhcnRfeSk/bmV3X3g8PXRoaXMuc3RhcnRfeD9cImxlZnRcIjpcInJpZ2h0XCI6bmV3X3k8PXRoaXMuc3RhcnRfeT9cInVwXCI6XCJkb3duXCJ9fSxwLnByaXZlbnREZWZ1bHRFdmVudD1mdW5jdGlvbihuZXdfeCxuZXdfeSl7dmFyIGR4PU1hdGguYWJzKG5ld194LXRoaXMuc3RhcnRfeCksZHk9TWF0aC5hYnMobmV3X3ktdGhpcy5zdGFydF95KSxob3Jpej1keD5keTtyZXR1cm5cImhvcml6b250YWxcIj09PXRoaXMuc3dpcGVUeXBlJiZob3Jpenx8XCJ2ZXJ0aWNhbFwiPT09dGhpcy5zd2lwZVR5cGUmJiFob3Jpen0scC5jcmVhdGVTdGF0dXNPYmplY3Q9ZnVuY3Rpb24oZXZ0KXt2YXIgdGVtcF94LHRlbXBfeSxzdGF0dXNfZGF0YT17fTtyZXR1cm4gdGVtcF94PXRoaXMubGFzdFN0YXR1cy5kaXN0YW5jZVh8fDAsdGVtcF95PXRoaXMubGFzdFN0YXR1cy5kaXN0YW5jZVl8fDAsc3RhdHVzX2RhdGEuZGlzdGFuY2VYPWV2dC5wYWdlWC10aGlzLnN0YXJ0X3gsc3RhdHVzX2RhdGEuZGlzdGFuY2VZPWV2dC5wYWdlWS10aGlzLnN0YXJ0X3ksc3RhdHVzX2RhdGEubW92ZVg9c3RhdHVzX2RhdGEuZGlzdGFuY2VYLXRlbXBfeCxzdGF0dXNfZGF0YS5tb3ZlWT1zdGF0dXNfZGF0YS5kaXN0YW5jZVktdGVtcF95LHN0YXR1c19kYXRhLmRpc3RhbmNlPXBhcnNlSW50KE1hdGguc3FydChNYXRoLnBvdyhzdGF0dXNfZGF0YS5kaXN0YW5jZVgsMikrTWF0aC5wb3coc3RhdHVzX2RhdGEuZGlzdGFuY2VZLDIpKSksc3RhdHVzX2RhdGEuZHVyYXRpb249KG5ldyBEYXRlKS5nZXRUaW1lKCktdGhpcy5zdGFydF90aW1lLHN0YXR1c19kYXRhLmRpcmVjdGlvbj10aGlzLmdldERpcmVjdGlvbihldnQucGFnZVgsZXZ0LnBhZ2VZKSxzdGF0dXNfZGF0YX0scC5fX3Jlc2V0PWZ1bmN0aW9uKGV2ZW50LGpxZXZ0KXt0aGlzLnJlc2V0PSExLHRoaXMubGFzdFN0YXR1cz17fSx0aGlzLnN0YXJ0X3RpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCksdGhpcy5zdGFydF94PWlzVG91Y2g/ZXZlbnQudG91Y2hlc1swXS5wYWdlWDp1c2VQb2ludGVyP2V2ZW50LnBhZ2VYOmpxZXZ0LnBhZ2VYLHRoaXMuc3RhcnRfeT1pc1RvdWNoP2V2ZW50LnRvdWNoZXNbMF0ucGFnZVk6dXNlUG9pbnRlcj9ldmVudC5wYWdlWTpqcWV2dC5wYWdlWX0scC5fX3RvdWNoU3RhcnQ9ZnVuY3Rpb24oZXZlbnQpe3ZhciBzd2lwZT1ldmVudC5kYXRhLnRhcmdldCxqcWV2dD1ldmVudDtpZihzd2lwZS5lbmFibGVkJiYhKCQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KHN3aXBlLm5vU3dpcGVTZWxlY3Rvcixzd2lwZS4kZWxlbWVudCkubGVuZ3RoPjApKXtpZihldmVudD1ldmVudC5vcmlnaW5hbEV2ZW50LHVzZVBvaW50ZXImJiQodGhpcykuY3NzKFwiLW1zLXRvdWNoLWFjdGlvblwiLFwiaG9yaXpvbnRhbFwiPT09c3dpcGUuc3dpcGVUeXBlP1wicGFuLXlcIjpcInBhbi14XCIpLCFzd2lwZS5vblN3aXBlKXJldHVybiB2b2lkICQuZXJyb3IoXCJTd2lwZSBsaXN0ZW5lciBpcyB1bmRlZmluZWRcIik7aWYoIXN3aXBlLnRvdWNoU3RhcnRlZCl7c3dpcGUuc3RhcnRfeD1pc1RvdWNoP2V2ZW50LnRvdWNoZXNbMF0ucGFnZVg6dXNlUG9pbnRlcj9ldmVudC5wYWdlWDpqcWV2dC5wYWdlWCxzd2lwZS5zdGFydF95PWlzVG91Y2g/ZXZlbnQudG91Y2hlc1swXS5wYWdlWTp1c2VQb2ludGVyP2V2ZW50LnBhZ2VZOmpxZXZ0LnBhZ2VZLHN3aXBlLnN0YXJ0X3RpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCksJChkb2N1bWVudCkuYmluZChldl9lbmQse3RhcmdldDpzd2lwZX0sc3dpcGUuX190b3VjaEVuZCkuYmluZChldl9tb3ZlLHt0YXJnZXQ6c3dpcGV9LHN3aXBlLl9fdG91Y2hNb3ZlKS5iaW5kKGV2X2NhbmNlbCx7dGFyZ2V0OnN3aXBlfSxzd2lwZS5fX3RvdWNoQ2FuY2VsKTt2YXIgZXZ0PWlzVG91Y2g/ZXZlbnQudG91Y2hlc1swXTp1c2VQb2ludGVyP2V2ZW50OmpxZXZ0LHN0YXR1cz1zd2lwZS5jcmVhdGVTdGF0dXNPYmplY3QoZXZ0KTtzdGF0dXMucGhhc2U9XCJzdGFydFwiLHN3aXBlLm9uU3dpcGUuY2FsbChudWxsLHN0YXR1cyksaXNUb3VjaHx8anFldnQucHJldmVudERlZmF1bHQoKSxzd2lwZS5sYXN0U3RhdHVzPXN0YXR1cyxzd2lwZS50b3VjaFN0YXJ0ZWQ9ITB9fX0scC5fX3RvdWNoTW92ZT1mdW5jdGlvbihldmVudCl7dmFyIHN3aXBlPWV2ZW50LmRhdGEudGFyZ2V0LGpxZXZ0PWV2ZW50O2lmKGV2ZW50PWV2ZW50Lm9yaWdpbmFsRXZlbnQsc3dpcGUudG91Y2hTdGFydGVkKXtjbGVhclRpbWVvdXQoc3dpcGUudGltbyksc3dpcGUudGltbz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7c3dpcGUuX19yZXNldChldmVudCxqcWV2dCl9LDYwKTt2YXIgZXZ0PWlzVG91Y2g/ZXZlbnQudG91Y2hlc1swXTp1c2VQb2ludGVyP2V2ZW50OmpxZXZ0LHN0YXR1cz1zd2lwZS5jcmVhdGVTdGF0dXNPYmplY3QoZXZ0KTtzd2lwZS5wcml2ZW50RGVmdWx0RXZlbnQoZXZ0LnBhZ2VYLGV2dC5wYWdlWSkmJmpxZXZ0LnByZXZlbnREZWZhdWx0KCksc3RhdHVzLnBoYXNlPVwibW92ZVwiLHN3aXBlLmxhc3RTdGF0dXM9c3RhdHVzLHN3aXBlLm9uU3dpcGUuY2FsbChudWxsLHN0YXR1cyl9fSxwLl9fdG91Y2hFbmQ9ZnVuY3Rpb24oZXZlbnQpe3ZhciBzd2lwZT1ldmVudC5kYXRhLnRhcmdldCxqcWV2dD1ldmVudDtldmVudD1ldmVudC5vcmlnaW5hbEV2ZW50LGNsZWFyVGltZW91dChzd2lwZS50aW1vKTt2YXIgc3RhdHVzPShpc1RvdWNoP2V2ZW50LnRvdWNoZXNbMF06dXNlUG9pbnRlcj9ldmVudDpqcWV2dCxzd2lwZS5sYXN0U3RhdHVzKTtpc1RvdWNofHxqcWV2dC5wcmV2ZW50RGVmYXVsdCgpLHN0YXR1cy5waGFzZT1cImVuZFwiLHN3aXBlLnRvdWNoU3RhcnRlZD0hMSxzd2lwZS5wcml2ZW50RXZ0PW51bGwsJChkb2N1bWVudCkudW5iaW5kKGV2X2VuZCxzd2lwZS5fX3RvdWNoRW5kKS51bmJpbmQoZXZfbW92ZSxzd2lwZS5fX3RvdWNoTW92ZSkudW5iaW5kKGV2X2NhbmNlbCxzd2lwZS5fX3RvdWNoQ2FuY2VsKSxzdGF0dXMuc3BlZWQ9c3RhdHVzLmRpc3RhbmNlL3N0YXR1cy5kdXJhdGlvbixzd2lwZS5vblN3aXBlLmNhbGwobnVsbCxzdGF0dXMpfSxwLl9fdG91Y2hDYW5jZWw9ZnVuY3Rpb24oZXZlbnQpe3ZhciBzd2lwZT1ldmVudC5kYXRhLnRhcmdldDtzd2lwZS5fX3RvdWNoRW5kKGV2ZW50KX0scC5lbmFibGU9ZnVuY3Rpb24oKXt0aGlzLmVuYWJsZWR8fCh0aGlzLmVuYWJsZWQ9ITApfSxwLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLmVuYWJsZWQmJih0aGlzLmVuYWJsZWQ9ITEpfX0oalF1ZXJ5KSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2F2ZXJ0YS5UaWNrZXI9ZnVuY3Rpb24oKXt9O3ZhciBzdD1hdmVydGEuVGlja2VyLGxpc3Q9W10sbGVuPTAsX19zdG9wcGVkPSEwO3N0LmFkZD1mdW5jdGlvbihsaXN0ZW5lcixyZWYpe3JldHVybiBsaXN0LnB1c2goW2xpc3RlbmVyLHJlZl0pLDE9PT1saXN0Lmxlbmd0aCYmc3Quc3RhcnQoKSxsZW49bGlzdC5sZW5ndGh9LHN0LnJlbW92ZT1mdW5jdGlvbihsaXN0ZW5lcixyZWYpe2Zvcih2YXIgaT0wLGw9bGlzdC5sZW5ndGg7bD5pOysraSlsaXN0W2ldJiZsaXN0W2ldWzBdPT09bGlzdGVuZXImJmxpc3RbaV1bMV09PT1yZWYmJmxpc3Quc3BsaWNlKGksMSk7bGVuPWxpc3QubGVuZ3RoLDA9PT1sZW4mJnN0LnN0b3AoKX0sc3Quc3RhcnQ9ZnVuY3Rpb24oKXtfX3N0b3BwZWQmJihfX3N0b3BwZWQ9ITEsX190aWNrKCkpfSxzdC5zdG9wPWZ1bmN0aW9uKCl7X19zdG9wcGVkPSEwfTt2YXIgX190aWNrPWZ1bmN0aW9uKCl7aWYoIXN0Ll9fc3RvcHBlZCl7Zm9yKHZhciBpdGVtLGk9MDtpIT09bGVuO2krKylpdGVtPWxpc3RbaV0saXRlbVswXS5jYWxsKGl0ZW1bMV0pO3JlcXVlc3RBbmltYXRpb25GcmFtZShfX3RpY2spfX19KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtEYXRlLm5vd3x8KERhdGUubm93PWZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCl9KSxhdmVydGEuVGltZXI9ZnVuY3Rpb24oZGVsYXksYXV0b1N0YXJ0KXt0aGlzLmRlbGF5PWRlbGF5LHRoaXMuY3VycmVudENvdW50PTAsdGhpcy5wYXVzZWQ9ITEsdGhpcy5vblRpbWVyPW51bGwsdGhpcy5yZWZyZW5jZT1udWxsLGF1dG9TdGFydCYmdGhpcy5zdGFydCgpfSxhdmVydGEuVGltZXIucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjphdmVydGEuVGltZXIsc3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLnBhdXNlZD0hMSx0aGlzLmxhc3RUaW1lPURhdGUubm93KCksYXZlcnRhLlRpY2tlci5hZGQodGhpcy51cGRhdGUsdGhpcyl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLnBhdXNlZD0hMCxhdmVydGEuVGlja2VyLnJlbW92ZSh0aGlzLnVwZGF0ZSx0aGlzKX0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLmN1cnJlbnRDb3VudD0wLHRoaXMucGF1c2VkPSEwLHRoaXMubGFzdFRpbWU9RGF0ZS5ub3coKX0sdXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5wYXVzZWR8fERhdGUubm93KCktdGhpcy5sYXN0VGltZTx0aGlzLmRlbGF5fHwodGhpcy5jdXJyZW50Q291bnQrKyx0aGlzLmxhc3RUaW1lPURhdGUubm93KCksdGhpcy5vblRpbWVyJiZ0aGlzLm9uVGltZXIuY2FsbCh0aGlzLnJlZnJlbmNlLHRoaXMuZ2V0VGltZSgpKSl9LGdldFRpbWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWxheSp0aGlzLmN1cnJlbnRDb3VudH19fSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7d2luZG93LkNTU1R3ZWVuPWZ1bmN0aW9uKGVsZW1lbnQsZHVyYXRpb24sZGVsYXksZWFzZSl7dGhpcy4kZWxlbWVudD1lbGVtZW50LHRoaXMuZHVyYXRpb249ZHVyYXRpb258fDFlMyx0aGlzLmRlbGF5PWRlbGF5fHwwLHRoaXMuZWFzZT1lYXNlfHxcImxpbmVhclwifTt2YXIgcD1DU1NUd2Vlbi5wcm90b3R5cGU7cC50bz1mdW5jdGlvbihjYWxsYmFjayx0YXJnZXQpe3JldHVybiB0aGlzLnRvX2NiPWNhbGxiYWNrLHRoaXMudG9fY2JfdGFyZ2V0PXRhcmdldCx0aGlzfSxwLmZyb209ZnVuY3Rpb24oY2FsbGJhY2ssdGFyZ2V0KXtyZXR1cm4gdGhpcy5mcl9jYj1jYWxsYmFjayx0aGlzLmZyX2NiX3RhcmdldD10YXJnZXQsdGhpc30scC5vbkNvbXBsZXRlPWZ1bmN0aW9uKGNhbGxiYWNrLHRhcmdldCl7cmV0dXJuIHRoaXMub2NfZmI9Y2FsbGJhY2ssdGhpcy5vY19mYl90YXJnZXQ9dGFyZ2V0LHRoaXN9LHAuY2hhaW49ZnVuY3Rpb24oY3NzdHdlZW4pe3JldHVybiB0aGlzLmNoYWluZWRfdHdlZW49Y3NzdHdlZW4sdGhpc30scC5yZXNldD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnN0YXJ0X3RvKSxjbGVhclRpbWVvdXQodGhpcy5lbmRfdG8pfSxwLnN0YXJ0PWZ1bmN0aW9uKCl7dmFyIGVsZW1lbnQ9dGhpcy4kZWxlbWVudFswXTtjbGVhclRpbWVvdXQodGhpcy5zdGFydF90byksY2xlYXJUaW1lb3V0KHRoaXMuZW5kX3RvKSx0aGlzLmZyZXNoPSEwLHRoaXMuZnJfY2ImJihlbGVtZW50LnN0eWxlW3dpbmRvdy5famNzc3BmeCtcIlRyYW5zaXRpb25EdXJhdGlvblwiXT1cIjBtc1wiLHRoaXMuZnJfY2IuY2FsbCh0aGlzLmZyX2NiX3RhcmdldCkpO3ZhciB0aGF0PXRoaXM7cmV0dXJuIHRoaXMub25UcmFuc0NvbXBsZXRlPWZ1bmN0aW9uKCl7dGhhdC5mcmVzaCYmKHRoYXQucmVzZXQoKSxlbGVtZW50LnN0eWxlW3dpbmRvdy5famNzc3BmeCtcIlRyYW5zaXRpb25EdXJhdGlvblwiXT1cIlwiLGVsZW1lbnQuc3R5bGVbd2luZG93Ll9qY3NzcGZ4K1wiVHJhbnNpdGlvblByb3BlcnR5XCJdPVwiXCIsZWxlbWVudC5zdHlsZVt3aW5kb3cuX2pjc3NwZngrXCJUcmFuc2l0aW9uVGltaW5nRnVuY3Rpb25cIl09XCJcIixlbGVtZW50LnN0eWxlW3dpbmRvdy5famNzc3BmeCtcIlRyYW5zaXRpb25EZWxheVwiXT1cIlwiLHRoYXQuZnJlc2g9ITEsdGhhdC5jaGFpbmVkX3R3ZWVuJiZ0aGF0LmNoYWluZWRfdHdlZW4uc3RhcnQoKSx0aGF0Lm9jX2ZiJiZ0aGF0Lm9jX2ZiLmNhbGwodGhhdC5vY19mYl90YXJnZXQpKX0sdGhpcy5zdGFydF90bz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhhdC4kZWxlbWVudCYmKGVsZW1lbnQuc3R5bGVbd2luZG93Ll9qY3NzcGZ4K1wiVHJhbnNpdGlvbkR1cmF0aW9uXCJdPXRoYXQuZHVyYXRpb24rXCJtc1wiLGVsZW1lbnQuc3R5bGVbd2luZG93Ll9qY3NzcGZ4K1wiVHJhbnNpdGlvblByb3BlcnR5XCJdPXRoYXQudHJhbnNQcm9wZXJ0eXx8XCJhbGxcIixlbGVtZW50LnN0eWxlW3dpbmRvdy5famNzc3BmeCtcIlRyYW5zaXRpb25EZWxheVwiXT10aGF0LmRlbGF5PjA/dGhhdC5kZWxheStcIm1zXCI6XCJcIixlbGVtZW50LnN0eWxlW3dpbmRvdy5famNzc3BmeCtcIlRyYW5zaXRpb25UaW1pbmdGdW5jdGlvblwiXT10aGF0LmVhc2UsdGhhdC50b19jYiYmdGhhdC50b19jYi5jYWxsKHRoYXQudG9fY2JfdGFyZ2V0KSx0aGF0LmVuZF90bz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhhdC5vblRyYW5zQ29tcGxldGUoKX0sdGhhdC5kdXJhdGlvbisodGhhdC5kZWxheXx8MCkpKX0sMTAwKSx0aGlzfX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHRyYW5zUG9zKGVsZW1lbnQscHJvcGVydGllcyl7aWYodm9pZCAwIT09cHJvcGVydGllcy54fHx2b2lkIDAhPT1wcm9wZXJ0aWVzLnkpaWYoX2Nzc2FuaW0pe3ZhciB0cmFucz13aW5kb3cuX2pjc3NwZngrXCJUcmFuc2Zvcm1cIjt2b2lkIDAhPT1wcm9wZXJ0aWVzLngmJihwcm9wZXJ0aWVzW3RyYW5zXT0ocHJvcGVydGllc1t0cmFuc118fFwiXCIpK1wiIHRyYW5zbGF0ZVgoXCIrcHJvcGVydGllcy54K1wicHgpXCIsZGVsZXRlIHByb3BlcnRpZXMueCksdm9pZCAwIT09cHJvcGVydGllcy55JiYocHJvcGVydGllc1t0cmFuc109KHByb3BlcnRpZXNbdHJhbnNdfHxcIlwiKStcIiB0cmFuc2xhdGVZKFwiK3Byb3BlcnRpZXMueStcInB4KVwiLGRlbGV0ZSBwcm9wZXJ0aWVzLnkpfWVsc2V7aWYodm9pZCAwIT09cHJvcGVydGllcy54KXt2YXIgcG9zeD1cImF1dG9cIiE9PWVsZW1lbnQuY3NzKFwicmlnaHRcIik/XCJyaWdodFwiOlwibGVmdFwiO3Byb3BlcnRpZXNbcG9zeF09cHJvcGVydGllcy54K1wicHhcIixkZWxldGUgcHJvcGVydGllcy54fWlmKHZvaWQgMCE9PXByb3BlcnRpZXMueSl7dmFyIHBvc3k9XCJhdXRvXCIhPT1lbGVtZW50LmNzcyhcImJvdHRvbVwiKT9cImJvdHRvbVwiOlwidG9wXCI7cHJvcGVydGllc1twb3N5XT1wcm9wZXJ0aWVzLnkrXCJweFwiLGRlbGV0ZSBwcm9wZXJ0aWVzLnl9fXJldHVybiBwcm9wZXJ0aWVzfXZhciBfY3NzYW5pbT1udWxsO3dpbmRvdy5DVHdlZW49e30sQ1R3ZWVuLnNldFBvcz1mdW5jdGlvbihlbGVtZW50LHBvcyl7ZWxlbWVudC5jc3ModHJhbnNQb3MoZWxlbWVudCxwb3MpKX0sQ1R3ZWVuLmFuaW1hdGU9ZnVuY3Rpb24oZWxlbWVudCxkdXJhdGlvbixwcm9wZXJ0aWVzLG9wdGlvbnMpe2lmKG51bGw9PV9jc3NhbmltJiYoX2Nzc2FuaW09d2luZG93Ll9jc3NhbmltKSxvcHRpb25zPW9wdGlvbnN8fHt9LHRyYW5zUG9zKGVsZW1lbnQscHJvcGVydGllcyksX2Nzc2FuaW0pe3ZhciB0d2Vlbj1uZXcgQ1NTVHdlZW4oZWxlbWVudCxkdXJhdGlvbixvcHRpb25zLmRlbGF5LEVhc2VEaWNbb3B0aW9ucy5lYXNlXSk7cmV0dXJuIG9wdGlvbnMudHJhbnNQcm9wZXJ0eSYmKHR3ZWVuLnRyYW5zUHJvcGVydHk9b3B0aW9ucy50cmFuc1Byb3BlcnR5KSx0d2Vlbi50byhmdW5jdGlvbigpe2VsZW1lbnQuY3NzKHByb3BlcnRpZXMpfSksb3B0aW9ucy5jb21wbGV0ZSYmdHdlZW4ub25Db21wbGV0ZShvcHRpb25zLmNvbXBsZXRlLG9wdGlvbnMudGFyZ2V0KSx0d2Vlbi5zdGFydCgpLHR3ZWVuLnN0b3A9dHdlZW4ucmVzZXQsdHdlZW59dmFyIG9uQ2w7cmV0dXJuIG9wdGlvbnMuZGVsYXkmJmVsZW1lbnQuZGVsYXkob3B0aW9ucy5kZWxheSksb3B0aW9ucy5jb21wbGV0ZSYmKG9uQ2w9ZnVuY3Rpb24oKXtvcHRpb25zLmNvbXBsZXRlLmNhbGwob3B0aW9ucy50YXJnZXQpfSksZWxlbWVudC5zdG9wKCEwKS5hbmltYXRlKHByb3BlcnRpZXMsZHVyYXRpb24sb3B0aW9ucy5lYXNlfHxcImxpbmVhclwiLG9uQ2wpLGVsZW1lbnR9LENUd2Vlbi5mYWRlT3V0PWZ1bmN0aW9uKHRhcmdldCxkdXJhdGlvbixyZW1vdmUpe3ZhciBvcHRpb25zPXt9O3JlbW92ZT09PSEwP29wdGlvbnMuY29tcGxldGU9ZnVuY3Rpb24oKXt0YXJnZXQucmVtb3ZlKCl9OjI9PT1yZW1vdmUmJihvcHRpb25zLmNvbXBsZXRlPWZ1bmN0aW9uKCl7dGFyZ2V0LmNzcyhcImRpc3BsYXlcIixcIm5vbmVcIil9KSxDVHdlZW4uYW5pbWF0ZSh0YXJnZXQsZHVyYXRpb258fDFlMyx7b3BhY2l0eTowfSxvcHRpb25zKX0sQ1R3ZWVuLmZhZGVJbj1mdW5jdGlvbih0YXJnZXQsZHVyYXRpb24scmVzZXQpe3Jlc2V0IT09ITEmJnRhcmdldC5jc3MoXCJvcGFjaXR5XCIsMCkuY3NzKFwiZGlzcGxheVwiLFwiXCIpLENUd2Vlbi5hbmltYXRlKHRhcmdldCxkdXJhdGlvbnx8MWUzLHtvcGFjaXR5OjF9KX19KCksZnVuY3Rpb24oKXt3aW5kb3cuRWFzZURpYz17bGluZWFyOlwibGluZWFyXCIsZWFzZTpcImVhc2VcIixlYXNlSW46XCJlYXNlLWluXCIsZWFzZU91dDpcImVhc2Utb3V0XCIsZWFzZUluT3V0OlwiZWFzZS1pbi1vdXRcIixlYXNlSW5DdWJpYzpcImN1YmljLWJlemllciguNTUsLjA1NSwuNjc1LC4xOSlcIixlYXNlT3V0Q3ViaWM6XCJjdWJpYy1iZXppZXIoLjIxNSwuNjEsLjM1NSwxKVwiLGVhc2VJbk91dEN1YmljOlwiY3ViaWMtYmV6aWVyKC42NDUsLjA0NSwuMzU1LDEpXCIsZWFzZUluQ2lyYzpcImN1YmljLWJlemllciguNiwuMDQsLjk4LC4zMzUpXCIsZWFzZU91dENpcmM6XCJjdWJpYy1iZXppZXIoLjA3NSwuODIsLjE2NSwxKVwiLGVhc2VJbk91dENpcmM6XCJjdWJpYy1iZXppZXIoLjc4NSwuMTM1LC4xNSwuODYpXCIsZWFzZUluRXhwbzpcImN1YmljLWJlemllciguOTUsLjA1LC43OTUsLjAzNSlcIixlYXNlT3V0RXhwbzpcImN1YmljLWJlemllciguMTksMSwuMjIsMSlcIixlYXNlSW5PdXRFeHBvOlwiY3ViaWMtYmV6aWVyKDEsMCwwLDEpXCIsZWFzZUluUXVhZDpcImN1YmljLWJlemllciguNTUsLjA4NSwuNjgsLjUzKVwiLGVhc2VPdXRRdWFkOlwiY3ViaWMtYmV6aWVyKC4yNSwuNDYsLjQ1LC45NClcIixlYXNlSW5PdXRRdWFkOlwiY3ViaWMtYmV6aWVyKC40NTUsLjAzLC41MTUsLjk1NSlcIixlYXNlSW5RdWFydDpcImN1YmljLWJlemllciguODk1LC4wMywuNjg1LC4yMilcIixlYXNlT3V0UXVhcnQ6XCJjdWJpYy1iZXppZXIoLjE2NSwuODQsLjQ0LDEpXCIsZWFzZUluT3V0UXVhcnQ6XCJjdWJpYy1iZXppZXIoLjc3LDAsLjE3NSwxKVwiLGVhc2VJblF1aW50OlwiY3ViaWMtYmV6aWVyKC43NTUsLjA1LC44NTUsLjA2KVwiLGVhc2VPdXRRdWludDpcImN1YmljLWJlemllciguMjMsMSwuMzIsMSlcIixlYXNlSW5PdXRRdWludDpcImN1YmljLWJlemllciguODYsMCwuMDcsMSlcIixlYXNlSW5TaW5lOlwiY3ViaWMtYmV6aWVyKC40NywwLC43NDUsLjcxNSlcIixlYXNlT3V0U2luZTpcImN1YmljLWJlemllciguMzksLjU3NSwuNTY1LDEpXCIsZWFzZUluT3V0U2luZTpcImN1YmljLWJlemllciguNDQ1LC4wNSwuNTUsLjk1KVwiLGVhc2VJbkJhY2s6XCJjdWJpYy1iZXppZXIoLjYsLS4yOCwuNzM1LC4wNDUpXCIsZWFzZU91dEJhY2s6XCJjdWJpYy1iZXppZXIoLjE3NSwgLjg4NSwuMzIsMS4yNzUpXCIsZWFzZUluT3V0QmFjazpcImN1YmljLWJlemllciguNjgsLS41NSwuMjY1LDEuNTUpXCJ9fSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7d2luZG93Lk1TQWxpZ25lcj1mdW5jdGlvbih0eXBlLCRjb250YWluZXIsJGltZyl7dGhpcy4kY29udGFpbmVyPSRjb250YWluZXIsdGhpcy4kaW1nPSRpbWcsdGhpcy50eXBlPXR5cGV8fFwic3RyZXRjaFwiLHRoaXMud2lkdGhPbmx5PSExLHRoaXMuaGVpZ2h0T25seT0hMX07dmFyIHA9TVNBbGlnbmVyLnByb3RvdHlwZTtwLmluaXQ9ZnVuY3Rpb24odyxoKXtzd2l0Y2godGhpcy5iYXNlV2lkdGg9dyx0aGlzLmJhc2VIZWlnaHQ9aCx0aGlzLmltZ1JhdGlvPXcvaCx0aGlzLmltZ1JhdGlvMj1oL3csdGhpcy50eXBlKXtjYXNlXCJ0aWxlXCI6dGhpcy4kY29udGFpbmVyLmNzcyhcImJhY2tncm91bmQtaW1hZ2VcIixcInVybChcIit0aGlzLiRpbWcuYXR0cihcInNyY1wiKStcIilcIiksdGhpcy4kaW1nLnJlbW92ZSgpO2JyZWFrO2Nhc2VcImNlbnRlclwiOnRoaXMuJGNvbnRhaW5lci5jc3MoXCJiYWNrZ3JvdW5kLWltYWdlXCIsXCJ1cmwoXCIrdGhpcy4kaW1nLmF0dHIoXCJzcmNcIikrXCIpXCIpLHRoaXMuJGNvbnRhaW5lci5jc3Moe2JhY2tncm91bmRQb3NpdGlvbjpcImNlbnRlciBjZW50ZXJcIixiYWNrZ3JvdW5kUmVwZWF0Olwibm8tcmVwZWF0XCJ9KSx0aGlzLiRpbWcucmVtb3ZlKCk7YnJlYWs7Y2FzZVwic3RyZXRjaFwiOnRoaXMuJGltZy5jc3Moe3dpZHRoOlwiMTAwJVwiLGhlaWdodDpcIjEwMCVcIn0pO2JyZWFrO2Nhc2VcImZpbGxcIjpjYXNlXCJmaXRcIjp0aGlzLm5lZWRBbGlnbj0hMCx0aGlzLmFsaWduKCl9fSxwLmFsaWduPWZ1bmN0aW9uKCl7aWYodGhpcy5uZWVkQWxpZ24pe3ZhciBjb250X3c9dGhpcy4kY29udGFpbmVyLndpZHRoKCksY29udF9oPXRoaXMuJGNvbnRhaW5lci5oZWlnaHQoKSxjb250UmF0aW89Y29udF93L2NvbnRfaDtcImZpbGxcIj09dGhpcy50eXBlP3RoaXMuaW1nUmF0aW88Y29udFJhdGlvPyh0aGlzLiRpbWcud2lkdGgoY29udF93KSx0aGlzLiRpbWcuaGVpZ2h0KGNvbnRfdyp0aGlzLmltZ1JhdGlvMikpOih0aGlzLiRpbWcuaGVpZ2h0KGNvbnRfaCksdGhpcy4kaW1nLndpZHRoKGNvbnRfaCp0aGlzLmltZ1JhdGlvKSk6XCJmaXRcIj09dGhpcy50eXBlJiYodGhpcy5pbWdSYXRpbzxjb250UmF0aW8/KHRoaXMuJGltZy5oZWlnaHQoY29udF9oKSx0aGlzLiRpbWcud2lkdGgoY29udF9oKnRoaXMuaW1nUmF0aW8pKToodGhpcy4kaW1nLndpZHRoKGNvbnRfdyksdGhpcy4kaW1nLmhlaWdodChjb250X3cqdGhpcy5pbWdSYXRpbzIpKSksdGhpcy5zZXRNYXJnaW4oKX19LHAuc2V0TWFyZ2luPWZ1bmN0aW9uKCl7dmFyIGNvbnRfdz10aGlzLiRjb250YWluZXIud2lkdGgoKSxjb250X2g9dGhpcy4kY29udGFpbmVyLmhlaWdodCgpO3RoaXMuJGltZy5jc3MoXCJtYXJnaW4tdG9wXCIsKGNvbnRfaC10aGlzLiRpbWdbMF0ub2Zmc2V0SGVpZ2h0KS8yK1wicHhcIiksdGhpcy4kaW1nLmNzcyhcIm1hcmdpbi1sZWZ0XCIsKGNvbnRfdy10aGlzLiRpbWdbMF0ub2Zmc2V0V2lkdGgpLzIrXCJweFwiKX19KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgX29wdGlvbnM9e2JvdW5jaW5nOiEwLHNuYXBwaW5nOiExLHNuYXBzaXplOm51bGwsZnJpY3Rpb246LjA1LG91dEZyaWN0aW9uOi4wNSxvdXRBY2NlbGVyYXRpb246LjA5LG1pblZhbGlkRGlzdDouMyxzbmFwcGluZ01pblNwZWVkOjIscGFnaW5nOiExLGVuZGxlc3M6ITEsbWF4U3BlZWQ6MTYwfSxDb250cm9sbGVyPWZ1bmN0aW9uKG1pbixtYXgsb3B0aW9ucyl7aWYobnVsbD09PW1heHx8bnVsbD09PW1pbil0aHJvdyBuZXcgRXJyb3IoXCJNYXggYW5kIE1pbiB2YWx1ZXMgYXJlIHJlcXVpcmVkLlwiKTt0aGlzLm9wdGlvbnM9b3B0aW9uc3x8e307Zm9yKHZhciBrZXkgaW4gX29wdGlvbnMpa2V5IGluIHRoaXMub3B0aW9uc3x8KHRoaXMub3B0aW9uc1trZXldPV9vcHRpb25zW2tleV0pO3RoaXMuX21heF92YWx1ZT1tYXgsdGhpcy5fbWluX3ZhbHVlPW1pbix0aGlzLnZhbHVlPW1pbix0aGlzLmVuZF9sb2M9bWluLHRoaXMuY3VycmVudF9zbmFwPXRoaXMuZ2V0U25hcE51bShtaW4pLHRoaXMuX19leHRyU3RlcD0wLHRoaXMuX19leHRyYU1vdmU9MCx0aGlzLl9fYW5pbUlEPS0xfSxwPUNvbnRyb2xsZXIucHJvdG90eXBlO3AuY2hhbmdlVG89ZnVuY3Rpb24odmFsdWUsYW5pbWF0ZSxzcGVlZCxzbmFwX251bSxkaXNwYXRjaCl7aWYodGhpcy5zdG9wcGVkPSExLHRoaXMuX2ludGVybmFsU3RvcCgpLHZhbHVlPXRoaXMuX2NoZWNrTGltaXRzKHZhbHVlKSxzcGVlZD1NYXRoLmFicyhzcGVlZHx8MCksdGhpcy5vcHRpb25zLnNuYXBwaW5nJiYoc25hcF9udW09c25hcF9udW18fHRoaXMuZ2V0U25hcE51bSh2YWx1ZSksZGlzcGF0Y2ghPT0hMSYmdGhpcy5fY2FsbHNuYXBDaGFuZ2Uoc25hcF9udW0pLHRoaXMuY3VycmVudF9zbmFwPXNuYXBfbnVtKSxhbmltYXRlKXt0aGlzLmFuaW1hdGluZz0hMDt2YXIgc2VsZj10aGlzLGFjdGl2ZV9pZD0rK3NlbGYuX19hbmltSUQsYW1wbGl0dWRlPXZhbHVlLXNlbGYudmFsdWUsdGltZVN0ZXA9MCx0YXJnZXRQb3NpdGlvbj12YWx1ZSxhbmltRnJpY3Q9MS1zZWxmLm9wdGlvbnMuZnJpY3Rpb24sdGltZWNvbnN0PWFuaW1GcmljdCsoc3BlZWQtMjApKmFuaW1GcmljdCoxLjMvc2VsZi5vcHRpb25zLm1heFNwZWVkLHRpY2s9ZnVuY3Rpb24oKXtpZihhY3RpdmVfaWQ9PT1zZWxmLl9fYW5pbUlEKXt2YXIgZGlzPXZhbHVlLXNlbGYudmFsdWU7aWYoIShNYXRoLmFicyhkaXMpPnNlbGYub3B0aW9ucy5taW5WYWxpZERpc3QmJnNlbGYuYW5pbWF0aW5nKSlyZXR1cm4gc2VsZi5hbmltYXRpbmcmJihzZWxmLnZhbHVlPXZhbHVlLHNlbGYuX2NhbGxyZW5kZXJlcigpKSxzZWxmLmFuaW1hdGluZz0hMSxhY3RpdmVfaWQhPT1zZWxmLl9fYW5pbUlEJiYoc2VsZi5fX2FuaW1JRD0tMSksdm9pZCBzZWxmLl9jYWxsb25Db21wbGV0ZShcImFuaW1cIik7d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aWNrKSxzZWxmLnZhbHVlPXRhcmdldFBvc2l0aW9uLWFtcGxpdHVkZSpNYXRoLmV4cCgtKyt0aW1lU3RlcCp0aW1lY29uc3QpLHNlbGYuX2NhbGxyZW5kZXJlcigpfX07cmV0dXJuIHZvaWQgdGljaygpfXRoaXMudmFsdWU9dmFsdWUsdGhpcy5fY2FsbHJlbmRlcmVyKCl9LHAuZHJhZz1mdW5jdGlvbihtb3ZlKXt0aGlzLnN0YXJ0X2RyYWcmJih0aGlzLmRyYWdfc3RhcnRfbG9jPXRoaXMudmFsdWUsdGhpcy5zdGFydF9kcmFnPSExKSx0aGlzLmFuaW1hdGluZz0hMSx0aGlzLl9kZWNlbGVyYXRpb249ITEsdGhpcy52YWx1ZS09bW92ZSwhdGhpcy5vcHRpb25zLmVuZGxlc3MmJih0aGlzLnZhbHVlPnRoaXMuX21heF92YWx1ZXx8dGhpcy52YWx1ZTwwKT90aGlzLm9wdGlvbnMuYm91bmNpbmc/KHRoaXMuX19pc291dD0hMCx0aGlzLnZhbHVlKz0uNiptb3ZlKTp0aGlzLnZhbHVlPXRoaXMudmFsdWU+dGhpcy5fbWF4X3ZhbHVlP3RoaXMuX21heF92YWx1ZTowOiF0aGlzLm9wdGlvbnMuZW5kbGVzcyYmdGhpcy5vcHRpb25zLmJvdW5jaW5nJiYodGhpcy5fX2lzb3V0PSExKSx0aGlzLl9jYWxscmVuZGVyZXIoKX0scC5wdXNoPWZ1bmN0aW9uKHNwZWVkKXtpZih0aGlzLnN0b3BwZWQ9ITEsdGhpcy5vcHRpb25zLnNuYXBwaW5nJiZNYXRoLmFicyhzcGVlZCk8PXRoaXMub3B0aW9ucy5zbmFwcGluZ01pblNwZWVkKXJldHVybiB2b2lkIHRoaXMuY2FuY2VsKCk7aWYodGhpcy5fX3NwZWVkPXNwZWVkLHRoaXMuX19zdGFydFNwZWVkPXNwZWVkLHRoaXMuZW5kX2xvYz10aGlzLl9jYWxjdWxhdGVFbmQoKSx0aGlzLm9wdGlvbnMuc25hcHBpbmcpe3ZhciBzbmFwX2xvYz10aGlzLmdldFNuYXBOdW0odGhpcy52YWx1ZSksZW5kX3NuYXA9dGhpcy5nZXRTbmFwTnVtKHRoaXMuZW5kX2xvYyk7aWYodGhpcy5vcHRpb25zLnBhZ2luZylyZXR1cm4gc25hcF9sb2M9dGhpcy5nZXRTbmFwTnVtKHRoaXMuZHJhZ19zdGFydF9sb2MpLHRoaXMuX19pc291dD0hMSx2b2lkKHNwZWVkPjA/dGhpcy5nb3RvU25hcChzbmFwX2xvYysxLCEwLHNwZWVkKTp0aGlzLmdvdG9TbmFwKHNuYXBfbG9jLTEsITAsc3BlZWQpKTtpZihzbmFwX2xvYz09PWVuZF9zbmFwKXJldHVybiB2b2lkIHRoaXMuY2FuY2VsKCk7dGhpcy5fY2FsbHNuYXBDaGFuZ2UoZW5kX3NuYXApLHRoaXMuY3VycmVudF9zbmFwPWVuZF9zbmFwfXRoaXMuYW5pbWF0aW5nPSExLHRoaXMuX19uZWVkc1NuYXA9dGhpcy5vcHRpb25zLmVuZGxlc3N8fHRoaXMuZW5kX2xvYz50aGlzLl9taW5fdmFsdWUmJnRoaXMuZW5kX2xvYzx0aGlzLl9tYXhfdmFsdWUsdGhpcy5vcHRpb25zLnNuYXBwaW5nJiZ0aGlzLl9fbmVlZHNTbmFwJiYodGhpcy5fX2V4dHJhTW92ZT10aGlzLl9jYWxjdWxhdGVFeHRyYU1vdmUodGhpcy5lbmRfbG9jKSksdGhpcy5fc3RhcnREZWNlbGFyYXRpb24oKX0scC5ib3VuY2U9ZnVuY3Rpb24oc3BlZWQpe3RoaXMuYW5pbWF0aW5nfHwodGhpcy5zdG9wcGVkPSExLHRoaXMuYW5pbWF0aW5nPSExLHRoaXMuX19zcGVlZD1zcGVlZCx0aGlzLl9fc3RhcnRTcGVlZD1zcGVlZCx0aGlzLmVuZF9sb2M9dGhpcy5fY2FsY3VsYXRlRW5kKCksdGhpcy5fc3RhcnREZWNlbGFyYXRpb24oKSl9LHAuc3RvcD1mdW5jdGlvbigpe3RoaXMuc3RvcHBlZD0hMCx0aGlzLl9pbnRlcm5hbFN0b3AoKX0scC5jYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLnN0YXJ0X2RyYWc9ITAsdGhpcy5fX2lzb3V0Pyh0aGlzLl9fc3BlZWQ9NGUtNCx0aGlzLl9zdGFydERlY2VsYXJhdGlvbigpKTp0aGlzLm9wdGlvbnMuc25hcHBpbmcmJnRoaXMuZ290b1NuYXAodGhpcy5nZXRTbmFwTnVtKHRoaXMudmFsdWUpLCEwKX0scC5yZW5kZXJDYWxsYmFjaz1mdW5jdGlvbihsaXN0ZW5lcixyZWYpe3RoaXMuX19yZW5kZXJIb29rPXtmdW46bGlzdGVuZXIscmVmOnJlZn19LHAuc25hcHBpbmdDYWxsYmFjaz1mdW5jdGlvbihsaXN0ZW5lcixyZWYpe3RoaXMuX19zbmFwSG9vaz17ZnVuOmxpc3RlbmVyLHJlZjpyZWZ9fSxwLnNuYXBDb21wbGV0ZUNhbGxiYWNrPWZ1bmN0aW9uKGxpc3RlbmVyLHJlZil7dGhpcy5fX2NvbXBIb29rPXtmdW46bGlzdGVuZXIscmVmOnJlZn19LHAuZ2V0U25hcE51bT1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIE1hdGguZmxvb3IoKHZhbHVlK3RoaXMub3B0aW9ucy5zbmFwc2l6ZS8yKS90aGlzLm9wdGlvbnMuc25hcHNpemUpfSxwLm5leHRTbmFwPWZ1bmN0aW9uKCl7dGhpcy5faW50ZXJuYWxTdG9wKCk7dmFyIGN1cnJfc25hcD10aGlzLmdldFNuYXBOdW0odGhpcy52YWx1ZSk7IXRoaXMub3B0aW9ucy5lbmRsZXNzJiYoY3Vycl9zbmFwKzEpKnRoaXMub3B0aW9ucy5zbmFwc2l6ZT50aGlzLl9tYXhfdmFsdWU/KHRoaXMuX19zcGVlZD04LHRoaXMuX19uZWVkc1NuYXA9ITEsdGhpcy5fc3RhcnREZWNlbGFyYXRpb24oKSk6dGhpcy5nb3RvU25hcChjdXJyX3NuYXArMSwhMCl9LHAucHJldlNuYXA9ZnVuY3Rpb24oKXt0aGlzLl9pbnRlcm5hbFN0b3AoKTt2YXIgY3Vycl9zbmFwPXRoaXMuZ2V0U25hcE51bSh0aGlzLnZhbHVlKTshdGhpcy5vcHRpb25zLmVuZGxlc3MmJihjdXJyX3NuYXAtMSkqdGhpcy5vcHRpb25zLnNuYXBzaXplPHRoaXMuX21pbl92YWx1ZT8odGhpcy5fX3NwZWVkPS04LHRoaXMuX19uZWVkc1NuYXA9ITEsdGhpcy5fc3RhcnREZWNlbGFyYXRpb24oKSk6dGhpcy5nb3RvU25hcChjdXJyX3NuYXAtMSwhMCl9LHAuZ290b1NuYXA9ZnVuY3Rpb24oc25hcF9udW0sYW5pbWF0ZSxzcGVlZCl7dGhpcy5jaGFuZ2VUbyhzbmFwX251bSp0aGlzLm9wdGlvbnMuc25hcHNpemUsYW5pbWF0ZSxzcGVlZCxzbmFwX251bSl9LHAuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuX2ludGVybmFsU3RvcCgpLHRoaXMuX19yZW5kZXJIb29rPW51bGwsdGhpcy5fX3NuYXBIb29rPW51bGwsdGhpcy5fX2NvbXBIb29rPW51bGx9LHAuX2ludGVybmFsU3RvcD1mdW5jdGlvbigpe3RoaXMuc3RhcnRfZHJhZz0hMCx0aGlzLmFuaW1hdGluZz0hMSx0aGlzLl9kZWNlbGVyYXRpb249ITEsdGhpcy5fX2V4dHJTdGVwPTB9LHAuX2NhbGN1bGF0ZUV4dHJhTW92ZT1mdW5jdGlvbih2YWx1ZSl7dmFyIG09dmFsdWUldGhpcy5vcHRpb25zLnNuYXBzaXplO3JldHVybiBtPHRoaXMub3B0aW9ucy5zbmFwc2l6ZS8yPy1tOnRoaXMub3B0aW9ucy5zbmFwc2l6ZS1tfSxwLl9jYWxjdWxhdGVFbmQ9ZnVuY3Rpb24oc3RlcCl7Zm9yKHZhciB0ZW1wX3NwZWVkPXRoaXMuX19zcGVlZCx0ZW1wX3ZhbHVlPXRoaXMudmFsdWUsaT0wO01hdGguYWJzKHRlbXBfc3BlZWQpPnRoaXMub3B0aW9ucy5taW5WYWxpZERpc3Q7KXRlbXBfdmFsdWUrPXRlbXBfc3BlZWQsdGVtcF9zcGVlZCo9dGhpcy5vcHRpb25zLmZyaWN0aW9uLGkrKztyZXR1cm4gc3RlcD9pOnRlbXBfdmFsdWV9LHAuX2NoZWNrTGltaXRzPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdGhpcy5vcHRpb25zLmVuZGxlc3M/dmFsdWU6dmFsdWU8dGhpcy5fbWluX3ZhbHVlP3RoaXMuX21pbl92YWx1ZTp2YWx1ZT50aGlzLl9tYXhfdmFsdWU/dGhpcy5fbWF4X3ZhbHVlOnZhbHVlfSxwLl9jYWxscmVuZGVyZXI9ZnVuY3Rpb24oKXt0aGlzLl9fcmVuZGVySG9vayYmdGhpcy5fX3JlbmRlckhvb2suZnVuLmNhbGwodGhpcy5fX3JlbmRlckhvb2sucmVmLHRoaXMsdGhpcy52YWx1ZSl9LHAuX2NhbGxzbmFwQ2hhbmdlPWZ1bmN0aW9uKHRhcmdldFNuYXApe3RoaXMuX19zbmFwSG9vayYmdGFyZ2V0U25hcCE9PXRoaXMuY3VycmVudF9zbmFwJiZ0aGlzLl9fc25hcEhvb2suZnVuLmNhbGwodGhpcy5fX3NuYXBIb29rLnJlZix0aGlzLHRhcmdldFNuYXAsdGFyZ2V0U25hcC10aGlzLmN1cnJlbnRfc25hcCl9LHAuX2NhbGxvbkNvbXBsZXRlPWZ1bmN0aW9uKHR5cGUpe3RoaXMuX19jb21wSG9vayYmIXRoaXMuc3RvcHBlZCYmdGhpcy5fX2NvbXBIb29rLmZ1bi5jYWxsKHRoaXMuX19jb21wSG9vay5yZWYsdGhpcyx0aGlzLmN1cnJlbnRfc25hcCx0eXBlKX0scC5fY29tcHV0ZURlY2VsZXJhdGlvbj1mdW5jdGlvbigpe2lmKHRoaXMub3B0aW9ucy5zbmFwcGluZyYmdGhpcy5fX25lZWRzU25hcCl7dmFyIHh0cl9tb3ZlPSh0aGlzLl9fc3RhcnRTcGVlZC10aGlzLl9fc3BlZWQpL3RoaXMuX19zdGFydFNwZWVkKnRoaXMuX19leHRyYU1vdmU7dGhpcy52YWx1ZSs9dGhpcy5fX3NwZWVkK3h0cl9tb3ZlLXRoaXMuX19leHRyU3RlcCx0aGlzLl9fZXh0clN0ZXA9eHRyX21vdmV9ZWxzZSB0aGlzLnZhbHVlKz10aGlzLl9fc3BlZWQ7aWYodGhpcy5fX3NwZWVkKj10aGlzLm9wdGlvbnMuZnJpY3Rpb24sdGhpcy5vcHRpb25zLmVuZGxlc3N8fHRoaXMub3B0aW9ucy5ib3VuY2luZ3x8KHRoaXMudmFsdWU8PXRoaXMuX21pbl92YWx1ZT8odGhpcy52YWx1ZT10aGlzLl9taW5fdmFsdWUsdGhpcy5fX3NwZWVkPTApOnRoaXMudmFsdWU+PXRoaXMuX21heF92YWx1ZSYmKHRoaXMudmFsdWU9dGhpcy5fbWF4X3ZhbHVlLHRoaXMuX19zcGVlZD0wKSksdGhpcy5fY2FsbHJlbmRlcmVyKCksIXRoaXMub3B0aW9ucy5lbmRsZXNzJiZ0aGlzLm9wdGlvbnMuYm91bmNpbmcpe3ZhciBvdXRfdmFsdWU9MDt0aGlzLnZhbHVlPHRoaXMuX21pbl92YWx1ZT9vdXRfdmFsdWU9dGhpcy5fbWluX3ZhbHVlLXRoaXMudmFsdWU6dGhpcy52YWx1ZT50aGlzLl9tYXhfdmFsdWUmJihvdXRfdmFsdWU9dGhpcy5fbWF4X3ZhbHVlLXRoaXMudmFsdWUpLHRoaXMuX19pc291dD1NYXRoLmFicyhvdXRfdmFsdWUpPj10aGlzLm9wdGlvbnMubWluVmFsaWREaXN0LHRoaXMuX19pc291dCYmKHRoaXMuX19zcGVlZCpvdXRfdmFsdWU8PTA/dGhpcy5fX3NwZWVkKz1vdXRfdmFsdWUqdGhpcy5vcHRpb25zLm91dEZyaWN0aW9uOnRoaXMuX19zcGVlZD1vdXRfdmFsdWUqdGhpcy5vcHRpb25zLm91dEFjY2VsZXJhdGlvbil9fSxwLl9zdGFydERlY2VsYXJhdGlvbj1mdW5jdGlvbigpe2lmKCF0aGlzLl9kZWNlbGVyYXRpb24pe3RoaXMuX2RlY2VsZXJhdGlvbj0hMDt2YXIgc2VsZj10aGlzLHRpY2s9ZnVuY3Rpb24oKXtzZWxmLl9kZWNlbGVyYXRpb24mJihzZWxmLl9jb21wdXRlRGVjZWxlcmF0aW9uKCksTWF0aC5hYnMoc2VsZi5fX3NwZWVkKT5zZWxmLm9wdGlvbnMubWluVmFsaWREaXN0fHxzZWxmLl9faXNvdXQ/d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aWNrKTooc2VsZi5fZGVjZWxlcmF0aW9uPSExLHNlbGYuX19pc291dD0hMSxzZWxmLnZhbHVlPXNlbGYuX19uZWVkc1NuYXAmJnNlbGYub3B0aW9ucy5zbmFwcGluZyYmIXNlbGYub3B0aW9ucy5wYWdpbmc/c2VsZi5fY2hlY2tMaW1pdHMoc2VsZi5lbmRfbG9jK3NlbGYuX19leHRyYU1vdmUpOk1hdGgucm91bmQoc2VsZi52YWx1ZSksc2VsZi5fY2FsbHJlbmRlcmVyKCksc2VsZi5fY2FsbG9uQ29tcGxldGUoXCJkZWNlbFwiKSkpfTt0aWNrKCl9fSx3aW5kb3cuQ29udHJvbGxlcj1Db250cm9sbGVyfSgpLGZ1bmN0aW9uKHdpbmRvdyxkb2N1bWVudCwkKXt3aW5kb3cuTVNMYXllckNvbnRyb2xsZXI9ZnVuY3Rpb24oc2xpZGUpe3RoaXMuc2xpZGU9c2xpZGUsdGhpcy5zbGlkZXI9c2xpZGUuc2xpZGVyLHRoaXMubGF5ZXJzPVtdLHRoaXMubGF5ZXJzQ291bnQ9MCx0aGlzLnByZWxvYWRDb3VudD0wLHRoaXMuJGxheWVycz0kKFwiPGRpdj48L2Rpdj5cIikuYWRkQ2xhc3MoXCJtcy1zbGlkZS1sYXllcnNcIiksdGhpcy4kc3RhdGljTGF5ZXJzPSQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyhcIm1zLXN0YXRpYy1sYXllcnNcIiksdGhpcy4kZml4ZWRMYXllcnM9JChcIjxkaXY+PC9kaXY+XCIpLmFkZENsYXNzKFwibXMtZml4ZWQtbGF5ZXJzXCIpLHRoaXMuJGFuaW1MYXllcnM9JChcIjxkaXY+PC9kaXY+XCIpLmFkZENsYXNzKFwibXMtYW5pbS1sYXllcnNcIil9O3ZhciBwPU1TTGF5ZXJDb250cm9sbGVyLnByb3RvdHlwZTtwLmFkZExheWVyPWZ1bmN0aW9uKGxheWVyKXtzd2l0Y2gobGF5ZXIuc2xpZGU9dGhpcy5zbGlkZSxsYXllci5jb250cm9sbGVyPXRoaXMsbGF5ZXIuJGVsZW1lbnQuZGF0YShcInBvc2l0aW9uXCIpKXtjYXNlXCJzdGF0aWNcIjp0aGlzLmhhc1N0YXRpY0xheWVyPSEwLGxheWVyLiRlbGVtZW50LmFwcGVuZFRvKHRoaXMuJHN0YXRpY0xheWVycyk7YnJlYWs7Y2FzZVwiZml4ZWRcIjp0aGlzLmhhc0ZpeGVkTGF5ZXI9ITAsbGF5ZXIuJGVsZW1lbnQuYXBwZW5kVG8odGhpcy4kZml4ZWRMYXllcnMpO2JyZWFrO2RlZmF1bHQ6bGF5ZXIuJGVsZW1lbnQuYXBwZW5kVG8odGhpcy4kYW5pbUxheWVycyl9bGF5ZXIuY3JlYXRlKCksdGhpcy5sYXllcnMucHVzaChsYXllciksdGhpcy5sYXllcnNDb3VudCsrLGxheWVyLnBhcmFsbGF4JiYodGhpcy5oYXNQYXJhbGxheExheWVyPSEwKSxsYXllci5uZWVkUHJlbG9hZCYmdGhpcy5wcmVsb2FkQ291bnQrK30scC5jcmVhdGU9ZnVuY3Rpb24oKXt0aGlzLnNsaWRlLiRlbGVtZW50LmFwcGVuZCh0aGlzLiRsYXllcnMpLHRoaXMuJGxheWVycy5hcHBlbmQodGhpcy4kYW5pbUxheWVycyksdGhpcy5oYXNTdGF0aWNMYXllciYmdGhpcy4kbGF5ZXJzLmFwcGVuZCh0aGlzLiRzdGF0aWNMYXllcnMpLFwiY2VudGVyXCI9PXRoaXMuc2xpZGVyLm9wdGlvbnMubGF5ZXJzTW9kZSYmKHRoaXMuJGxheWVycy5jc3MoXCJtYXgtd2lkdGhcIix0aGlzLnNsaWRlci5vcHRpb25zLndpZHRoK1wicHhcIiksdGhpcy5oYXNGaXhlZExheWVyJiZ0aGlzLiRmaXhlZExheWVycy5jc3MoXCJtYXgtd2lkdGhcIix0aGlzLnNsaWRlci5vcHRpb25zLndpZHRoK1wicHhcIikpfSxwLmxvYWRMYXllcnM9ZnVuY3Rpb24oY2FsbGJhY2spe2lmKHRoaXMuX29uUmVhZHlDYWxsYmFjaz1jYWxsYmFjaywwPT09dGhpcy5wcmVsb2FkQ291bnQpcmV0dXJuIHZvaWQgdGhpcy5fb25sYXllcnNSZWFkeSgpO2Zvcih2YXIgaT0wO2khPT10aGlzLmxheWVyc0NvdW50OysraSl0aGlzLmxheWVyc1tpXS5uZWVkUHJlbG9hZCYmdGhpcy5sYXllcnNbaV0ubG9hZEltYWdlKCl9LHAucHJlcGFyZVRvU2hvdz1mdW5jdGlvbigpe3RoaXMuaGFzUGFyYWxsYXhMYXllciYmdGhpcy5fZW5hYmxlUGFyYWxsYXhFZmZlY3QoKSx0aGlzLmhhc0ZpeGVkTGF5ZXImJnRoaXMuJGZpeGVkTGF5ZXJzLnByZXBlbmRUbyh0aGlzLnNsaWRlLnZpZXcuJGVsZW1lbnQpfSxwLnNob3dMYXllcnM9ZnVuY3Rpb24oKXt0aGlzLmxheWVyc0hpZGVUd2VlbiYmdGhpcy5sYXllcnNIaWRlVHdlZW4uc3RvcCghMCksdGhpcy5maXhlZExheWVyc0hpZGVUd2VlbiYmdGhpcy5maXhlZExheWVyc0hpZGVUd2Vlbi5zdG9wKCEwKSx0aGlzLl9yZXNldExheWVycygpLHRoaXMuJGFuaW1MYXllcnMuY3NzKFwib3BhY2l0eVwiLFwiXCIpLmNzcyhcImRpc3BsYXlcIixcIlwiKSx0aGlzLmhhc0ZpeGVkTGF5ZXImJnRoaXMuJGZpeGVkTGF5ZXJzLmNzcyhcIm9wYWNpdHlcIixcIlwiKS5jc3MoXCJkaXNwbGF5XCIsXCJcIiksdGhpcy5yZWFkeSYmKHRoaXMuX2luaXRMYXllcnMoKSx0aGlzLl9sb2NhdGVMYXllcnMoKSx0aGlzLl9zdGFydExheWVycygpKX0scC5oaWRlTGF5ZXJzPWZ1bmN0aW9uKCl7aWYodGhpcy5zbGlkZS5zZWxlY3RlZHx8dGhpcy5zbGlkZXIub3B0aW9ucy5pbnN0YW50U3RhcnRMYXllcnMpe3ZhciB0aGF0PXRoaXM7dGhhdC5sYXllcnNIaWRlVHdlZW49Q1R3ZWVuLmFuaW1hdGUodGhpcy4kYW5pbUxheWVycyw1MDAse29wYWNpdHk6MH0se2NvbXBsZXRlOmZ1bmN0aW9uKCl7dGhhdC5fcmVzZXRMYXllcnMoKX19KSx0aGlzLmhhc0ZpeGVkTGF5ZXImJih0aGlzLmZpeGVkTGF5ZXJzSGlkZVR3ZWVuPUNUd2Vlbi5hbmltYXRlKHRoaXMuJGZpeGVkTGF5ZXJzLDUwMCx7b3BhY2l0eTowfSx7Y29tcGxldGU6ZnVuY3Rpb24oKXt0aGF0LiRmaXhlZExheWVycy5kZXRhY2goKX19KSksdGhpcy5oYXNQYXJhbGxheExheWVyJiZ0aGlzLl9kaXNhYmxlUGFyYWxsYXhFZmZlY3QoKX19LHAuYW5pbUhpZGVMYXllcnM9ZnVuY3Rpb24oKXtpZih0aGlzLnJlYWR5KWZvcih2YXIgaT0wO2khPT10aGlzLmxheWVyc0NvdW50OysraSl0aGlzLmxheWVyc1tpXS5oaWRlKCl9LHAuc2V0U2l6ZT1mdW5jdGlvbih3aWR0aCxoZWlnaHQsaGFyZCl7aWYodGhpcy5yZWFkeSYmKHRoaXMuc2xpZGUuc2VsZWN0ZWR8fHRoaXMuaGFzU3RhdGljTGF5ZXIpJiYoaGFyZCYmdGhpcy5faW5pdExheWVycyghMCksdGhpcy5fbG9jYXRlTGF5ZXJzKCF0aGlzLnNsaWRlLnNlbGVjdGVkKSksdGhpcy5zbGlkZXIub3B0aW9ucy5hdXRvSGVpZ2h0JiZ0aGlzLnVwZGF0ZUhlaWdodCgpLFwiY2VudGVyXCI9PXRoaXMuc2xpZGVyLm9wdGlvbnMubGF5ZXJzTW9kZSl7dmFyIGxlZnQ9TWF0aC5tYXgoMCwod2lkdGgtdGhpcy5zbGlkZXIub3B0aW9ucy53aWR0aCkvMikrXCJweFwiO3RoaXMuJGxheWVyc1swXS5zdHlsZS5sZWZ0PWxlZnQsdGhpcy4kZml4ZWRMYXllcnNbMF0uc3R5bGUubGVmdD1sZWZ0fX0scC51cGRhdGVIZWlnaHQ9ZnVuY3Rpb24oKXt2YXIgaD10aGlzLnNsaWRlLmdldEhlaWdodCgpK1wicHhcIjt0aGlzLiRsYXllcnNbMF0uc3R5bGUuaGVpZ2h0PWgsdGhpcy4kZml4ZWRMYXllcnNbMF0uc3R5bGUuaGVpZ2h0PWh9LHAuX29ubGF5ZXJzUmVhZHk9ZnVuY3Rpb24oKXt0aGlzLnJlYWR5PSEwLHRoaXMuaGFzU3RhdGljTGF5ZXImJiF0aGlzLnNsaWRlLmlzU2xlZXBpbmcmJnRoaXMuX2luaXRMYXllcnMoITEsITApLHRoaXMuX29uUmVhZHlDYWxsYmFjay5jYWxsKHRoaXMuc2xpZGUpfSxwLm9uU2xpZGVTbGVlcD1mdW5jdGlvbigpe30scC5vblNsaWRlV2FrZXVwPWZ1bmN0aW9uKCl7dGhpcy5oYXNTdGF0aWNMYXllciYmdGhpcy5yZWFkeSYmdGhpcy5faW5pdExheWVycyghMSwhMCl9LHAuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuc2xpZGUuc2VsZWN0ZWQmJnRoaXMuaGFzUGFyYWxsYXhMYXllciYmdGhpcy5fZGlzYWJsZVBhcmFsbGF4RWZmZWN0KCk7Zm9yKHZhciBpPTA7aTx0aGlzLmxheWVyc0NvdW50OysraSl0aGlzLmxheWVyc1tpXS4kZWxlbWVudC5zdG9wKCEwKS5yZW1vdmUoKTt0aGlzLiRsYXllcnMucmVtb3ZlKCksdGhpcy4kc3RhdGljTGF5ZXJzLnJlbW92ZSgpLHRoaXMuJGZpeGVkTGF5ZXJzLnJlbW92ZSgpLHRoaXMuJGFuaW1MYXllcnMucmVtb3ZlKCl9LHAuX3N0YXJ0TGF5ZXJzPWZ1bmN0aW9uKCl7Zm9yKHZhciBpPTA7aSE9PXRoaXMubGF5ZXJzQ291bnQ7KytpKXRoaXMubGF5ZXJzW2ldLnN0YXJ0KCl9LHAuX2luaXRMYXllcnM9ZnVuY3Rpb24oZm9yY2Usb25seVN0YXRpY3Mpe2lmKCEodGhpcy5pbml0JiYhZm9yY2V8fHRoaXMuc2xpZGVyLmluaXRfc2FmZW1vZGUpKXt0aGlzLmluaXQ9b25seVN0YXRpY3MhPT0hMDt2YXIgaT0wO2lmKG9ubHlTdGF0aWNzJiYhdGhpcy5zdGF0aWNzSW5pdClmb3IodGhpcy5zdGF0aWNzSW5pdD0hMDtpIT09dGhpcy5sYXllcnNDb3VudDsrK2kpdGhpcy5sYXllcnNbaV0uc3RhdGljTGF5ZXImJnRoaXMubGF5ZXJzW2ldLmluaXQoKTtlbHNlIGlmKHRoaXMuc3RhdGljc0luaXQmJiFmb3JjZSlmb3IoO2khPT10aGlzLmxheWVyc0NvdW50OysraSl0aGlzLmxheWVyc1tpXS5zdGF0aWNMYXllcnx8dGhpcy5sYXllcnNbaV0uaW5pdCgpO2Vsc2UgZm9yKDtpIT09dGhpcy5sYXllcnNDb3VudDsrK2kpdGhpcy5sYXllcnNbaV0uaW5pdCgpfX0scC5fbG9jYXRlTGF5ZXJzPWZ1bmN0aW9uKG9ubHlTdGF0aWNzKXt2YXIgaT0wO2lmKG9ubHlTdGF0aWNzKWZvcig7aSE9PXRoaXMubGF5ZXJzQ291bnQ7KytpKXRoaXMubGF5ZXJzW2ldLnN0YXRpY0xheWVyJiZ0aGlzLmxheWVyc1tpXS5sb2NhdGUoKTtlbHNlIGZvcig7aSE9PXRoaXMubGF5ZXJzQ291bnQ7KytpKXRoaXMubGF5ZXJzW2ldLmxvY2F0ZSgpfSxwLl9yZXNldExheWVycz1mdW5jdGlvbigpe3RoaXMuJGFuaW1MYXllcnMuY3NzKFwiZGlzcGxheVwiLFwibm9uZVwiKS5jc3MoXCJvcGFjaXR5XCIsMSk7Zm9yKHZhciBpPTA7aSE9PXRoaXMubGF5ZXJzQ291bnQ7KytpKXRoaXMubGF5ZXJzW2ldLnJlc2V0KCl9LHAuX2FwcGx5UGFyYWxsYXg9ZnVuY3Rpb24oeCx5LGZhc3Qpe2Zvcih2YXIgaT0wO2khPT10aGlzLmxheWVyc0NvdW50OysraSludWxsIT10aGlzLmxheWVyc1tpXS5wYXJhbGxheCYmdGhpcy5sYXllcnNbaV0ubW92ZVBhcmFsbGF4KHgseSxmYXN0KX0scC5fZW5hYmxlUGFyYWxsYXhFZmZlY3Q9ZnVuY3Rpb24oKXtcInN3aXBlXCI9PT10aGlzLnNsaWRlci5vcHRpb25zLnBhcmFsbGF4TW9kZT90aGlzLnNsaWRlLnZpZXcuYWRkRXZlbnRMaXN0ZW5lcihNU1ZpZXdFdmVudHMuU0NST0xMLHRoaXMuX3N3aXBlUGFyYWxsYXhNb3ZlLHRoaXMpOnRoaXMuc2xpZGUuJGVsZW1lbnQub24oXCJtb3VzZW1vdmVcIix7dGhhdDp0aGlzfSx0aGlzLl9tb3VzZVBhcmFsbGF4TW92ZSkub24oXCJtb3VzZWxlYXZlXCIse3RoYXQ6dGhpc30sdGhpcy5fcmVzZXRQYXJhbGF4KX0scC5fZGlzYWJsZVBhcmFsbGF4RWZmZWN0PWZ1bmN0aW9uKCl7XCJzd2lwZVwiPT09dGhpcy5zbGlkZXIub3B0aW9ucy5wYXJhbGxheE1vZGU/dGhpcy5zbGlkZS52aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoTVNWaWV3RXZlbnRzLlNDUk9MTCx0aGlzLl9zd2lwZVBhcmFsbGF4TW92ZSx0aGlzKTp0aGlzLnNsaWRlLiRlbGVtZW50Lm9mZihcIm1vdXNlbW92ZVwiLHRoaXMuX21vdXNlUGFyYWxsYXhNb3ZlKS5vZmYoXCJtb3VzZWxlYXZlXCIsdGhpcy5fcmVzZXRQYXJhbGF4KX0scC5fcmVzZXRQYXJhbGF4PWZ1bmN0aW9uKGUpe3ZhciB0aGF0PWUuZGF0YS50aGF0O3RoYXQuX2FwcGx5UGFyYWxsYXgoMCwwKX0scC5fbW91c2VQYXJhbGxheE1vdmU9ZnVuY3Rpb24oZSl7dmFyIHRoYXQ9ZS5kYXRhLnRoYXQsb3M9dGhhdC5zbGlkZS4kZWxlbWVudC5vZmZzZXQoKSxzbGlkZXI9dGhhdC5zbGlkZXI7aWYoXCJtb3VzZTp5LW9ubHlcIiE9PXNsaWRlci5vcHRpb25zLnBhcmFsbGF4TW9kZSl2YXIgeD1lLnBhZ2VYLW9zLmxlZnQtdGhhdC5zbGlkZS5fX3dpZHRoLzI7ZWxzZSB2YXIgeD0wO2lmKFwibW91c2U6eC1vbmx5XCIhPT1zbGlkZXIub3B0aW9ucy5wYXJhbGxheE1vZGUpdmFyIHk9ZS5wYWdlWS1vcy50b3AtdGhhdC5zbGlkZS5fX2hlaWdodC8yO2Vsc2UgdmFyIHk9MDt0aGF0Ll9hcHBseVBhcmFsbGF4KC14LC15KX0scC5fc3dpcGVQYXJhbGxheE1vdmU9ZnVuY3Rpb24oKXt2YXIgdmFsdWU9dGhpcy5zbGlkZS5wb3NpdGlvbi10aGlzLnNsaWRlLnZpZXcuX19jb250UG9zO1widlwiPT09dGhpcy5zbGlkZXIub3B0aW9ucy5kaXI/dGhpcy5fYXBwbHlQYXJhbGxheCgwLHZhbHVlLCEwKTp0aGlzLl9hcHBseVBhcmFsbGF4KHZhbHVlLDAsITApfX0od2luZG93LGRvY3VtZW50LGpRdWVyeSksZnVuY3Rpb24oJCl7d2luZG93Lk1TTGF5ZXJFZmZlY3RzPXt9O3ZhciBpbnN0YWxsZWQsX2ZhZGU9e29wYWNpdHk6MH07TVNMYXllckVmZmVjdHMuc2V0dXA9ZnVuY3Rpb24oKXtpZighaW5zdGFsbGVkKXtpbnN0YWxsZWQ9ITA7dmFyIHN0PU1TTGF5ZXJFZmZlY3RzLHRyYW5zZm9ybV9jc3M9d2luZG93Ll9qY3NzcGZ4K1wiVHJhbnNmb3JtXCIsdHJhbnNmb3JtX29yaWdfY3NzPXdpbmRvdy5famNzc3BmeCtcIlRyYW5zZm9ybU9yaWdpblwiLG89JC5icm93c2VyLm9wZXJhO18yZD13aW5kb3cuX2NzczJkJiZ3aW5kb3cuX2Nzc2FuaW0mJiFvLHN0LmRlZmF1bHRWYWx1ZXM9e2xlZnQ6MCx0b3A6MCxvcGFjaXR5OmlzTVNJRShcIjw5XCIpPzE6XCJcIixyaWdodDowLGJvdHRvbTowfSxzdC5kZWZhdWx0VmFsdWVzW3RyYW5zZm9ybV9jc3NdPVwiXCIsc3QucmY9MSxzdC5wcmVzZXRFZmZQYXJhbXM9e3JhbmRvbTpcIjMwfDMwMFwiLFwibG9uZ1wiOjMwMCxcInNob3J0XCI6MzAsXCJmYWxzZVwiOiExLFwidHJ1ZVwiOiEwLHRsOlwidG9wIGxlZnRcIixibDpcImJvdHRvbSBsZWZ0XCIsdHI6XCJ0b3AgcmlnaHRcIixicjpcImJvdHRvbSByaWdodFwiLHJ0OlwidG9wIHJpZ2h0XCIsbGI6XCJib3R0b20gbGVmdFwiLGx0OlwidG9wIGxlZnRcIixyYjpcImJvdHRvbSByaWdodFwiLHQ6XCJ0b3BcIixiOlwiYm90dG9tXCIscjpcInJpZ2h0XCIsbDpcImxlZnRcIixjOlwiY2VudGVyXCJ9LHN0LmZhZGU9ZnVuY3Rpb24oKXtyZXR1cm4gX2ZhZGV9LHN0LmxlZnQ9XzJkP2Z1bmN0aW9uKGRpc3QsZmFkZSl7dmFyIHI9ZmFkZT09PSExP3t9OntvcGFjaXR5OjB9O3JldHVybiByW3RyYW5zZm9ybV9jc3NdPVwidHJhbnNsYXRlWChcIistZGlzdCpzdC5yZitcInB4KVwiLHJ9OmZ1bmN0aW9uKGRpc3QsZmFkZSl7dmFyIHI9ZmFkZT09PSExP3t9OntvcGFjaXR5OjB9O3JldHVybiByLmxlZnQ9LWRpc3Qqc3QucmYrXCJweFwiLHJ9LHN0LnJpZ2h0PV8yZD9mdW5jdGlvbihkaXN0LGZhZGUpe3ZhciByPWZhZGU9PT0hMT97fTp7b3BhY2l0eTowfTtyZXR1cm4gclt0cmFuc2Zvcm1fY3NzXT1cInRyYW5zbGF0ZVgoXCIrZGlzdCpzdC5yZitcInB4KVwiLHJ9OmZ1bmN0aW9uKGRpc3QsZmFkZSl7dmFyIHI9ZmFkZT09PSExP3t9OntvcGFjaXR5OjB9O1xyXG5yZXR1cm4gci5sZWZ0PWRpc3Qqc3QucmYrXCJweFwiLHJ9LHN0LnRvcD1fMmQ/ZnVuY3Rpb24oZGlzdCxmYWRlKXt2YXIgcj1mYWRlPT09ITE/e306e29wYWNpdHk6MH07cmV0dXJuIHJbdHJhbnNmb3JtX2Nzc109XCJ0cmFuc2xhdGVZKFwiKy1kaXN0KnN0LnJmK1wicHgpXCIscn06ZnVuY3Rpb24oZGlzdCxmYWRlKXt2YXIgcj1mYWRlPT09ITE/e306e29wYWNpdHk6MH07cmV0dXJuIHIudG9wPS1kaXN0KnN0LnJmK1wicHhcIixyfSxzdC5ib3R0b209XzJkP2Z1bmN0aW9uKGRpc3QsZmFkZSl7dmFyIHI9ZmFkZT09PSExP3t9OntvcGFjaXR5OjB9O3JldHVybiByW3RyYW5zZm9ybV9jc3NdPVwidHJhbnNsYXRlWShcIitkaXN0KnN0LnJmK1wicHgpXCIscn06ZnVuY3Rpb24oZGlzdCxmYWRlKXt2YXIgcj1mYWRlPT09ITE/e306e29wYWNpdHk6MH07cmV0dXJuIHIudG9wPWRpc3Qqc3QucmYrXCJweFwiLHJ9LHN0LmZyb209XzJkP2Z1bmN0aW9uKGxlZnRkaXMsdG9wZGlzLGZhZGUpe3ZhciByPWZhZGU9PT0hMT97fTp7b3BhY2l0eTowfTtyZXR1cm4gclt0cmFuc2Zvcm1fY3NzXT1cInRyYW5zbGF0ZVgoXCIrbGVmdGRpcypzdC5yZitcInB4KSB0cmFuc2xhdGVZKFwiK3RvcGRpcypzdC5yZitcInB4KVwiLHJ9OmZ1bmN0aW9uKGxlZnRkaXMsdG9wZGlzLGZhZGUpe3ZhciByPWZhZGU9PT0hMT97fTp7b3BhY2l0eTowfTtyZXR1cm4gci50b3A9dG9wZGlzKnN0LnJmK1wicHhcIixyLmxlZnQ9bGVmdGRpcypzdC5yZitcInB4XCIscn0sc3Qucm90YXRlPV8yZD9mdW5jdGlvbihkZWcsb3JpZyl7dmFyIHI9e29wYWNpdHk6MH07cmV0dXJuIHJbdHJhbnNmb3JtX2Nzc109XCIgcm90YXRlKFwiK2RlZytcImRlZylcIixvcmlnJiYoclt0cmFuc2Zvcm1fb3JpZ19jc3NdPW9yaWcpLHJ9OmZ1bmN0aW9uKCl7cmV0dXJuIF9mYWRlfSxzdC5yb3RhdGVsZWZ0PV8yZD9mdW5jdGlvbihkZWcsZGlzdCxvcmlnLGZhZGUpe3ZhciByPXN0LmxlZnQoZGlzdCxmYWRlKTtyZXR1cm4gclt0cmFuc2Zvcm1fY3NzXSs9XCIgcm90YXRlKFwiK2RlZytcImRlZylcIixvcmlnJiYoclt0cmFuc2Zvcm1fb3JpZ19jc3NdPW9yaWcpLHJ9OmZ1bmN0aW9uKGRlZyxkaXN0LG9yaWcsZmFkZSl7cmV0dXJuIHN0LmxlZnQoZGlzdCxmYWRlKX0sc3Qucm90YXRlcmlnaHQ9XzJkP2Z1bmN0aW9uKGRlZyxkaXN0LG9yaWcsZmFkZSl7dmFyIHI9c3QucmlnaHQoZGlzdCxmYWRlKTtyZXR1cm4gclt0cmFuc2Zvcm1fY3NzXSs9XCIgcm90YXRlKFwiK2RlZytcImRlZylcIixvcmlnJiYoclt0cmFuc2Zvcm1fb3JpZ19jc3NdPW9yaWcpLHJ9OmZ1bmN0aW9uKGRlZyxkaXN0LG9yaWcsZmFkZSl7cmV0dXJuIHN0LnJpZ2h0KGRpc3QsZmFkZSl9LHN0LnJvdGF0ZXRvcD1fMmQ/ZnVuY3Rpb24oZGVnLGRpc3Qsb3JpZyxmYWRlKXt2YXIgcj1zdC50b3AoZGlzdCxmYWRlKTtyZXR1cm4gclt0cmFuc2Zvcm1fY3NzXSs9XCIgcm90YXRlKFwiK2RlZytcImRlZylcIixvcmlnJiYoclt0cmFuc2Zvcm1fb3JpZ19jc3NdPW9yaWcpLHJ9OmZ1bmN0aW9uKGRlZyxkaXN0LG9yaWcsZmFkZSl7cmV0dXJuIHN0LnRvcChkaXN0LGZhZGUpfSxzdC5yb3RhdGVib3R0b209XzJkP2Z1bmN0aW9uKGRlZyxkaXN0LG9yaWcsZmFkZSl7dmFyIHI9c3QuYm90dG9tKGRpc3QsZmFkZSk7cmV0dXJuIHJbdHJhbnNmb3JtX2Nzc10rPVwiIHJvdGF0ZShcIitkZWcrXCJkZWcpXCIsb3JpZyYmKHJbdHJhbnNmb3JtX29yaWdfY3NzXT1vcmlnKSxyfTpmdW5jdGlvbihkZWcsZGlzdCxvcmlnLGZhZGUpe3JldHVybiBzdC5ib3R0b20oZGlzdCxmYWRlKX0sc3Qucm90YXRlZnJvbT1fMmQ/ZnVuY3Rpb24oZGVnLGxlZnRkaXMsdG9wZGlzLG9yaWcsZmFkZSl7dmFyIHI9c3QuZnJvbShsZWZ0ZGlzLHRvcGRpcyxmYWRlKTtyZXR1cm4gclt0cmFuc2Zvcm1fY3NzXSs9XCIgcm90YXRlKFwiK2RlZytcImRlZylcIixvcmlnJiYoclt0cmFuc2Zvcm1fb3JpZ19jc3NdPW9yaWcpLHJ9OmZ1bmN0aW9uKGRlZyxsZWZ0ZGlzLHRvcGRpcyxvcmlnLGZhZGUpe3JldHVybiBzdC5mcm9tKGxlZnRkaXMsdG9wZGlzLGZhZGUpfSxzdC5za2V3bGVmdD1fMmQ/ZnVuY3Rpb24oZGVnLGRpc3QsZmFkZSl7dmFyIHI9c3QubGVmdChkaXN0LGZhZGUpO3JldHVybiByW3RyYW5zZm9ybV9jc3NdKz1cIiBza2V3WChcIitkZWcrXCJkZWcpXCIscn06ZnVuY3Rpb24oZGVnLGRpc3QsZmFkZSl7cmV0dXJuIHN0LmxlZnQoZGlzdCxmYWRlKX0sc3Quc2tld3JpZ2h0PV8yZD9mdW5jdGlvbihkZWcsZGlzdCxmYWRlKXt2YXIgcj1zdC5yaWdodChkaXN0LGZhZGUpO3JldHVybiByW3RyYW5zZm9ybV9jc3NdKz1cIiBza2V3WChcIistZGVnK1wiZGVnKVwiLHJ9OmZ1bmN0aW9uKGRlZyxkaXN0LGZhZGUpe3JldHVybiBzdC5yaWdodChkaXN0LGZhZGUpfSxzdC5za2V3dG9wPV8yZD9mdW5jdGlvbihkZWcsZGlzdCxmYWRlKXt2YXIgcj1zdC50b3AoZGlzdCxmYWRlKTtyZXR1cm4gclt0cmFuc2Zvcm1fY3NzXSs9XCIgc2tld1koXCIrZGVnK1wiZGVnKVwiLHJ9OmZ1bmN0aW9uKGRlZyxkaXN0LGZhZGUpe3JldHVybiBzdC50b3AoZGlzdCxmYWRlKX0sc3Quc2tld2JvdHRvbT1fMmQ/ZnVuY3Rpb24oZGVnLGRpc3QsZmFkZSl7dmFyIHI9c3QuYm90dG9tKGRpc3QsZmFkZSk7cmV0dXJuIHJbdHJhbnNmb3JtX2Nzc10rPVwiIHNrZXdZKFwiKy1kZWcrXCJkZWcpXCIscn06ZnVuY3Rpb24oZGVnLGRpc3QsZmFkZSl7cmV0dXJuIHN0LmJvdHRvbShkaXN0LGZhZGUpfSxzdC5zY2FsZT1fMmQ/ZnVuY3Rpb24oeCx5LG9yaWcsZmFkZSl7dmFyIHI9ZmFkZT09PSExP3t9OntvcGFjaXR5OjB9O3JldHVybiByW3RyYW5zZm9ybV9jc3NdPVwiIHNjYWxlWChcIit4K1wiKSBzY2FsZVkoXCIreStcIilcIixvcmlnJiYoclt0cmFuc2Zvcm1fb3JpZ19jc3NdPW9yaWcpLHJ9OmZ1bmN0aW9uKHgseSxvcmlnLGZhZGUpe3JldHVybiBmYWRlPT09ITE/e306e29wYWNpdHk6MH19LHN0LnNjYWxlbGVmdD1fMmQ/ZnVuY3Rpb24oeCx5LGRpc3Qsb3JpZyxmYWRlKXt2YXIgcj1zdC5sZWZ0KGRpc3QsZmFkZSk7cmV0dXJuIHJbdHJhbnNmb3JtX2Nzc109XCIgc2NhbGVYKFwiK3grXCIpIHNjYWxlWShcIit5K1wiKVwiLG9yaWcmJihyW3RyYW5zZm9ybV9vcmlnX2Nzc109b3JpZykscn06ZnVuY3Rpb24oeCx5LGRpc3Qsb3JpZyxmYWRlKXtyZXR1cm4gc3QubGVmdChkaXN0LGZhZGUpfSxzdC5zY2FsZXJpZ2h0PV8yZD9mdW5jdGlvbih4LHksZGlzdCxvcmlnLGZhZGUpe3ZhciByPXN0LnJpZ2h0KGRpc3QsZmFkZSk7cmV0dXJuIHJbdHJhbnNmb3JtX2Nzc109XCIgc2NhbGVYKFwiK3grXCIpIHNjYWxlWShcIit5K1wiKVwiLG9yaWcmJihyW3RyYW5zZm9ybV9vcmlnX2Nzc109b3JpZykscn06ZnVuY3Rpb24oeCx5LGRpc3Qsb3JpZyxmYWRlKXtyZXR1cm4gc3QucmlnaHQoZGlzdCxmYWRlKX0sc3Quc2NhbGV0b3A9XzJkP2Z1bmN0aW9uKHgseSxkaXN0LG9yaWcsZmFkZSl7dmFyIHI9c3QudG9wKGRpc3QsZmFkZSk7cmV0dXJuIHJbdHJhbnNmb3JtX2Nzc109XCIgc2NhbGVYKFwiK3grXCIpIHNjYWxlWShcIit5K1wiKVwiLG9yaWcmJihyW3RyYW5zZm9ybV9vcmlnX2Nzc109b3JpZykscn06ZnVuY3Rpb24oeCx5LGRpc3Qsb3JpZyxmYWRlKXtyZXR1cm4gc3QudG9wKGRpc3QsZmFkZSl9LHN0LnNjYWxlYm90dG9tPV8yZD9mdW5jdGlvbih4LHksZGlzdCxvcmlnLGZhZGUpe3ZhciByPXN0LmJvdHRvbShkaXN0LGZhZGUpO3JldHVybiByW3RyYW5zZm9ybV9jc3NdPVwiIHNjYWxlWChcIit4K1wiKSBzY2FsZVkoXCIreStcIilcIixvcmlnJiYoclt0cmFuc2Zvcm1fb3JpZ19jc3NdPW9yaWcpLHJ9OmZ1bmN0aW9uKHgseSxkaXN0LG9yaWcsZmFkZSl7cmV0dXJuIHN0LmJvdHRvbShkaXN0LGZhZGUpfSxzdC5zY2FsZWZyb209XzJkP2Z1bmN0aW9uKHgseSxsZWZ0ZGlzLHRvcGRpcyxvcmlnLGZhZGUpe3ZhciByPXN0LmZyb20obGVmdGRpcyx0b3BkaXMsZmFkZSk7cmV0dXJuIHJbdHJhbnNmb3JtX2Nzc10rPVwiIHNjYWxlWChcIit4K1wiKSBzY2FsZVkoXCIreStcIilcIixvcmlnJiYoclt0cmFuc2Zvcm1fb3JpZ19jc3NdPW9yaWcpLHJ9OmZ1bmN0aW9uKHgseSxsZWZ0ZGlzLHRvcGRpcyxvcmlnLGZhZGUpe3JldHVybiBzdC5mcm9tKGxlZnRkaXMsdG9wZGlzLGZhZGUpfSxzdC5yb3RhdGVzY2FsZT1fMmQ/ZnVuY3Rpb24oZGVnLHgseSxvcmlnLGZhZGUpe3ZhciByPXN0LnNjYWxlKHgseSxvcmlnLGZhZGUpO3JldHVybiByW3RyYW5zZm9ybV9jc3NdKz1cIiByb3RhdGUoXCIrZGVnK1wiZGVnKVwiLG9yaWcmJihyW3RyYW5zZm9ybV9vcmlnX2Nzc109b3JpZykscn06ZnVuY3Rpb24oZGVnLHgseSxvcmlnLGZhZGUpe3JldHVybiBzdC5zY2FsZSh4LHksb3JpZyxmYWRlKX0sc3QuZnJvbnQ9d2luZG93Ll9jc3MzZD9mdW5jdGlvbihkaXN0LGZhZGUpe3ZhciByPWZhZGU9PT0hMT97fTp7b3BhY2l0eTowfTtyZXR1cm4gclt0cmFuc2Zvcm1fY3NzXT1cInBlcnNwZWN0aXZlKDIwMDBweCkgdHJhbnNsYXRlM2QoMCAsIDAgLFwiK2Rpc3QrXCJweCApIHJvdGF0ZSgwLjAwMWRlZylcIixyfTpmdW5jdGlvbigpe3JldHVybiBfZmFkZX0sc3QuYmFjaz13aW5kb3cuX2NzczNkP2Z1bmN0aW9uKGRpc3QsZmFkZSl7dmFyIHI9ZmFkZT09PSExP3t9OntvcGFjaXR5OjB9O3JldHVybiByW3RyYW5zZm9ybV9jc3NdPVwicGVyc3BlY3RpdmUoMjAwMHB4KSB0cmFuc2xhdGUzZCgwICwgMCAsXCIrLWRpc3QrXCJweCApIHJvdGF0ZSgwLjAwMWRlZylcIixyfTpmdW5jdGlvbigpe3JldHVybiBfZmFkZX0sc3Qucm90YXRlZnJvbnQ9d2luZG93Ll9jc3MzZD9mdW5jdGlvbihkZWcsZGlzdCxvcmlnLGZhZGUpe3ZhciByPWZhZGU9PT0hMT97fTp7b3BhY2l0eTowfTtyZXR1cm4gclt0cmFuc2Zvcm1fY3NzXT1cInBlcnNwZWN0aXZlKDIwMDBweCkgdHJhbnNsYXRlM2QoMCAsIDAgLFwiK2Rpc3QrXCJweCApIHJvdGF0ZShcIisoZGVnfHwuMDAxKStcImRlZylcIixvcmlnJiYoclt0cmFuc2Zvcm1fb3JpZ19jc3NdPW9yaWcpLHJ9OmZ1bmN0aW9uKCl7cmV0dXJuIF9mYWRlfSxzdC5yb3RhdGViYWNrPXdpbmRvdy5fY3NzM2Q/ZnVuY3Rpb24oZGVnLGRpc3Qsb3JpZyxmYWRlKXt2YXIgcj1mYWRlPT09ITE/e306e29wYWNpdHk6MH07cmV0dXJuIHJbdHJhbnNmb3JtX2Nzc109XCJwZXJzcGVjdGl2ZSgyMDAwcHgpIHRyYW5zbGF0ZTNkKDAgLCAwICxcIistZGlzdCtcInB4ICkgcm90YXRlKFwiKyhkZWd8fC4wMDEpK1wiZGVnKVwiLG9yaWcmJihyW3RyYW5zZm9ybV9vcmlnX2Nzc109b3JpZykscn06ZnVuY3Rpb24oKXtyZXR1cm4gX2ZhZGV9LHN0LnJvdGF0ZTNkbGVmdD13aW5kb3cuX2NzczNkP2Z1bmN0aW9uKHgseSx6LGRpc3Qsb3JpZyxmYWRlKXt2YXIgcj1zdC5sZWZ0KGRpc3QsZmFkZSk7cmV0dXJuIHJbdHJhbnNmb3JtX2Nzc10rPSh4P1wiIHJvdGF0ZVgoXCIreCtcImRlZylcIjpcIiBcIikrKHk/XCIgcm90YXRlWShcIit5K1wiZGVnKVwiOlwiXCIpKyh6P1wiIHJvdGF0ZVooXCIreitcImRlZylcIjpcIlwiKSxvcmlnJiYoclt0cmFuc2Zvcm1fb3JpZ19jc3NdPW9yaWcpLHJ9OmZ1bmN0aW9uKHgseSx6LGRpc3Qsb3JpZyxmYWRlKXtyZXR1cm4gc3QubGVmdChkaXN0LGZhZGUpfSxzdC5yb3RhdGUzZHJpZ2h0PXdpbmRvdy5fY3NzM2Q/ZnVuY3Rpb24oeCx5LHosZGlzdCxvcmlnLGZhZGUpe3ZhciByPXN0LnJpZ2h0KGRpc3QsZmFkZSk7cmV0dXJuIHJbdHJhbnNmb3JtX2Nzc10rPSh4P1wiIHJvdGF0ZVgoXCIreCtcImRlZylcIjpcIiBcIikrKHk/XCIgcm90YXRlWShcIit5K1wiZGVnKVwiOlwiXCIpKyh6P1wiIHJvdGF0ZVooXCIreitcImRlZylcIjpcIlwiKSxvcmlnJiYoclt0cmFuc2Zvcm1fb3JpZ19jc3NdPW9yaWcpLHJ9OmZ1bmN0aW9uKHgseSx6LGRpc3Qsb3JpZyxmYWRlKXtyZXR1cm4gc3QucmlnaHQoZGlzdCxmYWRlKX0sc3Qucm90YXRlM2R0b3A9d2luZG93Ll9jc3MzZD9mdW5jdGlvbih4LHkseixkaXN0LG9yaWcsZmFkZSl7dmFyIHI9c3QudG9wKGRpc3QsZmFkZSk7cmV0dXJuIHJbdHJhbnNmb3JtX2Nzc10rPSh4P1wiIHJvdGF0ZVgoXCIreCtcImRlZylcIjpcIiBcIikrKHk/XCIgcm90YXRlWShcIit5K1wiZGVnKVwiOlwiXCIpKyh6P1wiIHJvdGF0ZVooXCIreitcImRlZylcIjpcIlwiKSxvcmlnJiYoclt0cmFuc2Zvcm1fb3JpZ19jc3NdPW9yaWcpLHJ9OmZ1bmN0aW9uKHgseSx6LGRpc3Qsb3JpZyxmYWRlKXtyZXR1cm4gc3QudG9wKGRpc3QsZmFkZSl9LHN0LnJvdGF0ZTNkYm90dG9tPXdpbmRvdy5fY3NzM2Q/ZnVuY3Rpb24oeCx5LHosZGlzdCxvcmlnLGZhZGUpe3ZhciByPXN0LmJvdHRvbShkaXN0LGZhZGUpO3JldHVybiByW3RyYW5zZm9ybV9jc3NdKz0oeD9cIiByb3RhdGVYKFwiK3grXCJkZWcpXCI6XCIgXCIpKyh5P1wiIHJvdGF0ZVkoXCIreStcImRlZylcIjpcIlwiKSsoej9cIiByb3RhdGVaKFwiK3orXCJkZWcpXCI6XCJcIiksb3JpZyYmKHJbdHJhbnNmb3JtX29yaWdfY3NzXT1vcmlnKSxyfTpmdW5jdGlvbih4LHkseixkaXN0LG9yaWcsZmFkZSl7cmV0dXJuIHN0LmJvdHRvbShkaXN0LGZhZGUpfSxzdC5yb3RhdGUzZGZyb250PXdpbmRvdy5fY3NzM2Q/ZnVuY3Rpb24oeCx5LHosZGlzdCxvcmlnLGZhZGUpe3ZhciByPXN0LmZyb250KGRpc3QsZmFkZSk7cmV0dXJuIHJbdHJhbnNmb3JtX2Nzc10rPSh4P1wiIHJvdGF0ZVgoXCIreCtcImRlZylcIjpcIiBcIikrKHk/XCIgcm90YXRlWShcIit5K1wiZGVnKVwiOlwiXCIpKyh6P1wiIHJvdGF0ZVooXCIreitcImRlZylcIjpcIlwiKSxvcmlnJiYoclt0cmFuc2Zvcm1fb3JpZ19jc3NdPW9yaWcpLHJ9OmZ1bmN0aW9uKHgseSx6LGRpc3Qsb3JpZyxmYWRlKXtyZXR1cm4gc3QuZnJvbnQoZGlzdCxmYWRlKX0sc3Qucm90YXRlM2RiYWNrPXdpbmRvdy5fY3NzM2Q/ZnVuY3Rpb24oeCx5LHosZGlzdCxvcmlnLGZhZGUpe3ZhciByPXN0LmJhY2soZGlzdCxmYWRlKTtyZXR1cm4gclt0cmFuc2Zvcm1fY3NzXSs9KHg/XCIgcm90YXRlWChcIit4K1wiZGVnKVwiOlwiIFwiKSsoeT9cIiByb3RhdGVZKFwiK3krXCJkZWcpXCI6XCJcIikrKHo/XCIgcm90YXRlWihcIit6K1wiZGVnKVwiOlwiXCIpLG9yaWcmJihyW3RyYW5zZm9ybV9vcmlnX2Nzc109b3JpZykscn06ZnVuY3Rpb24oeCx5LHosZGlzdCxvcmlnLGZhZGUpe3JldHVybiBzdC5iYWNrKGRpc3QsZmFkZSl9LHN0LnQ9d2luZG93Ll9jc3MzZD9mdW5jdGlvbihmYWRlLHR4LHR5LHR6LHIscngscnkscnosc2N4LHNjeSxza3gsc2t5LG94LG95LG96KXt2YXIgX3I9ZmFkZT09PSExP3t9OntvcGFjaXR5OjB9LHRyYW5zZm9ybT1cInBlcnNwZWN0aXZlKDIwMDBweCkgXCI7XCJuXCIhPT10eCYmKHRyYW5zZm9ybSs9XCJ0cmFuc2xhdGVYKFwiK3R4KnN0LnJmK1wicHgpIFwiKSxcIm5cIiE9PXR5JiYodHJhbnNmb3JtKz1cInRyYW5zbGF0ZVkoXCIrdHkqc3QucmYrXCJweCkgXCIpLFwiblwiIT09dHomJih0cmFuc2Zvcm0rPVwidHJhbnNsYXRlWihcIit0eipzdC5yZitcInB4KSBcIiksXCJuXCIhPT1yJiYodHJhbnNmb3JtKz1cInJvdGF0ZShcIityK1wiZGVnKSBcIiksXCJuXCIhPT1yeCYmKHRyYW5zZm9ybSs9XCJyb3RhdGVYKFwiK3J4K1wiZGVnKSBcIiksXCJuXCIhPT1yeSYmKHRyYW5zZm9ybSs9XCJyb3RhdGVZKFwiK3J5K1wiZGVnKSBcIiksXCJuXCIhPT1yeiYmKHRyYW5zZm9ybSs9XCJyb3RhdGVaKFwiK3J6K1wiZGVnKSBcIiksXCJuXCIhPT1za3gmJih0cmFuc2Zvcm0rPVwic2tld1goXCIrc2t4K1wiZGVnKSBcIiksXCJuXCIhPT1za3kmJih0cmFuc2Zvcm0rPVwic2tld1koXCIrc2t5K1wiZGVnKSBcIiksXCJuXCIhPT1zY3gmJih0cmFuc2Zvcm0rPVwic2NhbGVYKFwiK3NjeCtcIikgXCIpLFwiblwiIT09c2N5JiYodHJhbnNmb3JtKz1cInNjYWxlWShcIitzY3krXCIpXCIpLF9yW3RyYW5zZm9ybV9jc3NdPXRyYW5zZm9ybTt2YXIgdHJhbnNfb3JpZ2luPVwiXCI7cmV0dXJuIHRyYW5zX29yaWdpbis9XCJuXCIhPT1veD9veCtcIiUgXCI6XCI1MCUgXCIsdHJhbnNfb3JpZ2luKz1cIm5cIiE9PW95P295K1wiJSBcIjpcIjUwJSBcIix0cmFuc19vcmlnaW4rPVwiblwiIT09b3o/b3orXCJweFwiOlwiXCIsX3JbdHJhbnNmb3JtX29yaWdfY3NzXT10cmFuc19vcmlnaW4sX3J9OmZ1bmN0aW9uKGZhZGUsdHgsdHksdHoscil7dmFyIHI9ZmFkZT09PSExP3t9OntvcGFjaXR5OjB9O3JldHVyblwiblwiIT09dHgmJihyLmxlZnQ9dHgqc3QucmYrXCJweFwiKSxcIm5cIiE9PXR5JiYoci50b3A9dHkqc3QucmYrXCJweFwiKSxyfX19fShqUXVlcnkpLGZ1bmN0aW9uKCQpe3dpbmRvdy5NU0xheWVyRWxlbWVudD1mdW5jdGlvbigpe3RoaXMuc3RhcnRfYW5pbT17bmFtZTpcImZhZGVcIixkdXJhdGlvbjoxZTMsZWFzZTpcImxpbmVhclwiLGRlbGF5OjB9LHRoaXMuZW5kX2FuaW09e2R1cmF0aW9uOjFlMyxlYXNlOlwibGluZWFyXCJ9LHRoaXMudHlwZT1cInRleHRcIix0aGlzLnJlc2l6YWJsZT0hMCx0aGlzLm1pbldpZHRoPS0xLHRoaXMuaXNWaXNpYmxlPSEwLHRoaXMuX19jc3NDb25maWc9W1wibWFyZ2luLXRvcFwiLFwicGFkZGluZy10b3BcIixcIm1hcmdpbi1ib3R0b21cIixcInBhZGRpbmctbGVmdFwiLFwibWFyZ2luLXJpZ2h0XCIsXCJwYWRkaW5nLXJpZ2h0XCIsXCJtYXJnaW4tbGVmdFwiLFwicGFkZGluZy1ib3R0b21cIixcImZvbnQtc2l6ZVwiLFwibGluZS1oZWlnaHRcIixcIndpZHRoXCIsXCJsZWZ0XCIsXCJyaWdodFwiLFwidG9wXCIsXCJib3R0b21cIl0sdGhpcy5iYXNlU3R5bGU9e319O3ZhciBwPU1TTGF5ZXJFbGVtZW50LnByb3RvdHlwZTtwLnNldFN0YXJ0QW5pbT1mdW5jdGlvbihhbmltKXskLmV4dGVuZCh0aGlzLnN0YXJ0X2FuaW0sYW5pbSksJC5leHRlbmQodGhpcy5zdGFydF9hbmltLHRoaXMuX3BhcnNlRWZmKHRoaXMuc3RhcnRfYW5pbS5uYW1lKSksdGhpcy4kZWxlbWVudC5jc3MoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIil9LHAuc2V0RW5kQW5pbT1mdW5jdGlvbihhbmltKXskLmV4dGVuZCh0aGlzLmVuZF9hbmltLGFuaW0pfSxwLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuJGVsZW1lbnQuY3NzKFwiZGlzcGxheVwiLFwibm9uZVwiKSx0aGlzLnJlc2l6YWJsZT10aGlzLiRlbGVtZW50LmRhdGEoXCJyZXNpemVcIikhPT0hMSx0aGlzLmZpeGVkPXRoaXMuJGVsZW1lbnQuZGF0YShcImZpeGVkXCIpPT09ITAsdm9pZCAwIT09dGhpcy4kZWxlbWVudC5kYXRhKFwid2lkdGhsaW1pdFwiKSYmKHRoaXMubWluV2lkdGg9dGhpcy4kZWxlbWVudC5kYXRhKFwid2lkdGhsaW1pdFwiKSksdGhpcy5lbmRfYW5pbS5uYW1lfHwodGhpcy5lbmRfYW5pbS5uYW1lPXRoaXMuc3RhcnRfYW5pbS5uYW1lKSx0aGlzLmVuZF9hbmltLnRpbWUmJih0aGlzLmF1dG9IaWRlPSEwKSx0aGlzLnN0YXRpY0xheWVyPVwic3RhdGljXCI9PT10aGlzLiRlbGVtZW50LmRhdGEoXCJwb3NpdGlvblwiKSx0aGlzLmZpeGVkTGF5ZXI9XCJmaXhlZFwiPT09dGhpcy4kZWxlbWVudC5kYXRhKFwicG9zaXRpb25cIiksdGhpcy5sYXllcnNDb250PXRoaXMuY29udHJvbGxlci4kbGF5ZXJzLHRoaXMuc3RhdGljTGF5ZXImJnRoaXMuJGVsZW1lbnQuY3NzKFwiZGlzcGxheVwiLFwiXCIpLmNzcyhcInZpc2liaWxpdHlcIixcIlwiKSx2b2lkIDAhPT10aGlzLiRlbGVtZW50LmRhdGEoXCJhY3Rpb25cIikpe3ZhciBzbGlkZUNvbnRyb2xsZXI9dGhpcy5zbGlkZS5zbGlkZXIuc2xpZGVDb250cm9sbGVyO3RoaXMuJGVsZW1lbnQub24oXCJjbGlja1wiLGZ1bmN0aW9uKGV2ZW50KXtzbGlkZUNvbnRyb2xsZXIucnVuQWN0aW9uKCQodGhpcykuZGF0YShcImFjdGlvblwiKSksZXZlbnQucHJldmVudERlZmF1bHQoKX0pLmFkZENsYXNzKFwibXMtYWN0aW9uLWxheWVyXCIpfSQuZXh0ZW5kKHRoaXMuZW5kX2FuaW0sdGhpcy5fcGFyc2VFZmYodGhpcy5lbmRfYW5pbS5uYW1lKSksdGhpcy5zbGlkZXI9dGhpcy5zbGlkZS5zbGlkZXI7dmFyIGxheWVyT3JpZ2luPXRoaXMubGF5ZXJPcmlnaW49dGhpcy4kZWxlbWVudC5kYXRhKFwib3JpZ2luXCIpO2lmKGxheWVyT3JpZ2luKXt2YXIgdk9yaWdpbj1sYXllck9yaWdpbi5jaGFyQXQoMCksaE9yaWdpbj1sYXllck9yaWdpbi5jaGFyQXQoMSksb2Zmc2V0WD10aGlzLiRlbGVtZW50LmRhdGEoXCJvZmZzZXQteFwiKSxvZmZzZXRZPXRoaXMuJGVsZW1lbnQuZGF0YShcIm9mZnNldC15XCIpO3N3aXRjaCh2b2lkIDA9PT1vZmZzZXRZJiYob2Zmc2V0WT0wKSx2T3JpZ2luKXtjYXNlXCJ0XCI6dGhpcy4kZWxlbWVudFswXS5zdHlsZS50b3A9b2Zmc2V0WStcInB4XCI7YnJlYWs7Y2FzZVwiYlwiOnRoaXMuJGVsZW1lbnRbMF0uc3R5bGUuYm90dG9tPW9mZnNldFkrXCJweFwiO2JyZWFrO2Nhc2VcIm1cIjp0aGlzLiRlbGVtZW50WzBdLnN0eWxlLnRvcD1vZmZzZXRZK1wicHhcIix0aGlzLm1pZGRsZUFsaWduPSEwfXN3aXRjaCh2b2lkIDA9PT1vZmZzZXRYJiYob2Zmc2V0WD0wKSxoT3JpZ2luKXtjYXNlXCJsXCI6dGhpcy4kZWxlbWVudFswXS5zdHlsZS5sZWZ0PW9mZnNldFgrXCJweFwiO2JyZWFrO2Nhc2VcInJcIjp0aGlzLiRlbGVtZW50WzBdLnN0eWxlLnJpZ2h0PW9mZnNldFgrXCJweFwiO2JyZWFrO2Nhc2VcImNcIjp0aGlzLiRlbGVtZW50WzBdLnN0eWxlLmxlZnQ9b2Zmc2V0WCtcInB4XCIsdGhpcy5jZW50ZXJBbGlnbj0hMH19dGhpcy5wYXJhbGxheD10aGlzLiRlbGVtZW50LmRhdGEoXCJwYXJhbGxheFwiKSxudWxsIT10aGlzLnBhcmFsbGF4JiYodGhpcy5wYXJhbGxheC89MTAwLHRoaXMuJHBhcmFsbGF4RWxlbWVudD0kKFwiPGRpdj48L2Rpdj5cIikuYWRkQ2xhc3MoXCJtcy1wYXJhbGxheC1sYXllclwiKSx0aGlzLmxpbms/KHRoaXMubGluay53cmFwKHRoaXMuJHBhcmFsbGF4RWxlbWVudCksdGhpcy4kcGFyYWxsYXhFbGVtZW50PXRoaXMubGluay5wYXJlbnQoKSk6KHRoaXMuJGVsZW1lbnQud3JhcCh0aGlzLiRwYXJhbGxheEVsZW1lbnQpLHRoaXMuJHBhcmFsbGF4RWxlbWVudD10aGlzLiRlbGVtZW50LnBhcmVudCgpKSx0aGlzLl9sYXN0UGFyYVg9MCx0aGlzLl9sYXN0UGFyYVk9MCx0aGlzLl9wYXJhWD0wLHRoaXMuX3BhcmFZPTAsdGhpcy5hbGlnbmVkVG9Cb3Q9dGhpcy5sYXllck9yaWdpbiYmLTEhPT10aGlzLmxheWVyT3JpZ2luLmluZGV4T2YoXCJiXCIpLHRoaXMuYWxpZ25lZFRvQm90JiZ0aGlzLiRwYXJhbGxheEVsZW1lbnQuY3NzKFwiYm90dG9tXCIsMCksdGhpcy5wYXJhbGxheFJlbmRlcj13aW5kb3cuX2NzczNkP3RoaXMuX3BhcmFsbGF4Q1NTM0RSZW5kZXJlcjp3aW5kb3cuX2NzczJkP3RoaXMuX3BhcmFsbGF4Q1NTMkRSZW5kZXJlcjp0aGlzLl9wYXJhbGxheDJEUmVuZGVyZXIsXCJzd2lwZVwiIT09dGhpcy5zbGlkZXIub3B0aW9ucy5wYXJhbGxheE1vZGUmJmF2ZXJ0YS5UaWNrZXIuYWRkKHRoaXMucGFyYWxsYXhSZW5kZXIsdGhpcykpLCQucmVtb3ZlRGF0YUF0dHJzKHRoaXMuJGVsZW1lbnQsW1wiZGF0YS1zcmNcIl0pfSxwLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLmluaXRpYWxpemVkPSEwO3ZhciB2YWx1ZTt0aGlzLiRlbGVtZW50LmNzcyhcInZpc2liaWxpdHlcIixcIlwiKTtmb3IodmFyIGk9MCxsPXRoaXMuX19jc3NDb25maWcubGVuZ3RoO2w+aTtpKyspe3ZhciBrZXk9dGhpcy5fX2Nzc0NvbmZpZ1tpXTtcInRleHRcIj09PXRoaXMudHlwZSYmXCJ3aWR0aFwiPT09a2V5P3ZhbHVlPXRoaXMuJGVsZW1lbnRbMF0uc3R5bGUud2lkdGg6KHZhbHVlPXRoaXMuJGVsZW1lbnQuY3NzKGtleSksXCJ3aWR0aFwiIT09a2V5JiZcImhlaWdodFwiIT09a2V5fHxcIjBweFwiIT09dmFsdWV8fCh2YWx1ZT10aGlzLiRlbGVtZW50LmRhdGEoa2V5KStcInB4XCIpKSxcImF1dG9cIiE9dmFsdWUmJlwiXCIhPXZhbHVlJiZcIm5vcm1hbFwiIT12YWx1ZSYmKHRoaXMuYmFzZVN0eWxlW2tleV09cGFyc2VJbnQodmFsdWUpKX10aGlzLm1pZGRsZUFsaWduJiYodGhpcy5iYXNlSGVpZ2h0PXRoaXMuJGVsZW1lbnQub3V0ZXJIZWlnaHQoITEpKSx0aGlzLmNlbnRlckFsaWduJiYodGhpcy5iYXNlV2lkdGg9dGhpcy4kZWxlbWVudC5vdXRlcldpZHRoKCExKSl9LHAubG9jYXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5zbGlkZS5yZWFkeSl7dmFyIGZhY3Rvcixpc1Bvc2l0aW9uLHdpZHRoPXBhcnNlRmxvYXQodGhpcy5sYXllcnNDb250LmNzcyhcIndpZHRoXCIpKSxoZWlnaHQ9cGFyc2VGbG9hdCh0aGlzLmxheWVyc0NvbnQuY3NzKFwiaGVpZ2h0XCIpKTshdGhpcy5zdGF0aWNMYXllciYmXCJub25lXCI9PT10aGlzLiRlbGVtZW50LmNzcyhcImRpc3BsYXlcIikmJnRoaXMuaXNWaXNpYmxlJiZ0aGlzLiRlbGVtZW50LmNzcyhcImRpc3BsYXlcIixcIlwiKS5jc3MoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIiksZmFjdG9yPXRoaXMucmVzaXplRmFjdG9yPXdpZHRoL3RoaXMuc2xpZGUuc2xpZGVyLm9wdGlvbnMud2lkdGg7Zm9yKHZhciBrZXkgaW4gdGhpcy5iYXNlU3R5bGUpaXNQb3NpdGlvbj1cInRvcFwiPT09a2V5fHxcImxlZnRcIj09PWtleXx8XCJib3R0b21cIj09PWtleXx8XCJyaWdodFwiPT09a2V5LGZhY3Rvcj10aGlzLmZpeGVkJiZpc1Bvc2l0aW9uPzE6dGhpcy5yZXNpemVGYWN0b3IsKHRoaXMucmVzaXphYmxlfHxpc1Bvc2l0aW9uKSYmKFwidG9wXCI9PT1rZXkmJnRoaXMubWlkZGxlQWxpZ24/KHRoaXMuJGVsZW1lbnRbMF0uc3R5bGUudG9wPVwiMHB4XCIsdGhpcy5iYXNlSGVpZ2h0PXRoaXMuJGVsZW1lbnQub3V0ZXJIZWlnaHQoITEpLHRoaXMuJGVsZW1lbnRbMF0uc3R5bGUudG9wPXRoaXMuYmFzZVN0eWxlLnRvcCpmYWN0b3IrKGhlaWdodC10aGlzLmJhc2VIZWlnaHQpLzIrXCJweFwiKTpcImxlZnRcIj09PWtleSYmdGhpcy5jZW50ZXJBbGlnbj8odGhpcy4kZWxlbWVudFswXS5zdHlsZS5sZWZ0PVwiMHB4XCIsdGhpcy5iYXNlV2lkdGg9dGhpcy4kZWxlbWVudC5vdXRlcldpZHRoKCExKSx0aGlzLiRlbGVtZW50WzBdLnN0eWxlLmxlZnQ9dGhpcy5iYXNlU3R5bGUubGVmdCpmYWN0b3IrKHdpZHRoLXRoaXMuYmFzZVdpZHRoKS8yK1wicHhcIik6dGhpcy4kZWxlbWVudC5jc3Moa2V5LHRoaXMuYmFzZVN0eWxlW2tleV0qZmFjdG9yK1wicHhcIikpO3RoaXMudmlzaWJsZSh0aGlzLm1pbldpZHRoPHdpZHRoKX19LHAuc3RhcnQ9ZnVuY3Rpb24oKXtpZighdGhpcy5pc1Nob3dpbmcmJiF0aGlzLnN0YXRpY0xheWVyKXt0aGlzLmlzU2hvd2luZz0hMDt2YXIga2V5LGJhc2U7TVNMYXllckVmZmVjdHMucmY9dGhpcy5yZXNpemVGYWN0b3I7dmFyIGVmZmVjdF9jc3M9TVNMYXllckVmZmVjdHNbdGhpcy5zdGFydF9hbmltLmVmZl9uYW1lXS5hcHBseShudWxsLHRoaXMuX3BhcnNlRWZmUGFyYW1zKHRoaXMuc3RhcnRfYW5pbS5lZmZfcGFyYW1zKSksc3RhcnRfY3NzX2VmZj17fTtmb3Ioa2V5IGluIGVmZmVjdF9jc3MpdGhpcy5fY2hlY2tQb3NLZXkoa2V5LGVmZmVjdF9jc3MpfHwobnVsbCE9TVNMYXllckVmZmVjdHMuZGVmYXVsdFZhbHVlc1trZXldJiYoc3RhcnRfY3NzX2VmZltrZXldPU1TTGF5ZXJFZmZlY3RzLmRlZmF1bHRWYWx1ZXNba2V5XSksa2V5IGluIHRoaXMuYmFzZVN0eWxlJiYoYmFzZT10aGlzLmJhc2VTdHlsZVtrZXldLHRoaXMubWlkZGxlQWxpZ24mJlwidG9wXCI9PT1rZXkmJihiYXNlKz0ocGFyc2VJbnQodGhpcy5sYXllcnNDb250LmhlaWdodCgpKS10aGlzLiRlbGVtZW50Lm91dGVySGVpZ2h0KCExKSkvMiksdGhpcy5jZW50ZXJBbGlnbiYmXCJsZWZ0XCI9PT1rZXkmJihiYXNlKz0ocGFyc2VJbnQodGhpcy5sYXllcnNDb250LndpZHRoKCkpLXRoaXMuJGVsZW1lbnQub3V0ZXJXaWR0aCghMSkpLzIpLGVmZmVjdF9jc3Nba2V5XT1iYXNlK3BhcnNlRmxvYXQoZWZmZWN0X2Nzc1trZXldKStcInB4XCIsc3RhcnRfY3NzX2VmZltrZXldPWJhc2UrXCJweFwiKSx0aGlzLiRlbGVtZW50LmNzcyhrZXksZWZmZWN0X2Nzc1trZXldKSk7dmFyIHRoYXQ9dGhpcztjbGVhclRpbWVvdXQodGhpcy50byksdGhpcy50bz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhhdC4kZWxlbWVudC5jc3MoXCJ2aXNpYmlsaXR5XCIsXCJcIiksdGhhdC5fcGxheUFuaW1hdGlvbih0aGF0LnN0YXJ0X2FuaW0sc3RhcnRfY3NzX2VmZil9LHRoYXQuc3RhcnRfYW5pbS5kZWxheXx8LjAxKSx0aGlzLmNsVG89c2V0VGltZW91dChmdW5jdGlvbigpe3RoYXQuc2hvd19jbD0hMH0sKHRoaXMuc3RhcnRfYW5pbS5kZWxheXx8LjAxKSt0aGlzLnN0YXJ0X2FuaW0uZHVyYXRpb24pLHRoaXMuYXV0b0hpZGUmJihjbGVhclRpbWVvdXQodGhpcy5odG8pLHRoaXMuaHRvPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGF0LmhpZGUoKX0sdGhhdC5lbmRfYW5pbS50aW1lKSl9fSxwLmhpZGU9ZnVuY3Rpb24oKXtpZighdGhpcy5zdGF0aWNMYXllcil7dGhpcy5pc1Nob3dpbmc9ITE7dmFyIGVmZmVjdF9jc3M9TVNMYXllckVmZmVjdHNbdGhpcy5lbmRfYW5pbS5lZmZfbmFtZV0uYXBwbHkobnVsbCx0aGlzLl9wYXJzZUVmZlBhcmFtcyh0aGlzLmVuZF9hbmltLmVmZl9wYXJhbXMpKTtmb3Ioa2V5IGluIGVmZmVjdF9jc3MpdGhpcy5fY2hlY2tQb3NLZXkoa2V5LGVmZmVjdF9jc3MpfHwoa2V5PT09d2luZG93Ll9qY3NzcGZ4K1wiVHJhbnNmb3JtT3JpZ2luXCImJnRoaXMuJGVsZW1lbnQuY3NzKGtleSxlZmZlY3RfY3NzW2tleV0pLGtleSBpbiB0aGlzLmJhc2VTdHlsZSYmKGVmZmVjdF9jc3Nba2V5XT10aGlzLmJhc2VTdHlsZVtrZXldK3BhcnNlRmxvYXQoZWZmZWN0X2Nzc1trZXldKStcInB4XCIpKTt0aGlzLl9wbGF5QW5pbWF0aW9uKHRoaXMuZW5kX2FuaW0sZWZmZWN0X2NzcyksY2xlYXJUaW1lb3V0KHRoaXMudG8pLGNsZWFyVGltZW91dCh0aGlzLmh0byksY2xlYXJUaW1lb3V0KHRoaXMuY2xUbyl9fSxwLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5zdGF0aWNMYXllcnx8KHRoaXMuaXNTaG93aW5nPSExLHRoaXMuJGVsZW1lbnRbMF0uc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0aGlzLiRlbGVtZW50LmNzcyhcIm9wYWNpdHlcIixcIlwiKSx0aGlzLiRlbGVtZW50WzBdLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbj1cIlwiLHRoaXMuc2hvd190d2VlbiYmdGhpcy5zaG93X3R3ZWVuLnN0b3AoITApLGNsZWFyVGltZW91dCh0aGlzLnRvKSxjbGVhclRpbWVvdXQodGhpcy5odG8pKX0scC5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5yZXNldCgpLHRoaXMuJGVsZW1lbnQucmVtb3ZlKCl9LHAudmlzaWJsZT1mdW5jdGlvbih2YWx1ZSl7dGhpcy5pc1Zpc2libGUhPXZhbHVlJiYodGhpcy5pc1Zpc2libGU9dmFsdWUsdGhpcy4kZWxlbWVudC5jc3MoXCJkaXNwbGF5XCIsdmFsdWU/XCJcIjpcIm5vbmVcIikpfSxwLm1vdmVQYXJhbGxheD1mdW5jdGlvbih4LHksZmFzdCl7dGhpcy5fcGFyYVg9eCx0aGlzLl9wYXJhWT15LGZhc3QmJih0aGlzLl9sYXN0UGFyYVg9eCx0aGlzLl9sYXN0UGFyYVk9eSx0aGlzLnBhcmFsbGF4UmVuZGVyKCkpfSxwLl9wbGF5QW5pbWF0aW9uPWZ1bmN0aW9uKGFuaW1hdGlvbixjc3Mpe3ZhciBvcHRpb25zPXt9O2FuaW1hdGlvbi5lYXNlJiYob3B0aW9ucy5lYXNlPWFuaW1hdGlvbi5lYXNlKSxvcHRpb25zLnRyYW5zUHJvcGVydHk9d2luZG93Ll9jc3NwZngrXCJ0cmFuc2Zvcm0sb3BhY2l0eVwiLHRoaXMuc2hvd190d2Vlbj1DVHdlZW4uYW5pbWF0ZSh0aGlzLiRlbGVtZW50LGFuaW1hdGlvbi5kdXJhdGlvbixjc3Msb3B0aW9ucyl9LHAuX3JhbmRvbVBhcmFtPWZ1bmN0aW9uKHZhbHVlKXt2YXIgbWluPU51bWJlcih2YWx1ZS5zbGljZSgwLHZhbHVlLmluZGV4T2YoXCJ8XCIpKSksbWF4PU51bWJlcih2YWx1ZS5zbGljZSh2YWx1ZS5pbmRleE9mKFwifFwiKSsxKSk7cmV0dXJuIG1pbitNYXRoLnJhbmRvbSgpKihtYXgtbWluKX0scC5fcGFyc2VFZmY9ZnVuY3Rpb24oZWZmX25hbWUpe3ZhciBlZmZfcGFyYW1zPVtdO2lmKC0xIT09ZWZmX25hbWUuaW5kZXhPZihcIihcIikpe3ZhciB2YWx1ZSx0ZW1wPWVmZl9uYW1lLnNsaWNlKDAsZWZmX25hbWUuaW5kZXhPZihcIihcIikpLnRvTG93ZXJDYXNlKCk7ZWZmX3BhcmFtcz1lZmZfbmFtZS5zbGljZShlZmZfbmFtZS5pbmRleE9mKFwiKFwiKSsxLC0xKS5yZXBsYWNlKC9cXFwifFxcJ3xcXHMvZyxcIlwiKS5zcGxpdChcIixcIiksZWZmX25hbWU9dGVtcDtmb3IodmFyIGk9MCxsPWVmZl9wYXJhbXMubGVuZ3RoO2w+aTsrK2kpdmFsdWU9ZWZmX3BhcmFtc1tpXSx2YWx1ZSBpbiBNU0xheWVyRWZmZWN0cy5wcmVzZXRFZmZQYXJhbXMmJih2YWx1ZT1NU0xheWVyRWZmZWN0cy5wcmVzZXRFZmZQYXJhbXNbdmFsdWVdKSxlZmZfcGFyYW1zW2ldPXZhbHVlfXJldHVybntlZmZfbmFtZTplZmZfbmFtZSxlZmZfcGFyYW1zOmVmZl9wYXJhbXN9fSxwLl9wYXJzZUVmZlBhcmFtcz1mdW5jdGlvbihwYXJhbXMpe2Zvcih2YXIgZWZmX3BhcmFtcz1bXSxpPTAsbD1wYXJhbXMubGVuZ3RoO2w+aTsrK2kpe3ZhciB2YWx1ZT1wYXJhbXNbaV07XCJzdHJpbmdcIj09dHlwZW9mIHZhbHVlJiYtMSE9PXZhbHVlLmluZGV4T2YoXCJ8XCIpJiYodmFsdWU9dGhpcy5fcmFuZG9tUGFyYW0odmFsdWUpKSxlZmZfcGFyYW1zW2ldPXZhbHVlfXJldHVybiBlZmZfcGFyYW1zfSxwLl9jaGVja1Bvc0tleT1mdW5jdGlvbihrZXksc3R5bGUpe3JldHVyblwibGVmdFwiPT09a2V5JiYhKGtleSBpbiB0aGlzLmJhc2VTdHlsZSkmJlwicmlnaHRcImluIHRoaXMuYmFzZVN0eWxlPyhzdHlsZS5yaWdodD0tcGFyc2VJbnQoc3R5bGUubGVmdCkrXCJweFwiLGRlbGV0ZSBzdHlsZS5sZWZ0LCEwKTpcInRvcFwiPT09a2V5JiYhKGtleSBpbiB0aGlzLmJhc2VTdHlsZSkmJlwiYm90dG9tXCJpbiB0aGlzLmJhc2VTdHlsZT8oc3R5bGUuYm90dG9tPS1wYXJzZUludChzdHlsZS50b3ApK1wicHhcIixkZWxldGUgc3R5bGUudG9wLCEwKTohMX0scC5fcGFyYWxsYXhDYWxjPWZ1bmN0aW9uKCl7dmFyIHhfZGVmPXRoaXMuX3BhcmFYLXRoaXMuX2xhc3RQYXJhWCx5X2RlZj10aGlzLl9wYXJhWS10aGlzLl9sYXN0UGFyYVk7dGhpcy5fbGFzdFBhcmFYKz14X2RlZi8xMix0aGlzLl9sYXN0UGFyYVkrPXlfZGVmLzEyLE1hdGguYWJzKHhfZGVmKTwuMDE5JiYodGhpcy5fbGFzdFBhcmFYPXRoaXMuX3BhcmFYKSxNYXRoLmFicyh5X2RlZik8LjAxOSYmKHRoaXMuX2xhc3RQYXJhWT10aGlzLl9wYXJhWSl9LHAuX3BhcmFsbGF4Q1NTM0RSZW5kZXJlcj1mdW5jdGlvbigpe3RoaXMuX3BhcmFsbGF4Q2FsYygpLHRoaXMuJHBhcmFsbGF4RWxlbWVudFswXS5zdHlsZVt3aW5kb3cuX2pjc3NwZngrXCJUcmFuc2Zvcm1cIl09XCJ0cmFuc2xhdGVYKFwiK3RoaXMuX2xhc3RQYXJhWCp0aGlzLnBhcmFsbGF4K1wicHgpIHRyYW5zbGF0ZVkoXCIrdGhpcy5fbGFzdFBhcmFZKnRoaXMucGFyYWxsYXgrXCJweCkgdHJhbnNsYXRlWigwKVwifSxwLl9wYXJhbGxheENTUzJEUmVuZGVyZXI9ZnVuY3Rpb24oKXt0aGlzLl9wYXJhbGxheENhbGMoKSx0aGlzLiRwYXJhbGxheEVsZW1lbnRbMF0uc3R5bGVbd2luZG93Ll9qY3NzcGZ4K1wiVHJhbnNmb3JtXCJdPVwidHJhbnNsYXRlWChcIit0aGlzLl9sYXN0UGFyYVgqdGhpcy5wYXJhbGxheCtcInB4KSB0cmFuc2xhdGVZKFwiK3RoaXMuX2xhc3RQYXJhWSp0aGlzLnBhcmFsbGF4K1wicHgpXCJ9LHAuX3BhcmFsbGF4MkRSZW5kZXJlcj1mdW5jdGlvbigpe3RoaXMuX3BhcmFsbGF4Q2FsYygpLHRoaXMuYWxpZ25lZFRvQm90P3RoaXMuJHBhcmFsbGF4RWxlbWVudFswXS5zdHlsZS5ib3R0b209dGhpcy5fbGFzdFBhcmFZKnRoaXMucGFyYWxsYXgrXCJweFwiOnRoaXMuJHBhcmFsbGF4RWxlbWVudFswXS5zdHlsZS50b3A9dGhpcy5fbGFzdFBhcmFZKnRoaXMucGFyYWxsYXgrXCJweFwiLHRoaXMuJHBhcmFsbGF4RWxlbWVudFswXS5zdHlsZS5sZWZ0PXRoaXMuX2xhc3RQYXJhWCp0aGlzLnBhcmFsbGF4K1wicHhcIn19KGpRdWVyeSksZnVuY3Rpb24oJCl7d2luZG93Lk1TSW1hZ2VMYXllckVsZW1lbnQ9ZnVuY3Rpb24oKXtNU0xheWVyRWxlbWVudC5jYWxsKHRoaXMpLHRoaXMubmVlZFByZWxvYWQ9ITAsdGhpcy5fX2Nzc0NvbmZpZz1bXCJ3aWR0aFwiLFwiaGVpZ2h0XCIsXCJtYXJnaW4tdG9wXCIsXCJwYWRkaW5nLXRvcFwiLFwibWFyZ2luLWJvdHRvbVwiLFwicGFkZGluZy1sZWZ0XCIsXCJtYXJnaW4tcmlnaHRcIixcInBhZGRpbmctcmlnaHRcIixcIm1hcmdpbi1sZWZ0XCIsXCJwYWRkaW5nLWJvdHRvbVwiLFwibGVmdFwiLFwicmlnaHRcIixcInRvcFwiLFwiYm90dG9tXCJdLHRoaXMudHlwZT1cImltYWdlXCJ9LE1TSW1hZ2VMYXllckVsZW1lbnQuZXh0ZW5kKE1TTGF5ZXJFbGVtZW50KTt2YXIgcD1NU0ltYWdlTGF5ZXJFbGVtZW50LnByb3RvdHlwZSxfc3VwZXI9TVNMYXllckVsZW1lbnQucHJvdG90eXBlO3AuY3JlYXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5saW5rKXt2YXIgcD10aGlzLiRlbGVtZW50LnBhcmVudCgpO3AuYXBwZW5kKHRoaXMubGluayksdGhpcy5saW5rLmFwcGVuZCh0aGlzLiRlbGVtZW50KSx0aGlzLmxpbmsucmVtb3ZlQ2xhc3MoXCJtcy1sYXllclwiKSx0aGlzLiRlbGVtZW50LmFkZENsYXNzKFwibXMtbGF5ZXJcIikscD1udWxsfWlmKF9zdXBlci5jcmVhdGUuY2FsbCh0aGlzKSx2b2lkIDAhPXRoaXMuJGVsZW1lbnQuZGF0YShcInNyY1wiKSl0aGlzLmltZ19zcmM9dGhpcy4kZWxlbWVudC5kYXRhKFwic3JjXCIpLHRoaXMuJGVsZW1lbnQucmVtb3ZlQXR0cihcImRhdGEtc3JjXCIpO2Vsc2V7dmFyIHRoYXQ9dGhpczt0aGlzLiRlbGVtZW50Lm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7dGhhdC5jb250cm9sbGVyLnByZWxvYWRDb3VudC0tLDA9PT10aGF0LmNvbnRyb2xsZXIucHJlbG9hZENvdW50JiZ0aGF0LmNvbnRyb2xsZXIuX29ubGF5ZXJzUmVhZHkoKX0pLmVhY2goJC5qcUxvYWRGaXgpfSQuYnJvd3Nlci5tc2llJiZ0aGlzLiRlbGVtZW50Lm9uKFwiZHJhZ3N0YXJ0XCIsZnVuY3Rpb24oZXZlbnQpe2V2ZW50LnByZXZlbnREZWZhdWx0KCl9KX0scC5sb2FkSW1hZ2U9ZnVuY3Rpb24oKXt2YXIgdGhhdD10aGlzO3RoaXMuJGVsZW1lbnQucHJlbG9hZEltZyh0aGlzLmltZ19zcmMsZnVuY3Rpb24oKXt0aGF0LmNvbnRyb2xsZXIucHJlbG9hZENvdW50LS0sMD09PXRoYXQuY29udHJvbGxlci5wcmVsb2FkQ291bnQmJnRoYXQuY29udHJvbGxlci5fb25sYXllcnNSZWFkeSgpfSl9fShqUXVlcnkpLGZ1bmN0aW9uKCQpe3dpbmRvdy5NU1ZpZGVvTGF5ZXJFbGVtZW50PWZ1bmN0aW9uKCl7TVNMYXllckVsZW1lbnQuY2FsbCh0aGlzKSx0aGlzLl9fY3NzQ29uZmlnLnB1c2goXCJoZWlnaHRcIiksdGhpcy50eXBlPVwidmlkZW9cIn0sTVNWaWRlb0xheWVyRWxlbWVudC5leHRlbmQoTVNMYXllckVsZW1lbnQpO3ZhciBwPU1TVmlkZW9MYXllckVsZW1lbnQucHJvdG90eXBlLF9zdXBlcj1NU0xheWVyRWxlbWVudC5wcm90b3R5cGU7cC5fX3BsYXlWaWRlbz1mdW5jdGlvbigpe3RoaXMuaW1nJiZDVHdlZW4uZmFkZU91dCh0aGlzLmltZyw1MDAsMiksQ1R3ZWVuLmZhZGVPdXQodGhpcy52aWRlb19idG4sNTAwLDIpLHRoaXMudmlkZW9fZnJhbWUuYXR0cihcInNyY1wiLFwiYWJvdXQ6YmxhbmtcIikuY3NzKFwiZGlzcGxheVwiLFwiYmxvY2tcIiksLTE9PXRoaXMudmlkZW9fdXJsLmluZGV4T2YoXCI/XCIpJiYodGhpcy52aWRlb191cmwrPVwiP1wiKSx0aGlzLnZpZGVvX2ZyYW1lLmF0dHIoXCJzcmNcIix0aGlzLnZpZGVvX3VybCtcIiZhdXRvcGxheT0xXCIpfSxwLnN0YXJ0PWZ1bmN0aW9uKCl7X3N1cGVyLnN0YXJ0LmNhbGwodGhpcyksdGhpcy4kZWxlbWVudC5kYXRhKFwiYXV0b3BsYXlcIikmJnRoaXMuX19wbGF5VmlkZW8oKX0scC5yZXNldD1mdW5jdGlvbigpe3JldHVybiBfc3VwZXIucmVzZXQuY2FsbCh0aGlzKSwodGhpcy5uZWVkUHJlbG9hZHx8dGhpcy4kZWxlbWVudC5kYXRhKFwiYnRuXCIpKSYmKHRoaXMudmlkZW9fYnRuLmNzcyhcIm9wYWNpdHlcIiwxKS5jc3MoXCJkaXNwbGF5XCIsXCJibG9ja1wiKSx0aGlzLnZpZGVvX2ZyYW1lLmF0dHIoXCJzcmNcIixcImFib3V0OmJsYW5rXCIpLmNzcyhcImRpc3BsYXlcIixcIm5vbmVcIikpLHRoaXMubmVlZFByZWxvYWQ/dm9pZCB0aGlzLmltZy5jc3MoXCJvcGFjaXR5XCIsMSkuY3NzKFwiZGlzcGxheVwiLFwiYmxvY2tcIik6dm9pZCB0aGlzLnZpZGVvX2ZyYW1lLmF0dHIoXCJzcmNcIix0aGlzLnZpZGVvX3VybCl9LHAuY3JlYXRlPWZ1bmN0aW9uKCl7X3N1cGVyLmNyZWF0ZS5jYWxsKHRoaXMpLHRoaXMudmlkZW9fZnJhbWU9dGhpcy4kZWxlbWVudC5maW5kKFwiaWZyYW1lXCIpLmNzcyh7d2lkdGg6XCIxMDAlXCIsaGVpZ2h0OlwiMTAwJVwifSksdGhpcy52aWRlb191cmw9dGhpcy52aWRlb19mcmFtZS5hdHRyKFwic3JjXCIpO3ZhciBoYXNfaW1nPTAhPXRoaXMuJGVsZW1lbnQuaGFzKFwiaW1nXCIpLmxlbmd0aDtpZihoYXNfaW1nfHx0aGlzLiRlbGVtZW50LmRhdGEoXCJidG5cIikpe3RoaXMudmlkZW9fZnJhbWUuYXR0cihcInNyY1wiLFwiYWJvdXQ6YmxhbmtcIikuY3NzKFwiZGlzcGxheVwiLFwibm9uZVwiKTt2YXIgdGhhdD10aGlzO2lmKHRoaXMudmlkZW9fYnRuPSQoXCI8ZGl2PjwvZGl2PlwiKS5hcHBlbmRUbyh0aGlzLiRlbGVtZW50KS5hZGRDbGFzcyhcIm1zLXZpZGVvLWJ0blwiKS5jbGljayhmdW5jdGlvbigpe3RoYXQuX19wbGF5VmlkZW8oKX0pLGhhc19pbWcpe2lmKHRoaXMubmVlZFByZWxvYWQ9ITAsdGhpcy5pbWc9dGhpcy4kZWxlbWVudC5maW5kKFwiaW1nOmZpcnN0XCIpLmFkZENsYXNzKFwibXMtdmlkZW8taW1nXCIpLHZvaWQgMCE9PXRoaXMuaW1nLmRhdGEoXCJzcmNcIikpdGhpcy5pbWdfc3JjPXRoaXMuaW1nLmRhdGEoXCJzcmNcIiksdGhpcy5pbWcucmVtb3ZlQXR0cihcImRhdGEtc3JjXCIpO2Vsc2V7dmFyIHRoYXQ9dGhpczt0aGlzLmltZy5hdHRyKFwic3JjXCIsdGhpcy5pbWdfc3JjKS5vbihcImxvYWRcIixmdW5jdGlvbigpe3RoYXQuY29udHJvbGxlci5wcmVsb2FkQ291bnQtLSwwPT09dGhhdC5jb250cm9sbGVyLnByZWxvYWRDb3VudCYmdGhhdC5jb250cm9sbGVyLl9vbmxheWVyc1JlYWR5KCl9KS5lYWNoKCQuanFMb2FkRml4KX0kLmJyb3dzZXIubXNpZSYmdGhpcy5pbWcub24oXCJkcmFnc3RhcnRcIixmdW5jdGlvbihldmVudCl7ZXZlbnQucHJldmVudERlZmF1bHQoKX0pfX19LHAubG9hZEltYWdlPWZ1bmN0aW9uKCl7dmFyIHRoYXQ9dGhpczt0aGlzLmltZy5wcmVsb2FkSW1nKHRoaXMuaW1nX3NyYyxmdW5jdGlvbigpe3RoYXQuY29udHJvbGxlci5wcmVsb2FkQ291bnQtLSwwPT09dGhhdC5jb250cm9sbGVyLnByZWxvYWRDb3VudCYmdGhhdC5jb250cm9sbGVyLl9vbmxheWVyc1JlYWR5KCl9KX19KGpRdWVyeSksZnVuY3Rpb24oJCl7XCJ1c2Ugc3RyaWN0XCI7d2luZG93Lk1TSG90c3BvdExheWVyPWZ1bmN0aW9uKCl7TVNMYXllckVsZW1lbnQuY2FsbCh0aGlzKSx0aGlzLl9fY3NzQ29uZmlnPVtcIm1hcmdpbi10b3BcIixcInBhZGRpbmctdG9wXCIsXCJtYXJnaW4tYm90dG9tXCIsXCJwYWRkaW5nLWxlZnRcIixcIm1hcmdpbi1yaWdodFwiLFwicGFkZGluZy1yaWdodFwiLFwibWFyZ2luLWxlZnRcIixcInBhZGRpbmctYm90dG9tXCIsXCJsZWZ0XCIsXCJyaWdodFwiLFwidG9wXCIsXCJib3R0b21cIl0sdGhpcy5lYXNlPVwiRXhwb1wiLHRoaXMuaGlkZV9zdGFydD0hMCx0aGlzLnR5cGU9XCJob3RzcG90XCJ9LE1TSG90c3BvdExheWVyLmV4dGVuZChNU0xheWVyRWxlbWVudCk7dmFyIHA9TVNIb3RzcG90TGF5ZXIucHJvdG90eXBlLF9zdXBlcj1NU0xheWVyRWxlbWVudC5wcm90b3R5cGU7cC5fc2hvd1RUPWZ1bmN0aW9uKCl7dGhpcy5zaG93X2NsJiYoY2xlYXJUaW1lb3V0KHRoaXMuaHRvKSx0aGlzLl90d2VlbiYmdGhpcy5fdHdlZW4uc3RvcCghMCksdGhpcy5oaWRlX3N0YXJ0JiYodGhpcy5hbGlnbj10aGlzLl9vcmdBbGlnbix0aGlzLl9sb2NhdGVUVCgpLHRoaXMudHQuY3NzKHtkaXNwbGF5OlwiYmxvY2tcIn0pLHRoaXMuX3R3ZWVuPUNUd2Vlbi5hbmltYXRlKHRoaXMudHQsOTAwLHRoaXMudG8se2Vhc2U6XCJlYXNlT3V0XCIrdGhpcy5lYXNlfSksdGhpcy5oaWRlX3N0YXJ0PSExKSl9LHAuX2hpZGVUVD1mdW5jdGlvbigpe2lmKHRoaXMuc2hvd19jbCl7dGhpcy5fdHdlZW4mJnRoaXMuX3R3ZWVuLnN0b3AoITApO3ZhciB0aGF0PXRoaXM7Y2xlYXJUaW1lb3V0KHRoaXMuaHRvKSx0aGlzLmh0bz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhhdC5oaWRlX3N0YXJ0PSEwLHRoYXQuX3R3ZWVuPUNUd2Vlbi5hbmltYXRlKHRoYXQudHQsOTAwLHRoYXQuZnJvbSx7ZWFzZTpcImVhc2VPdXRcIit0aGF0LmVhc2UsY29tcGxldGU6ZnVuY3Rpb24oKXt0aGF0LnR0LmNzcyhcImRpc3BsYXlcIixcIm5vbmVcIil9fSl9LDIwMCl9fSxwLl91cGRhdGVDbGFzc05hbWU9ZnVuY3Rpb24obmFtZSl7dGhpcy5fbGFzdENsYXNzJiZ0aGlzLnR0LnJlbW92ZUNsYXNzKHRoaXMuX2xhc3RDbGFzcyksdGhpcy50dC5hZGRDbGFzcyhuYW1lKSx0aGlzLl9sYXN0Q2xhc3M9bmFtZX0scC5fYWxpZ25Qb2xpY3k9ZnVuY3Rpb24oKXt7dmFyIHc9KHRoaXMudHQub3V0ZXJIZWlnaHQoITEpLE1hdGgubWF4KHRoaXMudHQub3V0ZXJXaWR0aCghMSkscGFyc2VJbnQodGhpcy50dC5jc3MoXCJtYXgtd2lkdGhcIikpKSksd3c9d2luZG93LmlubmVyV2lkdGg7d2luZG93LmlubmVySGVpZ2h0fXN3aXRjaCh0aGlzLmFsaWduKXtjYXNlXCJ0b3BcIjppZih0aGlzLmJhc2VfdDwwKXJldHVyblwiYm90dG9tXCI7YnJlYWs7Y2FzZVwicmlnaHRcIjppZih0aGlzLmJhc2VfbCt3Pnd3fHx0aGlzLmJhc2VfdDwwKXJldHVyblwiYm90dG9tXCI7YnJlYWs7Y2FzZVwibGVmdFwiOmlmKHRoaXMuYmFzZV9sPDB8fHRoaXMuYmFzZV90PDApcmV0dXJuXCJib3R0b21cIn1yZXR1cm4gbnVsbH0scC5fbG9jYXRlVFQ9ZnVuY3Rpb24oKXt2YXIgb3M9dGhpcy4kZWxlbWVudC5vZmZzZXQoKSxvczI9dGhpcy5zbGlkZS5zbGlkZXIuJGVsZW1lbnQub2Zmc2V0KCksZGlzdD01MCxzcGFjZT0xNTt0aGlzLnBvc194PW9zLmxlZnQtb3MyLmxlZnQtdGhpcy5zbGlkZS5zbGlkZXIuJGVsZW1lbnQuc2Nyb2xsTGVmdCgpLHRoaXMucG9zX3k9b3MudG9wLW9zMi50b3AtdGhpcy5zbGlkZS5zbGlkZXIuJGVsZW1lbnQuc2Nyb2xsVG9wKCksdGhpcy5mcm9tPXtvcGFjaXR5OjB9LHRoaXMudG89e29wYWNpdHk6MX0sdGhpcy5fdXBkYXRlQ2xhc3NOYW1lKFwibXMtdG9vbHRpcC1cIit0aGlzLmFsaWduKSx0aGlzLnR0X2Fycm93LmNzcyhcIm1hcmdpbi1sZWZ0XCIsXCJcIik7dmFyIGFycm93X3c9MTUsYXJyb3dfaD0xNTtzd2l0Y2godGhpcy5hbGlnbil7Y2FzZVwidG9wXCI6dmFyIHc9TWF0aC5taW4odGhpcy50dC5vdXRlcldpZHRoKCExKSxwYXJzZUludCh0aGlzLnR0LmNzcyhcIm1heC13aWR0aFwiKSkpO3RoaXMuYmFzZV90PXRoaXMucG9zX3ktdGhpcy50dC5vdXRlckhlaWdodCghMSktYXJyb3dfaC1zcGFjZSx0aGlzLmJhc2VfbD10aGlzLnBvc194LXcvMix0aGlzLmJhc2VfbCt3PndpbmRvdy5pbm5lcldpZHRoJiYodGhpcy50dF9hcnJvdy5jc3MoXCJtYXJnaW4tbGVmdFwiLC1hcnJvd193LzIrdGhpcy5iYXNlX2wrdy13aW5kb3cuaW5uZXJXaWR0aCtcInB4XCIpLHRoaXMuYmFzZV9sPXdpbmRvdy5pbm5lcldpZHRoLXcpLHRoaXMuYmFzZV9sPDAmJih0aGlzLmJhc2VfbD0wLHRoaXMudHRfYXJyb3cuY3NzKFwibWFyZ2luLWxlZnRcIiwtYXJyb3dfdy8yK3RoaXMucG9zX3gtdGhpcy50dC5vdXRlcldpZHRoKCExKS8yK1wicHhcIikpLHdpbmRvdy5fY3NzM2Q/KHRoaXMuZnJvbVt3aW5kb3cuX2pjc3NwZngrXCJUcmFuc2Zvcm1cIl09XCJ0cmFuc2xhdGVZKC1cIitkaXN0K1wicHgpXCIsdGhpcy50b1t3aW5kb3cuX2pjc3NwZngrXCJUcmFuc2Zvcm1cIl09XCJcIik6KHRoaXMuZnJvbS50b3A9dGhpcy5iYXNlX3QtZGlzdCtcInB4XCIsdGhpcy50by50b3A9dGhpcy5iYXNlX3QrXCJweFwiKTticmVhaztjYXNlXCJib3R0b21cIjp2YXIgdz1NYXRoLm1pbih0aGlzLnR0Lm91dGVyV2lkdGgoITEpLHBhcnNlSW50KHRoaXMudHQuY3NzKFwibWF4LXdpZHRoXCIpKSk7dGhpcy5iYXNlX3Q9dGhpcy5wb3NfeSthcnJvd19oK3NwYWNlLHRoaXMuYmFzZV9sPXRoaXMucG9zX3gtdy8yLHRoaXMuYmFzZV9sK3c+d2luZG93LmlubmVyV2lkdGgmJih0aGlzLnR0X2Fycm93LmNzcyhcIm1hcmdpbi1sZWZ0XCIsLWFycm93X3cvMit0aGlzLmJhc2VfbCt3LXdpbmRvdy5pbm5lcldpZHRoK1wicHhcIiksdGhpcy5iYXNlX2w9d2luZG93LmlubmVyV2lkdGgtdyksdGhpcy5iYXNlX2w8MCYmKHRoaXMuYmFzZV9sPTAsdGhpcy50dF9hcnJvdy5jc3MoXCJtYXJnaW4tbGVmdFwiLC1hcnJvd193LzIrdGhpcy5wb3NfeC10aGlzLnR0Lm91dGVyV2lkdGgoITEpLzIrXCJweFwiKSksd2luZG93Ll9jc3MzZD8odGhpcy5mcm9tW3dpbmRvdy5famNzc3BmeCtcIlRyYW5zZm9ybVwiXT1cInRyYW5zbGF0ZVkoXCIrZGlzdCtcInB4KVwiLHRoaXMudG9bd2luZG93Ll9qY3NzcGZ4K1wiVHJhbnNmb3JtXCJdPVwiXCIpOih0aGlzLmZyb20udG9wPXRoaXMuYmFzZV90K2Rpc3QrXCJweFwiLHRoaXMudG8udG9wPXRoaXMuYmFzZV90K1wicHhcIik7YnJlYWs7Y2FzZVwicmlnaHRcIjp0aGlzLmJhc2VfbD10aGlzLnBvc194K2Fycm93X3crc3BhY2UsdGhpcy5iYXNlX3Q9dGhpcy5wb3NfeS10aGlzLnR0Lm91dGVySGVpZ2h0KCExKS8yLHdpbmRvdy5fY3NzM2Q/KHRoaXMuZnJvbVt3aW5kb3cuX2pjc3NwZngrXCJUcmFuc2Zvcm1cIl09XCJ0cmFuc2xhdGVYKFwiK2Rpc3QrXCJweClcIix0aGlzLnRvW3dpbmRvdy5famNzc3BmeCtcIlRyYW5zZm9ybVwiXT1cIlwiKToodGhpcy5mcm9tLmxlZnQ9dGhpcy5iYXNlX2wrZGlzdCtcInB4XCIsdGhpcy50by5sZWZ0PXRoaXMuYmFzZV9sK1wicHhcIik7YnJlYWs7Y2FzZVwibGVmdFwiOnRoaXMuYmFzZV9sPXRoaXMucG9zX3gtYXJyb3dfdy10aGlzLnR0Lm91dGVyV2lkdGgoITEpLXNwYWNlLHRoaXMuYmFzZV90PXRoaXMucG9zX3ktdGhpcy50dC5vdXRlckhlaWdodCghMSkvMix3aW5kb3cuX2NzczNkPyh0aGlzLmZyb21bd2luZG93Ll9qY3NzcGZ4K1wiVHJhbnNmb3JtXCJdPVwidHJhbnNsYXRlWCgtXCIrZGlzdCtcInB4KVwiLHRoaXMudG9bd2luZG93Ll9qY3NzcGZ4K1wiVHJhbnNmb3JtXCJdPVwiXCIpOih0aGlzLmZyb20ubGVmdD10aGlzLmJhc2VfbC1kaXN0K1wicHhcIix0aGlzLnRvLmxlZnQ9dGhpcy5iYXNlX2wrXCJweFwiKX12YXIgcG9saWN5QWxpZ249dGhpcy5fYWxpZ25Qb2xpY3koKTtyZXR1cm4gbnVsbCE9PXBvbGljeUFsaWduPyh0aGlzLmFsaWduPXBvbGljeUFsaWduLHZvaWQgdGhpcy5fbG9jYXRlVFQoKSk6KHRoaXMudHQuY3NzKFwidG9wXCIscGFyc2VJbnQodGhpcy5iYXNlX3QpK1wicHhcIikuY3NzKFwibGVmdFwiLHBhcnNlSW50KHRoaXMuYmFzZV9sKStcInB4XCIpLHZvaWQgdGhpcy50dC5jc3ModGhpcy5mcm9tKSl9LHAuc3RhcnQ9ZnVuY3Rpb24oKXtfc3VwZXIuc3RhcnQuY2FsbCh0aGlzKSx0aGlzLnR0LmFwcGVuZFRvKHRoaXMuc2xpZGUuc2xpZGVyLiRlbGVtZW50KSx0aGlzLnR0LmNzcyhcImRpc3BsYXlcIixcIm5vbmVcIil9LHAucmVzZXQ9ZnVuY3Rpb24oKXtfc3VwZXIucmVzZXQuY2FsbCh0aGlzKSx0aGlzLnR0LmRldGFjaCgpfSxwLmNyZWF0ZT1mdW5jdGlvbigpe3ZhciB0aGF0PXRoaXM7dGhpcy5fb3JnQWxpZ249dGhpcy5hbGlnbj12b2lkIDAhPT10aGlzLiRlbGVtZW50LmRhdGEoXCJhbGlnblwiKT90aGlzLiRlbGVtZW50LmRhdGEoXCJhbGlnblwiKTpcInRvcFwiLHRoaXMuZGF0YT10aGlzLiRlbGVtZW50Lmh0bWwoKSx0aGlzLiRlbGVtZW50Lmh0bWwoXCJcIikub24oXCJtb3VzZWVudGVyXCIsZnVuY3Rpb24oKXt0aGF0Ll9zaG93VFQoKX0pLm9uKFwibW91c2VsZWF2ZVwiLGZ1bmN0aW9uKCl7dGhhdC5faGlkZVRUKCl9KSx0aGlzLnBvaW50PSQoJzxkaXY+PGRpdiBjbGFzcz1cIm1zLXBvaW50LWNlbnRlclwiPjwvZGl2PjxkaXYgY2xhc3M9XCJtcy1wb2ludC1ib3JkZXJcIj48L2Rpdj48L2Rpdj4nKS5hZGRDbGFzcyhcIm1zLXRvb2x0aXAtcG9pbnRcIikuYXBwZW5kVG8odGhpcy4kZWxlbWVudCk7dmFyIGxpbms9dGhpcy4kZWxlbWVudC5kYXRhKFwibGlua1wiKSx0YXJnZXQ9dGhpcy4kZWxlbWVudC5kYXRhKFwidGFyZ2V0XCIpO2xpbmsmJnRoaXMucG9pbnQub24oXCJjbGlja1wiLGZ1bmN0aW9uKCl7d2luZG93Lm9wZW4obGluayx0YXJnZXR8fFwiX3NlbGZcIil9KSx0aGlzLnR0PSQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyhcIm1zLXRvb2x0aXBcIikuY3NzKFwiZGlzcGxheVwiLFwiaGlkZGVuXCIpLmNzcyhcIm9wYWNpdHlcIiwwKSx2b2lkIDAhPT10aGlzLiRlbGVtZW50LmRhdGEoXCJ3aWR0aFwiKSYmdGhpcy50dC5jc3MoXCJ3aWR0aFwiLHRoaXMuJGVsZW1lbnQuZGF0YShcIndpZHRoXCIpKS5jc3MoXCJtYXgtd2lkdGhcIix0aGlzLiRlbGVtZW50LmRhdGEoXCJ3aWR0aFwiKSksdGhpcy50dF9hcnJvdz0kKFwiPGRpdj48L2Rpdj5cIikuYWRkQ2xhc3MoXCJtcy10b29sdGlwLWFycm93XCIpLmFwcGVuZFRvKHRoaXMudHQpLHRoaXMuX3VwZGF0ZUNsYXNzTmFtZShcIm1zLXRvb2x0aXAtXCIrdGhpcy5hbGlnbiksdGhpcy50dGNvbnQ9JChcIjxkaXY+PC9kaXY+XCIpLmFkZENsYXNzKFwibXMtdG9vbHRpcC1jb250XCIpLmh0bWwodGhpcy5kYXRhKS5hcHBlbmRUbyh0aGlzLnR0KSx0aGlzLiRlbGVtZW50LmRhdGEoXCJzdGF5LWhvdmVyXCIpPT09ITAmJnRoaXMudHQub24oXCJtb3VzZWVudGVyXCIsZnVuY3Rpb24oKXt0aGF0LmhpZGVfc3RhcnR8fChjbGVhclRpbWVvdXQodGhhdC5odG8pLHRoYXQuX3R3ZWVuLnN0b3AoITApLHRoYXQuX3Nob3dUVCgpKX0pLm9uKFwibW91c2VsZWF2ZVwiLGZ1bmN0aW9uKCl7dGhhdC5faGlkZVRUKCl9KSxfc3VwZXIuY3JlYXRlLmNhbGwodGhpcyl9fShqUXVlcnkpLGZ1bmN0aW9uKCl7d2luZG93Lk1TQnV0dG9uTGF5ZXI9ZnVuY3Rpb24oKXtNU0xheWVyRWxlbWVudC5jYWxsKHRoaXMpLHRoaXMudHlwZT1cImJ1dHRvblwifSxNU0J1dHRvbkxheWVyLmV4dGVuZChNU0xheWVyRWxlbWVudCk7dmFyIHA9TVNCdXR0b25MYXllci5wcm90b3R5cGUsX3N1cGVyPU1TTGF5ZXJFbGVtZW50LnByb3RvdHlwZSxwb3NpdGlvbktpZXM9W1widG9wXCIsXCJsZWZ0XCIsXCJib3R0b21cIixcInJpZ2h0XCJdO3AuY3JlYXRlPWZ1bmN0aW9uKCl7X3N1cGVyLmNyZWF0ZS5jYWxsKHRoaXMpLHRoaXMuJGVsZW1lbnQud3JhcCgnPGRpdiBjbGFzcz1cIm1zLWJ0bi1jb250YWluZXJcIj48L2Rpdj4nKS5jc3MoXCJwb3NpdGlvblwiLFwicmVsYXRpdmVcIiksdGhpcy4kY29udGFpbmVyPXRoaXMuJGVsZW1lbnQucGFyZW50KCl9LHAubG9jYXRlPWZ1bmN0aW9uKCl7X3N1cGVyLmxvY2F0ZS5jYWxsKHRoaXMpO2Zvcih2YXIga2V5LHRlbXBWYWx1ZSxpPTA7ND5pO2krKylrZXk9cG9zaXRpb25LaWVzW2ldLGtleSBpbiB0aGlzLmJhc2VTdHlsZSYmKHRlbXBWYWx1ZT10aGlzLiRlbGVtZW50LmNzcyhrZXkpLHRoaXMuJGVsZW1lbnQuY3NzKGtleSxcIlwiKSx0aGlzLiRjb250YWluZXIuY3NzKGtleSx0ZW1wVmFsdWUpKTt0aGlzLiRjb250YWluZXIud2lkdGgodGhpcy4kZWxlbWVudC5vdXRlcldpZHRoKCEwKSkuaGVpZ2h0KHRoaXMuJGVsZW1lbnQub3V0ZXJIZWlnaHQoITApKX19KGpRdWVyeSksd2luZG93Lk1TU2xpZGVyRXZlbnQ9ZnVuY3Rpb24odHlwZSl7dGhpcy50eXBlPXR5cGV9LE1TU2xpZGVyRXZlbnQuQ0hBTkdFX1NUQVJUPVwibXNfY2hhbmdlc3RhcnRcIixNU1NsaWRlckV2ZW50LkNIQU5HRV9FTkQ9XCJtc19jaGFuZ2VlbmRcIixNU1NsaWRlckV2ZW50LldBSVRJTkc9XCJtc193YWl0aW5nXCIsTVNTbGlkZXJFdmVudC5BVVRPUExBWV9DSEFOR0U9XCJtc19hdXRvcGxheWNoYW5nZVwiLE1TU2xpZGVyRXZlbnQuVklERU9fUExBWT1cIm1zX3ZpZGVvUGxheVwiLE1TU2xpZGVyRXZlbnQuVklERU9fQ0xPU0U9XCJtc192aWRlb2Nsb3NlXCIsTVNTbGlkZXJFdmVudC5JTklUPVwibXNfaW5pdFwiLE1TU2xpZGVyRXZlbnQuSEFSRF9VUERBVEU9XCJtc19oYXJkX3VwZGF0ZVwiLE1TU2xpZGVyRXZlbnQuUkVTSVpFPVwibXNfcmVzaXplXCIsTVNTbGlkZXJFdmVudC5SRVNFUlZFRF9TUEFDRV9DSEFOR0U9XCJtc19yc2NcIixNU1NsaWRlckV2ZW50LkRFU1RST1k9XCJtc19kZXN0cm95XCIsZnVuY3Rpb24od2luZG93LGRvY3VtZW50LCQpe1widXNlIHN0cmljdFwiO3dpbmRvdy5NU1NsaWRlPWZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudD1udWxsLHRoaXMuJGxvYWRpbmc9JChcIjxkaXY+PC9kaXY+XCIpLmFkZENsYXNzKFwibXMtc2xpZGUtbG9hZGluZ1wiKSx0aGlzLnZpZXc9bnVsbCx0aGlzLmluZGV4PS0xLHRoaXMuX193aWR0aD0wLHRoaXMuX19oZWlnaHQ9MCx0aGlzLmZpbGxNb2RlPVwiZmlsbFwiLHRoaXMuc2VsZWN0ZWQ9ITEsdGhpcy5wc2VsZWN0ZWQ9ITEsdGhpcy5hdXRvQXBwZW5kPSEwLHRoaXMuaXNTbGVlcGluZz0hMCx0aGlzLm1vej0kLmJyb3dzZXIubW96aWxsYX07dmFyIHA9TVNTbGlkZS5wcm90b3R5cGU7cC5vblN3aXBlU3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLmxpbmsmJih0aGlzLmxpbmtkaXM9ITApLHRoaXMudmlkZW8mJih0aGlzLnZpZGVvZGlzPSEwKX0scC5vblN3aXBlTW92ZT1mdW5jdGlvbihlKXt2YXIgbW92ZT1NYXRoLm1heChNYXRoLmFicyhlLmRhdGEuZGlzdGFuY2VYKSxNYXRoLmFicyhlLmRhdGEuZGlzdGFuY2VZKSk7dGhpcy5zd2lwZU1vdmVkPW1vdmU+NH0scC5vblN3aXBlQ2FuY2VsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3dpcGVNb3ZlZD92b2lkKHRoaXMuc3dpcGVNb3ZlZD0hMSk6KHRoaXMubGluayYmKHRoaXMubGlua2Rpcz0hMSksdm9pZCh0aGlzLnZpZGVvJiYodGhpcy52aWRlb2Rpcz0hMSkpKX0scC5zZXR1cExheWVyQ29udHJvbGxlcj1mdW5jdGlvbigpe3RoaXMuaGFzTGF5ZXJzPSEwLHRoaXMubGF5ZXJDb250cm9sbGVyPW5ldyBNU0xheWVyQ29udHJvbGxlcih0aGlzKX0scC5hc3NldHNMb2FkZWQ9ZnVuY3Rpb24oKXt0aGlzLnJlYWR5PSEwLHRoaXMuc2xpZGVyLmFwaS5fc3RhcnRUaW1lcigpLCh0aGlzLnNlbGVjdGVkfHx0aGlzLnBzZWxlY3RlZCYmdGhpcy5zbGlkZXIub3B0aW9ucy5pbnN0YW50U3RhcnRMYXllcnMpJiYodGhpcy5oYXNMYXllcnMmJnRoaXMubGF5ZXJDb250cm9sbGVyLnNob3dMYXllcnMoKSx0aGlzLnZpbml0JiYodGhpcy5iZ3ZpZGVvLnBsYXkoKSx0aGlzLmF1dG9QYXVzZUJnVmlkfHwodGhpcy5iZ3ZpZGVvLmN1cnJlbnRUaW1lPTApKSksdGhpcy5pc1NsZWVwaW5nfHx0aGlzLnNldHVwQkcoKSxDVHdlZW4uZmFkZU91dCh0aGlzLiRsb2FkaW5nLDMwMCwhMCksKDA9PT10aGlzLnNsaWRlci5vcHRpb25zLnByZWxvYWR8fFwiYWxsXCI9PT10aGlzLnNsaWRlci5vcHRpb25zLnByZWxvYWQpJiZ0aGlzLmluZGV4PHRoaXMudmlldy5zbGlkZUxpc3QubGVuZ3RoLTE/dGhpcy52aWV3LnNsaWRlTGlzdFt0aGlzLmluZGV4KzFdLmxvYWRJbWFnZXMoKTpcImFsbFwiPT09dGhpcy5zbGlkZXIub3B0aW9ucy5wcmVsb2FkJiZ0aGlzLmluZGV4PT09dGhpcy52aWV3LnNsaWRlTGlzdC5sZW5ndGgtMSYmdGhpcy5zbGlkZXIuX3JlbW92ZUxvYWRpbmcoKX0scC5zZXRCRz1mdW5jdGlvbihpbWcpe3RoaXMuaGFzQkc9ITA7dmFyIHRoYXQ9dGhpczt0aGlzLiRpbWdjb250PSQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyhcIm1zLXNsaWRlLWJnY29udFwiKSx0aGlzLiRlbGVtZW50LmFwcGVuZCh0aGlzLiRsb2FkaW5nKS5hcHBlbmQodGhpcy4kaW1nY29udCksdGhpcy4kYmdfaW1nPSQoaW1nKS5jc3MoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIiksdGhpcy4kaW1nY29udC5hcHBlbmQodGhpcy4kYmdfaW1nKSx0aGlzLmJnQWxpZ25lcj1uZXcgTVNBbGlnbmVyKHRoYXQuZmlsbE1vZGUsdGhhdC4kaW1nY29udCx0aGF0LiRiZ19pbWcpLHRoaXMuYmdBbGlnbmVyLndpZHRoT25seT10aGlzLnNsaWRlci5vcHRpb25zLmF1dG9IZWlnaHQsdGhhdC5zbGlkZXIub3B0aW9ucy5hdXRvSGVpZ2h0JiYodGhhdC5wc2VsZWN0ZWR8fHRoYXQuc2VsZWN0ZWQpJiZ0aGF0LnNsaWRlci5zZXRIZWlnaHQodGhhdC5zbGlkZXIub3B0aW9ucy5oZWlnaHQpLHZvaWQgMCE9PXRoaXMuJGJnX2ltZy5kYXRhKFwic3JjXCIpPyh0aGlzLmJnX3NyYz10aGlzLiRiZ19pbWcuZGF0YShcInNyY1wiKSx0aGlzLiRiZ19pbWcucmVtb3ZlQXR0cihcImRhdGEtc3JjXCIpKTp0aGlzLiRiZ19pbWcub25lKFwibG9hZFwiLGZ1bmN0aW9uKGV2ZW50KXt0aGF0Ll9vbkJHTG9hZChldmVudCl9KS5lYWNoKCQuanFMb2FkRml4KX0scC5zZXR1cEJHPWZ1bmN0aW9uKCl7IXRoaXMuaW5pdEJHJiZ0aGlzLmJnTG9hZGVkJiYodGhpcy5pbml0Qkc9ITAsdGhpcy4kYmdfaW1nLmNzcyhcInZpc2liaWxpdHlcIixcIlwiKSx0aGlzLmJnV2lkdGg9dGhpcy5iZ05hdHJ1YWxXaWR0aHx8dGhpcy4kYmdfaW1nLndpZHRoKCksdGhpcy5iZ0hlaWdodD10aGlzLmJnTmF0cnVhbEhlaWdodHx8dGhpcy4kYmdfaW1nLmhlaWdodCgpLENUd2Vlbi5mYWRlSW4odGhpcy4kaW1nY29udCwzMDApLHRoaXMuc2xpZGVyLm9wdGlvbnMuYXV0b0hlaWdodCYmdGhpcy4kaW1nY29udC5oZWlnaHQodGhpcy5iZ0hlaWdodCp0aGlzLnJhdGlvKSx0aGlzLmJnQWxpZ25lci5pbml0KHRoaXMuYmdXaWR0aCx0aGlzLmJnSGVpZ2h0KSx0aGlzLnNldFNpemUodGhpcy5fX3dpZHRoLHRoaXMuX19oZWlnaHQpLHRoaXMuc2xpZGVyLm9wdGlvbnMuYXV0b0hlaWdodCYmKHRoaXMucHNlbGVjdGVkfHx0aGlzLnNlbGVjdGVkKSYmdGhpcy5zbGlkZXIuc2V0SGVpZ2h0KHRoaXMuZ2V0SGVpZ2h0KCkpKX0scC5sb2FkSW1hZ2VzPWZ1bmN0aW9uKCl7aWYoIXRoaXMubHMpe2lmKHRoaXMubHM9ITAsdGhpcy5iZ3ZpZGVvJiZ0aGlzLmJndmlkZW8ubG9hZCgpLHRoaXMuaGFzQkcmJnRoaXMuYmdfc3JjKXt2YXIgdGhhdD10aGlzO3RoaXMuJGJnX2ltZy5wcmVsb2FkSW1nKHRoaXMuYmdfc3JjLGZ1bmN0aW9uKGV2ZW50KXt0aGF0Ll9vbkJHTG9hZChldmVudCl9KX10aGlzLmhhc0xheWVycyYmdGhpcy5sYXllckNvbnRyb2xsZXIubG9hZExheWVycyh0aGlzLl9vbkxheWVyc0xvYWQpLHRoaXMuaGFzQkd8fHRoaXMuaGFzTGF5ZXJzfHx0aGlzLmFzc2V0c0xvYWRlZCgpfX0scC5fb25MYXllcnNMb2FkPWZ1bmN0aW9uKCl7dGhpcy5sYXllcnNMb2FkZWQ9ITAsKCF0aGlzLmhhc0JHfHx0aGlzLmJnTG9hZGVkKSYmdGhpcy5hc3NldHNMb2FkZWQoKX0scC5fb25CR0xvYWQ9ZnVuY3Rpb24oZXZlbnQpe3RoaXMuYmdOYXRydWFsV2lkdGg9ZXZlbnQud2lkdGgsdGhpcy5iZ05hdHJ1YWxIZWlnaHQ9ZXZlbnQuaGVpZ2h0LHRoaXMuYmdMb2FkZWQ9ITAsJC5icm93c2VyLm1zaWUmJnRoaXMuJGJnX2ltZy5vbihcImRyYWdzdGFydFwiLGZ1bmN0aW9uKGV2ZW50KXtldmVudC5wcmV2ZW50RGVmYXVsdCgpfSksKCF0aGlzLmhhc0xheWVyc3x8dGhpcy5sYXllckNvbnRyb2xsZXIucmVhZHkpJiZ0aGlzLmFzc2V0c0xvYWRlZCgpfSxwLnNldEJHVmlkZW89ZnVuY3Rpb24oJHZpZGVvKXtpZigkdmlkZW9bMF0ucGxheSl7aWYod2luZG93Ll9tb2JpbGUpcmV0dXJuIHZvaWQgJHZpZGVvLnJlbW92ZSgpO3RoaXMuYmd2aWRlbz0kdmlkZW9bMF07dmFyIHRoYXQ9dGhpczskdmlkZW8uYWRkQ2xhc3MoXCJtcy1zbGlkZS1iZ3ZpZGVvXCIpLCR2aWRlby5kYXRhKFwibG9vcFwiKSE9PSExJiZ0aGlzLmJndmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsZnVuY3Rpb24oKXt0aGF0LmJndmlkZW8ucGxheSgpfSksJHZpZGVvLmRhdGEoXCJtdXRlXCIpIT09ITEmJih0aGlzLmJndmlkZW8ubXV0ZWQ9ITApLCR2aWRlby5kYXRhKFwiYXV0b3BhdXNlXCIpPT09ITAmJih0aGlzLmF1dG9QYXVzZUJnVmlkPSEwKSx0aGlzLmJndmlkZW9fZmlsbG1vZGU9JHZpZGVvLmRhdGEoXCJmaWxsLW1vZGVcIil8fFwiZmlsbFwiLFwibm9uZVwiIT09dGhpcy5iZ3ZpZGVvX2ZpbGxtb2RlJiYodGhpcy5iZ1ZpZGVvQWxpZ25lcj1uZXcgTVNBbGlnbmVyKHRoaXMuYmd2aWRlb19maWxsbW9kZSx0aGlzLiRlbGVtZW50LCR2aWRlbyksdGhpcy5iZ3ZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkZWRtZXRhZGF0YVwiLGZ1bmN0aW9uKCl7dGhhdC52aW5pdHx8KHRoYXQudmluaXQ9ITAsdGhhdC52aWRlb19hc3BlY3Q9dGhhdC5iZ1ZpZGVvQWxpZ25lci5iYXNlSGVpZ2h0L3RoYXQuYmdWaWRlb0FsaWduZXIuYmFzZVdpZHRoLHRoYXQuYmdWaWRlb0FsaWduZXIuaW5pdCh0aGF0LmJndmlkZW8udmlkZW9XaWR0aCx0aGF0LmJndmlkZW8udmlkZW9IZWlnaHQpLHRoYXQuX2FsaWduQkdWaWRlbygpLENUd2Vlbi5mYWRlSW4oJCh0aGF0LmJndmlkZW8pLDIwMCksdGhhdC5zZWxlY3RlZCYmdGhhdC5iZ3ZpZGVvLnBsYXkoKSl9KSksJHZpZGVvLmNzcyhcIm9wYWNpdHlcIiwwKSx0aGlzLiRiZ3ZpZGVvY29udD0kKFwiPGRpdj48L2Rpdj5cIikuYWRkQ2xhc3MoXCJtcy1zbGlkZS1iZ3ZpZGVvY29udFwiKS5hcHBlbmQoJHZpZGVvKSx0aGlzLmhhc0JHP3RoaXMuJGltZ2NvbnQuYmVmb3JlKHRoaXMuJGJndmlkZW9jb250KTp0aGlzLiRiZ3ZpZGVvY29udC5hcHBlbmRUbyh0aGlzLiRlbGVtZW50KX19LHAuX2FsaWduQkdWaWRlbz1mdW5jdGlvbigpe3RoaXMuYmd2aWRlb19maWxsbW9kZSYmXCJub25lXCIhPT10aGlzLmJndmlkZW9fZmlsbG1vZGUmJnRoaXMuYmdWaWRlb0FsaWduZXIuYWxpZ24oKX0scC5zZXRTaXplPWZ1bmN0aW9uKHdpZHRoLGhlaWdodCxoYXJkKXt0aGlzLl9fd2lkdGg9d2lkdGgsdGhpcy5zbGlkZXIub3B0aW9ucy5hdXRvSGVpZ2h0JiYodGhpcy5iZ0xvYWRlZD8odGhpcy5yYXRpbz10aGlzLl9fd2lkdGgvdGhpcy5iZ1dpZHRoLGhlaWdodD1NYXRoLmZsb29yKHRoaXMucmF0aW8qdGhpcy5iZ0hlaWdodCksdGhpcy4kaW1nY29udC5oZWlnaHQoaGVpZ2h0KSk6KHRoaXMucmF0aW89d2lkdGgvdGhpcy5zbGlkZXIub3B0aW9ucy53aWR0aCxoZWlnaHQ9dGhpcy5zbGlkZXIub3B0aW9ucy5oZWlnaHQqdGhpcy5yYXRpbykpLHRoaXMuX19oZWlnaHQ9aGVpZ2h0LHRoaXMuJGVsZW1lbnQud2lkdGgod2lkdGgpLmhlaWdodChoZWlnaHQpLHRoaXMuaGFzQkcmJnRoaXMuYmdMb2FkZWQmJnRoaXMuYmdBbGlnbmVyLmFsaWduKCksdGhpcy5fYWxpZ25CR1ZpZGVvKCksdGhpcy5oYXNMYXllcnMmJnRoaXMubGF5ZXJDb250cm9sbGVyLnNldFNpemUod2lkdGgsaGVpZ2h0LGhhcmQpXHJcbn0scC5nZXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oYXNCRyYmdGhpcy5iZ0xvYWRlZD90aGlzLmJnSGVpZ2h0KnRoaXMucmF0aW86TWF0aC5tYXgodGhpcy4kZWxlbWVudFswXS5jbGllbnRIZWlnaHQsdGhpcy5zbGlkZXIub3B0aW9ucy5oZWlnaHQqdGhpcy5yYXRpbyl9LHAuX19wbGF5VmlkZW89ZnVuY3Rpb24oKXt0aGlzLnZwbGF5ZWR8fHRoaXMudmlkZW9kaXN8fCh0aGlzLnZwbGF5ZWQ9ITAsdGhpcy5zbGlkZXIuYXBpLnBhdXNlZHx8KHRoaXMuc2xpZGVyLmFwaS5wYXVzZSgpLHRoaXMucm9jPSEwKSx0aGlzLnZjYnRuLmNzcyhcImRpc3BsYXlcIixcIlwiKSxDVHdlZW4uZmFkZU91dCh0aGlzLnZwYnRuLDUwMCwhMSksQ1R3ZWVuLmZhZGVJbih0aGlzLnZjYnRuLDUwMCksQ1R3ZWVuLmZhZGVJbih0aGlzLnZmcmFtZSw1MDApLHRoaXMudmZyYW1lLmNzcyhcImRpc3BsYXlcIixcImJsb2NrXCIpLmF0dHIoXCJzcmNcIix0aGlzLnZpZGVvK1wiJmF1dG9wbGF5PTFcIiksdGhpcy52aWV3LiRlbGVtZW50LmFkZENsYXNzKFwibXMtZGVmLWN1cnNvclwiKSx0aGlzLnZpZXcuc3dpcGVDb250cm9sJiZ0aGlzLnZpZXcuc3dpcGVDb250cm9sLmRpc2FibGUoKSx0aGlzLnNsaWRlci5zbGlkZUNvbnRyb2xsZXIuZGlzcGF0Y2hFdmVudChuZXcgTVNTbGlkZXJFdmVudChNU1NsaWRlckV2ZW50LlZJREVPX1BMQVkpKSl9LHAuX19jbG9zZVZpZGVvPWZ1bmN0aW9uKCl7aWYodGhpcy52cGxheWVkKXt0aGlzLnZwbGF5ZWQ9ITEsdGhpcy5yb2MmJnRoaXMuc2xpZGVyLmFwaS5yZXN1bWUoKTt2YXIgdGhhdD10aGlzO0NUd2Vlbi5mYWRlSW4odGhpcy52cGJ0biw1MDApLENUd2Vlbi5hbmltYXRlKHRoaXMudmNidG4sNTAwLHtvcGFjaXR5OjB9LHtjb21wbGV0ZTpmdW5jdGlvbigpe3RoYXQudmNidG4uY3NzKFwiZGlzcGxheVwiLFwibm9uZVwiKX19KSxDVHdlZW4uYW5pbWF0ZSh0aGlzLnZmcmFtZSw1MDAse29wYWNpdHk6MH0se2NvbXBsZXRlOmZ1bmN0aW9uKCl7dGhhdC52ZnJhbWUuYXR0cihcInNyY1wiLFwiYWJvdXQ6YmxhbmtcIikuY3NzKFwiZGlzcGxheVwiLFwibm9uZVwiKX19KSx0aGlzLnZpZXcuc3dpcGVDb250cm9sJiZ0aGlzLnZpZXcuc3dpcGVDb250cm9sLmVuYWJsZSgpLHRoaXMudmlldy4kZWxlbWVudC5yZW1vdmVDbGFzcyhcIm1zLWRlZi1jdXJzb3JcIiksdGhpcy5zbGlkZXIuc2xpZGVDb250cm9sbGVyLmRpc3BhdGNoRXZlbnQobmV3IE1TU2xpZGVyRXZlbnQoTVNTbGlkZXJFdmVudC5WSURFT19DTE9TRSkpfX0scC5jcmVhdGU9ZnVuY3Rpb24oKXt2YXIgdGhhdD10aGlzO3RoaXMuaGFzTGF5ZXJzJiZ0aGlzLmxheWVyQ29udHJvbGxlci5jcmVhdGUoKSx0aGlzLmxpbmsmJnRoaXMubGluay5hZGRDbGFzcyhcIm1zLXNsaWRlLWxpbmtcIikuaHRtbChcIlwiKS5jbGljayhmdW5jdGlvbihlKXt0aGF0LmxpbmtkaXMmJmUucHJldmVudERlZmF1bHQoKX0pLHRoaXMudmlkZW8mJigtMT09PXRoaXMudmlkZW8uaW5kZXhPZihcIj9cIikmJih0aGlzLnZpZGVvKz1cIj9cIiksdGhpcy52ZnJhbWU9JChcIjxpZnJhbWU+PC9pZnJhbWU+XCIpLmFkZENsYXNzKFwibXMtc2xpZGUtdmlkZW9cIikuY3NzKHt3aWR0aDpcIjEwMCVcIixoZWlnaHQ6XCIxMDAlXCIsZGlzcGxheTpcIm5vbmVcIn0pLmF0dHIoXCJzcmNcIixcImFib3V0OmJsYW5rXCIpLmF0dHIoXCJhbGxvd2Z1bGxzY3JlZW5cIixcInRydWVcIikuYXBwZW5kVG8odGhpcy4kZWxlbWVudCksdGhpcy52cGJ0bj0kKFwiPGRpdj48L2Rpdj5cIikuYWRkQ2xhc3MoXCJtcy1zbGlkZS12cGJ0blwiKS5jbGljayhmdW5jdGlvbigpe3RoYXQuX19wbGF5VmlkZW8oKX0pLmFwcGVuZFRvKHRoaXMuJGVsZW1lbnQpLHRoaXMudmNidG49JChcIjxkaXY+PC9kaXY+XCIpLmFkZENsYXNzKFwibXMtc2xpZGUtdmNidG5cIikuY2xpY2soZnVuY3Rpb24oKXt0aGF0Ll9fY2xvc2VWaWRlbygpfSkuYXBwZW5kVG8odGhpcy4kZWxlbWVudCkuY3NzKFwiZGlzcGxheVwiLFwibm9uZVwiKSx3aW5kb3cuX3RvdWNoJiZ0aGlzLnZjYnRuLnJlbW92ZUNsYXNzKFwibXMtc2xpZGUtdmNidG5cIikuYWRkQ2xhc3MoXCJtcy1zbGlkZS12Y2J0bi1tb2JpbGVcIikuYXBwZW5kKCc8ZGl2IGNsYXNzPVwibXMtdmNidG4tdHh0XCI+Q2xvc2UgdmlkZW88L2Rpdj4nKS5hcHBlbmRUbyh0aGlzLnZpZXcuJGVsZW1lbnQucGFyZW50KCkpKSwhdGhpcy5zbGlkZXIub3B0aW9ucy5hdXRvSGVpZ2h0JiZ0aGlzLmhhc0JHJiYodGhpcy4kaW1nY29udC5jc3MoXCJoZWlnaHRcIixcIjEwMCVcIiksKFwiY2VudGVyXCI9PT10aGlzLmZpbGxNb2RlfHxcInN0cmV0Y2hcIj09PXRoaXMuZmlsbE1vZGUpJiYodGhpcy5maWxsTW9kZT1cImZpbGxcIikpLHRoaXMuc2xpZGVyLm9wdGlvbnMuYXV0b0hlaWdodCYmdGhpcy4kZWxlbWVudC5hZGRDbGFzcyhcIm1zLXNsaWRlLWF1dG8taGVpZ2h0XCIpLHRoaXMuc2xlZXAoITApfSxwLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmhhc0xheWVycyYmKHRoaXMubGF5ZXJDb250cm9sbGVyLmRlc3Ryb3koKSx0aGlzLmxheWVyQ29udHJvbGxlcj1udWxsKSx0aGlzLiRlbGVtZW50LnJlbW92ZSgpLHRoaXMuJGVsZW1lbnQ9bnVsbH0scC5wcmVwYXJlVG9TZWxlY3Q9ZnVuY3Rpb24oKXt0aGlzLnBzZWxlY3RlZHx8dGhpcy5zZWxlY3RlZHx8KHRoaXMucHNlbGVjdGVkPSEwLCh0aGlzLmxpbmt8fHRoaXMudmlkZW8pJiYodGhpcy52aWV3LmFkZEV2ZW50TGlzdGVuZXIoTVNWaWV3RXZlbnRzLlNXSVBFX1NUQVJULHRoaXMub25Td2lwZVN0YXJ0LHRoaXMpLHRoaXMudmlldy5hZGRFdmVudExpc3RlbmVyKE1TVmlld0V2ZW50cy5TV0lQRV9NT1ZFLHRoaXMub25Td2lwZU1vdmUsdGhpcyksdGhpcy52aWV3LmFkZEV2ZW50TGlzdGVuZXIoTVNWaWV3RXZlbnRzLlNXSVBFX0NBTkNFTCx0aGlzLm9uU3dpcGVDYW5jZWwsdGhpcyksdGhpcy5saW5rZGlzPSExLHRoaXMuc3dpcGVNb3ZlZD0hMSksdGhpcy5sb2FkSW1hZ2VzKCksdGhpcy5oYXNMYXllcnMmJnRoaXMubGF5ZXJDb250cm9sbGVyLnByZXBhcmVUb1Nob3coKSx0aGlzLnJlYWR5JiYodGhpcy5iZ3ZpZGVvJiZ0aGlzLmJndmlkZW8ucGxheSgpLHRoaXMuaGFzTGF5ZXJzJiZ0aGlzLnNsaWRlci5vcHRpb25zLmluc3RhbnRTdGFydExheWVycyYmdGhpcy5sYXllckNvbnRyb2xsZXIuc2hvd0xheWVycygpKSx0aGlzLm1veiYmdGhpcy4kZWxlbWVudC5jc3MoXCJtYXJnaW4tdG9wXCIsXCJcIikpfSxwLnNlbGVjdD1mdW5jdGlvbigpe3RoaXMuc2VsZWN0ZWR8fCh0aGlzLnNlbGVjdGVkPSEwLHRoaXMucHNlbGVjdGVkPSExLHRoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoXCJtcy1zbC1zZWxlY3RlZFwiKSx0aGlzLmhhc0xheWVycyYmKHRoaXMuc2xpZGVyLm9wdGlvbnMuYXV0b0hlaWdodCYmdGhpcy5sYXllckNvbnRyb2xsZXIudXBkYXRlSGVpZ2h0KCksdGhpcy5zbGlkZXIub3B0aW9ucy5pbnN0YW50U3RhcnRMYXllcnN8fHRoaXMubGF5ZXJDb250cm9sbGVyLnNob3dMYXllcnMoKSksdGhpcy5yZWFkeSYmdGhpcy5iZ3ZpZGVvJiZ0aGlzLmJndmlkZW8ucGxheSgpLHRoaXMudmlkZW9BdXRvUGxheSYmKHRoaXMudmlkZW9kaXM9ITEsdGhpcy52cGJ0bi50cmlnZ2VyKFwiY2xpY2tcIikpKX0scC51bnNlbGVjdD1mdW5jdGlvbigpe3RoaXMucHNlbGVjdGVkPSExLHRoaXMubW96JiZ0aGlzLiRlbGVtZW50LmNzcyhcIm1hcmdpbi10b3BcIixcIjAuMXB4XCIpLCh0aGlzLmxpbmt8fHRoaXMudmlkZW8pJiYodGhpcy52aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoTVNWaWV3RXZlbnRzLlNXSVBFX1NUQVJULHRoaXMub25Td2lwZVN0YXJ0LHRoaXMpLHRoaXMudmlldy5yZW1vdmVFdmVudExpc3RlbmVyKE1TVmlld0V2ZW50cy5TV0lQRV9NT1ZFLHRoaXMub25Td2lwZU1vdmUsdGhpcyksdGhpcy52aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoTVNWaWV3RXZlbnRzLlNXSVBFX0NBTkNFTCx0aGlzLm9uU3dpcGVDYW5jZWwsdGhpcykpLHRoaXMuYmd2aWRlbyYmKHRoaXMuYmd2aWRlby5wYXVzZSgpLCF0aGlzLmF1dG9QYXVzZUJnVmlkJiZ0aGlzLnZpbml0JiYodGhpcy5iZ3ZpZGVvLmN1cnJlbnRUaW1lPTApKSx0aGlzLmhhc0xheWVycyYmdGhpcy5sYXllckNvbnRyb2xsZXIuaGlkZUxheWVycygpLHRoaXMuc2VsZWN0ZWQmJih0aGlzLnNlbGVjdGVkPSExLHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJtcy1zbC1zZWxlY3RlZFwiKSx0aGlzLnZpZGVvJiZ0aGlzLnZwbGF5ZWQmJih0aGlzLl9fY2xvc2VWaWRlbygpLHRoaXMucm9jPSExKSl9LHAuc2xlZXA9ZnVuY3Rpb24oZm9yY2UpeyghdGhpcy5pc1NsZWVwaW5nfHxmb3JjZSkmJih0aGlzLmlzU2xlZXBpbmc9ITAsdGhpcy5hdXRvQXBwZW5kJiZ0aGlzLiRlbGVtZW50LmRldGFjaCgpLHRoaXMuaGFzTGF5ZXJzJiZ0aGlzLmxheWVyQ29udHJvbGxlci5vblNsaWRlU2xlZXAoKSl9LHAud2FrZXVwPWZ1bmN0aW9uKCl7dGhpcy5pc1NsZWVwaW5nJiYodGhpcy5pc1NsZWVwaW5nPSExLHRoaXMuYXV0b0FwcGVuZCYmdGhpcy52aWV3LiRzbGlkZUNvbnQuYXBwZW5kKHRoaXMuJGVsZW1lbnQpLHRoaXMubW96JiZ0aGlzLiRlbGVtZW50LmNzcyhcIm1hcmdpbi10b3BcIixcIjAuMXB4XCIpLHRoaXMuc2V0dXBCRygpLHRoaXMuaGFzQkcmJnRoaXMuYmdBbGlnbmVyLmFsaWduKCksdGhpcy5oYXNMYXllcnMmJnRoaXMubGF5ZXJDb250cm9sbGVyLm9uU2xpZGVXYWtldXAoKSl9fSh3aW5kb3csZG9jdW1lbnQsalF1ZXJ5KSxmdW5jdGlvbigkKXtcInVzZSBzdHJpY3RcIjt2YXIgU2xpZGVyVmlld0xpc3Q9e307d2luZG93Lk1TU2xpZGVDb250cm9sbGVyPWZ1bmN0aW9uKHNsaWRlcil7dGhpcy5fZGVsYXlQcm9ncmVzcz0wLHRoaXMuX3RpbWVyPW5ldyBhdmVydGEuVGltZXIoMTAwKSx0aGlzLl90aW1lci5vblRpbWVyPXRoaXMub25UaW1lcix0aGlzLl90aW1lci5yZWZyZW5jZT10aGlzLHRoaXMuY3VycmVudFNsaWRlPW51bGwsdGhpcy5zbGlkZXI9c2xpZGVyLHRoaXMuc289c2xpZGVyLm9wdGlvbnMsYXZlcnRhLkV2ZW50RGlzcGF0Y2hlci5jYWxsKHRoaXMpfSxNU1NsaWRlQ29udHJvbGxlci5yZWdpc3RlclZpZXc9ZnVuY3Rpb24obmFtZSxfY2xhc3Mpe2lmKG5hbWUgaW4gU2xpZGVyVmlld0xpc3QpdGhyb3cgbmV3IEVycm9yKG5hbWUrXCIsIGlzIGFscmVhZHkgcmVnaXN0ZXJlZC5cIik7U2xpZGVyVmlld0xpc3RbbmFtZV09X2NsYXNzfSxNU1NsaWRlQ29udHJvbGxlci5TbGlkZXJDb250cm9sTGlzdD17fSxNU1NsaWRlQ29udHJvbGxlci5yZWdpc3RlckNvbnRyb2w9ZnVuY3Rpb24obmFtZSxfY2xhc3Mpe2lmKG5hbWUgaW4gTVNTbGlkZUNvbnRyb2xsZXIuU2xpZGVyQ29udHJvbExpc3QpdGhyb3cgbmV3IEVycm9yKG5hbWUrXCIsIGlzIGFscmVhZHkgcmVnaXN0ZXJlZC5cIik7TVNTbGlkZUNvbnRyb2xsZXIuU2xpZGVyQ29udHJvbExpc3RbbmFtZV09X2NsYXNzfTt2YXIgcD1NU1NsaWRlQ29udHJvbGxlci5wcm90b3R5cGU7cC5zZXR1cFZpZXc9ZnVuY3Rpb24oKXt2YXIgdGhhdD10aGlzO3RoaXMucmVzaXplX2xpc3RlbmVyPWZ1bmN0aW9uKCl7dGhhdC5fX3Jlc2l6ZSgpfTt2YXIgdmlld09wdGlvbnM9e3NwYWNpbmc6dGhpcy5zby5zcGFjZSxtb3VzZVN3aXBlOnRoaXMuc28ubW91c2UsbG9vcDp0aGlzLnNvLmxvb3AsYXV0b0hlaWdodDp0aGlzLnNvLmF1dG9IZWlnaHQsc3dpcGU6dGhpcy5zby5zd2lwZSxzcGVlZDp0aGlzLnNvLnNwZWVkLGRpcjp0aGlzLnNvLmRpcix2aWV3TnVtOnRoaXMuc28uaW5WaWV3LGNyaXRNYXJnaW46dGhpcy5zby5jcml0TWFyZ2lufTt0aGlzLnNvLnZpZXdPcHRpb25zJiYkLmV4dGVuZCh2aWV3T3B0aW9ucyx0aGlzLnNvLnZpZXdPcHRpb25zKSx0aGlzLnNvLmF1dG9IZWlnaHQmJih0aGlzLnNvLmhlaWdodExpbWl0PSExKTt2YXIgdmlld0NsYXNzPVNsaWRlclZpZXdMaXN0W3RoaXMuc2xpZGVyLm9wdGlvbnMudmlld118fE1TQmFzaWNWaWV3O2lmKCF2aWV3Q2xhc3MuXzNkcmVxfHx3aW5kb3cuX2NzczNkJiYhJC5icm93c2VyLm1zaWV8fCh2aWV3Q2xhc3M9dmlld0NsYXNzLl9mYWxsYmFja3x8TVNCYXNpY1ZpZXcpLHRoaXMudmlldz1uZXcgdmlld0NsYXNzKHZpZXdPcHRpb25zKSx0aGlzLnNvLm92ZXJQYXVzZSl7dmFyIHRoYXQ9dGhpczt0aGlzLnNsaWRlci4kZWxlbWVudC5tb3VzZWVudGVyKGZ1bmN0aW9uKCl7dGhhdC5pc19vdmVyPSEwLHRoYXQuX3N0b3BUaW1lcigpfSkubW91c2VsZWF2ZShmdW5jdGlvbigpe3RoYXQuaXNfb3Zlcj0hMSx0aGF0Ll9zdGFydFRpbWVyKCl9KX19LHAub25DaGFuZ2VTdGFydD1mdW5jdGlvbigpe3RoaXMuY2hhbmdlX3N0YXJ0ZWQ9ITAsdGhpcy5jdXJyZW50U2xpZGUmJnRoaXMuY3VycmVudFNsaWRlLnVuc2VsZWN0KCksdGhpcy5jdXJyZW50U2xpZGU9dGhpcy52aWV3LmN1cnJlbnRTbGlkZSx0aGlzLmN1cnJlbnRTbGlkZS5wcmVwYXJlVG9TZWxlY3QoKSx0aGlzLnNvLmVuZFBhdXNlJiZ0aGlzLmN1cnJlbnRTbGlkZS5pbmRleD09PXRoaXMuc2xpZGVyLnNsaWRlcy5sZW5ndGgtMSYmKHRoaXMucGF1c2UoKSx0aGlzLnNraXBUaW1lcigpKSx0aGlzLnNvLmF1dG9IZWlnaHQmJnRoaXMuc2xpZGVyLnNldEhlaWdodCh0aGlzLmN1cnJlbnRTbGlkZS5nZXRIZWlnaHQoKSksdGhpcy5zby5kZWVwTGluayYmdGhpcy5fX3VwZGF0ZVdpbmRvd0hhc2goKSx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IE1TU2xpZGVyRXZlbnQoTVNTbGlkZXJFdmVudC5DSEFOR0VfU1RBUlQpKX0scC5vbkNoYW5nZUVuZD1mdW5jdGlvbigpe2lmKHRoaXMuY2hhbmdlX3N0YXJ0ZWQ9ITEsdGhpcy5fc3RhcnRUaW1lcigpLHRoaXMuY3VycmVudFNsaWRlLnNlbGVjdCgpLHRoaXMuc28ucHJlbG9hZD4xKXt2YXIgbG9jLGksc2xpZGUsbD10aGlzLnNvLnByZWxvYWQtMTtmb3IoaT0xO2w+PWk7KytpKXtpZihsb2M9dGhpcy52aWV3LmluZGV4K2ksbG9jPj10aGlzLnZpZXcuc2xpZGVMaXN0Lmxlbmd0aCl7aWYoIXRoaXMuc28ubG9vcCl7aT1sO2NvbnRpbnVlfWxvYy09dGhpcy52aWV3LnNsaWRlTGlzdC5sZW5ndGh9c2xpZGU9dGhpcy52aWV3LnNsaWRlTGlzdFtsb2NdLHNsaWRlJiZzbGlkZS5sb2FkSW1hZ2VzKCl9Zm9yKGw+dGhpcy52aWV3LnNsaWRlTGlzdC5sZW5ndGgvMiYmKGw9TWF0aC5mbG9vcih0aGlzLnZpZXcuc2xpZGVMaXN0Lmxlbmd0aC8yKSksaT0xO2w+PWk7KytpKXtpZihsb2M9dGhpcy52aWV3LmluZGV4LWksMD5sb2Mpe2lmKCF0aGlzLnNvLmxvb3Ape2k9bDtjb250aW51ZX1sb2M9dGhpcy52aWV3LnNsaWRlTGlzdC5sZW5ndGgrbG9jfXNsaWRlPXRoaXMudmlldy5zbGlkZUxpc3RbbG9jXSxzbGlkZSYmc2xpZGUubG9hZEltYWdlcygpfX10aGlzLmRpc3BhdGNoRXZlbnQobmV3IE1TU2xpZGVyRXZlbnQoTVNTbGlkZXJFdmVudC5DSEFOR0VfRU5EKSl9LHAub25Td2lwZVN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5za2lwVGltZXIoKX0scC5za2lwVGltZXI9ZnVuY3Rpb24oKXt0aGlzLl90aW1lci5yZXNldCgpLHRoaXMuX2RlbGF5UHJvZ3Jlc3M9MCx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IE1TU2xpZGVyRXZlbnQoTVNTbGlkZXJFdmVudC5XQUlUSU5HKSl9LHAub25UaW1lcj1mdW5jdGlvbigpe2lmKHRoaXMuX3RpbWVyLmdldFRpbWUoKT49MWUzKnRoaXMudmlldy5jdXJyZW50U2xpZGUuZGVsYXkmJih0aGlzLnNraXBUaW1lcigpLHRoaXMudmlldy5uZXh0KCksdGhpcy5oaWRlQ2FsbGVkPSExKSx0aGlzLl9kZWxheVByb2dyZXNzPXRoaXMuX3RpbWVyLmdldFRpbWUoKS8oMTAqdGhpcy52aWV3LmN1cnJlbnRTbGlkZS5kZWxheSksdGhpcy5zby5oaWRlTGF5ZXJzJiYhdGhpcy5oaWRlQ2FsbGVkJiYxZTMqdGhpcy52aWV3LmN1cnJlbnRTbGlkZS5kZWxheS10aGlzLl90aW1lci5nZXRUaW1lKCk8PTMwMCl7dmFyIGN1cnJlbnRTbGlkZT10aGlzLnZpZXcuY3VycmVudFNsaWRlO2N1cnJlbnRTbGlkZS5oYXNMYXllcnMmJmN1cnJlbnRTbGlkZS5sYXllckNvbnRyb2xsZXIuYW5pbUhpZGVMYXllcnMoKSx0aGlzLmhpZGVDYWxsZWQ9ITB9dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBNU1NsaWRlckV2ZW50KE1TU2xpZGVyRXZlbnQuV0FJVElORykpfSxwLl9zdG9wVGltZXI9ZnVuY3Rpb24oKXt0aGlzLl90aW1lciYmdGhpcy5fdGltZXIuc3RvcCgpfSxwLl9zdGFydFRpbWVyPWZ1bmN0aW9uKCl7dGhpcy5wYXVzZWR8fHRoaXMuaXNfb3Zlcnx8IXRoaXMuY3VycmVudFNsaWRlfHwhdGhpcy5jdXJyZW50U2xpZGUucmVhZHl8fHRoaXMuY2hhbmdlX3N0YXJ0ZWR8fHRoaXMuX3RpbWVyLnN0YXJ0KCl9LHAuX19hcHBlbmRTbGlkZXM9ZnVuY3Rpb24oKXt2YXIgc2xpZGUsbG9jLGk9MCxsPXRoaXMudmlldy5zbGlkZUxpc3QubGVuZ3RoLTE7Zm9yKGk7bD5pOysraSlzbGlkZT10aGlzLnZpZXcuc2xpZGVMaXN0W2ldLHNsaWRlLmRldGFjaGVkfHwoc2xpZGUuJGVsZW1lbnQuZGV0YWNoKCksc2xpZGUuZGV0YWNoZWQ9ITApO2Zvcih0aGlzLnZpZXcuYXBwZW5kU2xpZGUodGhpcy52aWV3LnNsaWRlTGlzdFt0aGlzLnZpZXcuaW5kZXhdKSxsPTMsaT0xO2w+PWk7KytpKXtpZihsb2M9dGhpcy52aWV3LmluZGV4K2ksbG9jPj10aGlzLnZpZXcuc2xpZGVMaXN0Lmxlbmd0aCl7aWYoIXRoaXMuc28ubG9vcCl7aT1sO2NvbnRpbnVlfWxvYy09dGhpcy52aWV3LnNsaWRlTGlzdC5sZW5ndGh9c2xpZGU9dGhpcy52aWV3LnNsaWRlTGlzdFtsb2NdLHNsaWRlLmRldGFjaGVkPSExLHRoaXMudmlldy5hcHBlbmRTbGlkZShzbGlkZSl9Zm9yKGw+dGhpcy52aWV3LnNsaWRlTGlzdC5sZW5ndGgvMiYmKGw9TWF0aC5mbG9vcih0aGlzLnZpZXcuc2xpZGVMaXN0Lmxlbmd0aC8yKSksaT0xO2w+PWk7KytpKXtpZihsb2M9dGhpcy52aWV3LmluZGV4LWksMD5sb2Mpe2lmKCF0aGlzLnNvLmxvb3Ape2k9bDtjb250aW51ZX1sb2M9dGhpcy52aWV3LnNsaWRlTGlzdC5sZW5ndGgrbG9jfXNsaWRlPXRoaXMudmlldy5zbGlkZUxpc3RbbG9jXSxzbGlkZS5kZXRhY2hlZD0hMSx0aGlzLnZpZXcuYXBwZW5kU2xpZGUoc2xpZGUpfX0scC5fX3Jlc2l6ZT1mdW5jdGlvbihoYXJkKXt0aGlzLmNyZWF0ZWQmJih0aGlzLndpZHRoPXRoaXMuc2xpZGVyLiRlbGVtZW50WzBdLmNsaWVudFdpZHRofHx0aGlzLnNvLndpZHRoLHRoaXMuc28uZnVsbHdpZHRofHwodGhpcy53aWR0aD1NYXRoLm1pbih0aGlzLndpZHRoLHRoaXMuc28ud2lkdGgpKSx0aGlzLnNvLmZ1bGxoZWlnaHQ/KHRoaXMuc28uaGVpZ2h0TGltaXQ9ITEsdGhpcy5zby5hdXRvSGVpZ2h0PSExLHRoaXMuaGVpZ2h0PXRoaXMuc2xpZGVyLiRlbGVtZW50WzBdLmNsaWVudEhlaWdodCk6dGhpcy5oZWlnaHQ9dGhpcy53aWR0aC90aGlzLnNsaWRlci5hc3BlY3QsdGhpcy5zby5hdXRvSGVpZ2h0Pyh0aGlzLmN1cnJlbnRTbGlkZS5zZXRTaXplKHRoaXMud2lkdGgsbnVsbCxoYXJkKSx0aGlzLnZpZXcuc2V0U2l6ZSh0aGlzLndpZHRoLHRoaXMuY3VycmVudFNsaWRlLmdldEhlaWdodCgpLGhhcmQpKTp0aGlzLnZpZXcuc2V0U2l6ZSh0aGlzLndpZHRoLE1hdGgubWF4KHRoaXMuc28ubWluSGVpZ2h0LHRoaXMuc28uaGVpZ2h0TGltaXQ/TWF0aC5taW4odGhpcy5oZWlnaHQsdGhpcy5zby5oZWlnaHQpOnRoaXMuaGVpZ2h0KSxoYXJkKSx0aGlzLnNsaWRlci4kY29udHJvbHNDb250JiZ0aGlzLnNvLmNlbnRlckNvbnRyb2xzJiZ0aGlzLnNvLmZ1bGx3aWR0aCYmdGhpcy52aWV3LiRlbGVtZW50LmNzcyhcImxlZnRcIixNYXRoLm1pbigwLC0odGhpcy5zbGlkZXIuJGVsZW1lbnRbMF0uY2xpZW50V2lkdGgtdGhpcy5zby53aWR0aCkvMikrXCJweFwiKSx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IE1TU2xpZGVyRXZlbnQoTVNTbGlkZXJFdmVudC5SRVNJWkUpKSl9LHAuX19kaXNwYXRjaEluaXQ9ZnVuY3Rpb24oKXt0aGlzLmRpc3BhdGNoRXZlbnQobmV3IE1TU2xpZGVyRXZlbnQoTVNTbGlkZXJFdmVudC5JTklUKSl9LHAuX191cGRhdGVXaW5kb3dIYXNoPWZ1bmN0aW9uKCl7dmFyIGhhc2g9d2luZG93LmxvY2F0aW9uLmhhc2gsZGw9dGhpcy5zby5kZWVwTGluayxkbHQ9dGhpcy5zby5kZWVwTGlua1R5cGUsZXE9XCJwYXRoXCI9PT1kbHQ/XCIvXCI6XCI9XCIsc2VwPVwicGF0aFwiPT09ZGx0P1wiL1wiOlwiJlwiLHNsaWRlckhhc2g9ZGwrZXErKHRoaXMudmlldy5pbmRleCsxKSxyZWdUZXN0PW5ldyBSZWdFeHAoZGwrZXErXCJbMC05XStcIixcImdcIik7d2luZG93LmxvY2F0aW9uLmhhc2g9XCJcIj09PWhhc2g/c2VwK3NsaWRlckhhc2g6cmVnVGVzdC50ZXN0KGhhc2gpP2hhc2gucmVwbGFjZShyZWdUZXN0LHNsaWRlckhhc2gpOmhhc2grc2VwK3NsaWRlckhhc2h9LHAuX19jdXJlbnRTbGlkZUluSGFzaD1mdW5jdGlvbigpe3ZhciBoYXNoPXdpbmRvdy5sb2NhdGlvbi5oYXNoLGRsPXRoaXMuc28uZGVlcExpbmssZGx0PXRoaXMuc28uZGVlcExpbmtUeXBlLGVxPVwicGF0aFwiPT09ZGx0P1wiL1wiOlwiPVwiLHJlZ1Rlc3Q9bmV3IFJlZ0V4cChkbCtlcStcIlswLTldK1wiLFwiZ1wiKTtpZihyZWdUZXN0LnRlc3QoaGFzaCkpe3ZhciBpbmRleD1OdW1iZXIoaGFzaC5tYXRjaChyZWdUZXN0KVswXS5tYXRjaCgvWzAtOV0rL2cpLnBvcCgpKTtpZighaXNOYU4oaW5kZXgpKXJldHVybiBpbmRleC0xfXJldHVybi0xfSxwLl9fb25IYXNoQ2hhbmdlZD1mdW5jdGlvbigpe3ZhciBpbmRleD10aGlzLl9fY3VyZW50U2xpZGVJbkhhc2goKTstMSE9PWluZGV4JiZ0aGlzLmdvdG9TbGlkZShpbmRleCl9LHAuc2V0dXA9ZnVuY3Rpb24oKXt0aGlzLmNyZWF0ZWQ9ITAsdGhpcy5wYXVzZWQ9IXRoaXMuc28uYXV0b3BsYXksdGhpcy52aWV3LmFkZEV2ZW50TGlzdGVuZXIoTVNWaWV3RXZlbnRzLkNIQU5HRV9TVEFSVCx0aGlzLm9uQ2hhbmdlU3RhcnQsdGhpcyksdGhpcy52aWV3LmFkZEV2ZW50TGlzdGVuZXIoTVNWaWV3RXZlbnRzLkNIQU5HRV9FTkQsdGhpcy5vbkNoYW5nZUVuZCx0aGlzKSx0aGlzLnZpZXcuYWRkRXZlbnRMaXN0ZW5lcihNU1ZpZXdFdmVudHMuU1dJUEVfU1RBUlQsdGhpcy5vblN3aXBlU3RhcnQsdGhpcyksdGhpcy5jdXJyZW50U2xpZGU9dGhpcy52aWV3LnNsaWRlTGlzdFt0aGlzLnNvLnN0YXJ0LTFdLHRoaXMuX19yZXNpemUoKTt2YXIgc2xpZGVJbkhhc2g9dGhpcy5fX2N1cmVudFNsaWRlSW5IYXNoKCksc3RhcnRTbGlkZT0tMSE9PXNsaWRlSW5IYXNoP3NsaWRlSW5IYXNoOnRoaXMuc28uc3RhcnQtMTtpZih0aGlzLnZpZXcuY3JlYXRlKHN0YXJ0U2xpZGUpLDA9PT10aGlzLnNvLnByZWxvYWQmJnRoaXMudmlldy5zbGlkZUxpc3RbMF0ubG9hZEltYWdlcygpLHRoaXMuc2Nyb2xsZXI9dGhpcy52aWV3LmNvbnRyb2xsZXIsdGhpcy5zby53aGVlbCl7dmFyIHRoYXQ9dGhpcyxsYXN0X3RpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCk7dGhpcy53aGVlbGxpc3RlbmVyPWZ1bmN0aW9uKGV2ZW50KXt2YXIgZT13aW5kb3cuZXZlbnR8fGV2ZW50Lm9yZ2luYWxFdmVudHx8ZXZlbnQ7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBjdXJyZW50X3RpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCk7aWYoISg0MDA+Y3VycmVudF90aW1lLWxhc3RfdGltZSkpe2xhc3RfdGltZT1jdXJyZW50X3RpbWU7dmFyIGRlbHRhPU1hdGguYWJzKGUuZGV0YWlsfHxlLndoZWVsRGVsdGEpOyQuYnJvd3Nlci5tb3ppbGxhJiYoZGVsdGEqPTEwMCk7dmFyIHNjcm9sbFRocmVzaG9sZD0xNTtyZXR1cm4gZS5kZXRhaWw8MHx8ZS53aGVlbERlbHRhPjA/ZGVsdGE+PXNjcm9sbFRocmVzaG9sZCYmdGhhdC5wcmV2aW91cyghMCk6ZGVsdGE+PXNjcm9sbFRocmVzaG9sZCYmdGhhdC5uZXh0KCEwKSwhMX19LCQuYnJvd3Nlci5tb3ppbGxhP3RoaXMuc2xpZGVyLiRlbGVtZW50WzBdLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Nb3VzZVNjcm9sbFwiLHRoaXMud2hlZWxsaXN0ZW5lcik6dGhpcy5zbGlkZXIuJGVsZW1lbnQuYmluZChcIm1vdXNld2hlZWxcIix0aGlzLndoZWVsbGlzdGVuZXIpfTA9PT10aGlzLnNsaWRlci4kZWxlbWVudFswXS5jbGllbnRXaWR0aCYmKHRoaXMuc2xpZGVyLmluaXRfc2FmZW1vZGU9ITApLHRoaXMuX19yZXNpemUoKTt2YXIgdGhhdD10aGlzO3RoaXMuc28uZGVlcExpbmsmJiQod2luZG93KS5vbihcImhhc2hjaGFuZ2VcIixmdW5jdGlvbigpe3RoYXQuX19vbkhhc2hDaGFuZ2VkKCl9KX0scC5pbmRleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZpZXcuaW5kZXh9LHAuY291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3LnNsaWRlc0NvdW50fSxwLm5leHQ9ZnVuY3Rpb24oY2hlY2tMb29wKXt0aGlzLnNraXBUaW1lcigpLHRoaXMudmlldy5uZXh0KGNoZWNrTG9vcCl9LHAucHJldmlvdXM9ZnVuY3Rpb24oY2hlY2tMb29wKXt0aGlzLnNraXBUaW1lcigpLHRoaXMudmlldy5wcmV2aW91cyhjaGVja0xvb3ApfSxwLmdvdG9TbGlkZT1mdW5jdGlvbihpbmRleCl7aW5kZXg9TWF0aC5taW4oaW5kZXgsdGhpcy5jb3VudCgpLTEpLHRoaXMuc2tpcFRpbWVyKCksdGhpcy52aWV3LmdvdG9TbGlkZShpbmRleCl9LHAuZGVzdHJveT1mdW5jdGlvbihyZXNldCl7dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBNU1NsaWRlckV2ZW50KE1TU2xpZGVyRXZlbnQuREVTVFJPWSkpLHRoaXMuc2xpZGVyLmRlc3Ryb3kocmVzZXQpfSxwLl9kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5fdGltZXIucmVzZXQoKSx0aGlzLl90aW1lcj1udWxsLCQod2luZG93KS51bmJpbmQoXCJyZXNpemVcIix0aGlzLnJlc2l6ZV9saXN0ZW5lciksdGhpcy52aWV3LmRlc3Ryb3koKSx0aGlzLnZpZXc9bnVsbCx0aGlzLnNvLndoZWVsJiYoJC5icm93c2VyLm1vemlsbGE/dGhpcy5zbGlkZXIuJGVsZW1lbnRbMF0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTU1vdXNlU2Nyb2xsXCIsdGhpcy53aGVlbGxpc3RlbmVyKTp0aGlzLnNsaWRlci4kZWxlbWVudC51bmJpbmQoXCJtb3VzZXdoZWVsXCIsdGhpcy53aGVlbGxpc3RlbmVyKSx0aGlzLndoZWVsbGlzdGVuZXI9bnVsbCksdGhpcy5zbz1udWxsfSxwLnJ1bkFjdGlvbj1mdW5jdGlvbihhY3Rpb24pe3ZhciBhY3Rpb25QYXJhbXM9W107aWYoLTEhPT1hY3Rpb24uaW5kZXhPZihcIihcIikpe3ZhciB0ZW1wPWFjdGlvbi5zbGljZSgwLGFjdGlvbi5pbmRleE9mKFwiKFwiKSk7YWN0aW9uUGFyYW1zPWFjdGlvbi5zbGljZShhY3Rpb24uaW5kZXhPZihcIihcIikrMSwtMSkucmVwbGFjZSgvXFxcInxcXCd8XFxzL2csXCJcIikuc3BsaXQoXCIsXCIpLGFjdGlvbj10ZW1wfWFjdGlvbiBpbiB0aGlzP3RoaXNbYWN0aW9uXS5hcHBseSh0aGlzLGFjdGlvblBhcmFtcyk6Y29uc29sZX0scC51cGRhdGU9ZnVuY3Rpb24oaGFyZCl7dGhpcy5zbGlkZXIuaW5pdF9zYWZlbW9kZSYmaGFyZCYmKHRoaXMuc2xpZGVyLmluaXRfc2FmZW1vZGU9ITEpLHRoaXMuX19yZXNpemUoaGFyZCksaGFyZCYmdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBNU1NsaWRlckV2ZW50KE1TU2xpZGVyRXZlbnQuSEFSRF9VUERBVEUpKX0scC5sb2NhdGU9ZnVuY3Rpb24oKXt0aGlzLl9fcmVzaXplKCl9LHAucmVzdW1lPWZ1bmN0aW9uKCl7dGhpcy5wYXVzZWQmJih0aGlzLnBhdXNlZD0hMSx0aGlzLl9zdGFydFRpbWVyKCkpfSxwLnBhdXNlPWZ1bmN0aW9uKCl7dGhpcy5wYXVzZWR8fCh0aGlzLnBhdXNlZD0hMCx0aGlzLl9zdG9wVGltZXIoKSl9LHAuY3VycmVudFRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVsYXlQcm9ncmVzc30sYXZlcnRhLkV2ZW50RGlzcGF0Y2hlci5leHRlbmQocCl9KGpRdWVyeSksZnVuY3Rpb24oJCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIExheWVyVHlwZXM9e2ltYWdlOk1TSW1hZ2VMYXllckVsZW1lbnQsdGV4dDpNU0xheWVyRWxlbWVudCx2aWRlbzpNU1ZpZGVvTGF5ZXJFbGVtZW50LGhvdHNwb3Q6TVNIb3RzcG90TGF5ZXIsYnV0dG9uOk1TQnV0dG9uTGF5ZXJ9O3dpbmRvdy5NYXN0ZXJTbGlkZXI9ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnM9e2F1dG9wbGF5OiExLGxvb3A6ITEsbW91c2U6ITAsc3dpcGU6ITAsZ3JhYkN1cnNvcjohMCxzcGFjZTowLGZpbGxNb2RlOlwiZmlsbFwiLHN0YXJ0OjEsdmlldzpcImJhc2ljXCIsd2lkdGg6MzAwLGhlaWdodDoxNTAsaW5WaWV3OjE1LGNyaXRNYXJnaW46MSxoZWlnaHRMaW1pdDohMCxzbW9vdGhIZWlnaHQ6ITAsYXV0b0hlaWdodDohMSxtaW5IZWlnaHQ6LTEsZnVsbHdpZHRoOiExLGZ1bGxoZWlnaHQ6ITEsYXV0b2ZpbGw6ITEsbGF5ZXJzTW9kZTpcImNlbnRlclwiLGhpZGVMYXllcnM6ITEsZW5kUGF1c2U6ITEsY2VudGVyQ29udHJvbHM6ITAsb3ZlclBhdXNlOiEwLHNodWZmbGU6ITEsc3BlZWQ6MTcsZGlyOlwiaFwiLHByZWxvYWQ6MCx3aGVlbDohMSxsYXlvdXQ6XCJib3hlZFwiLGF1dG9maWxsVGFyZ2V0Om51bGwsZnVsbHNjcmVlbk1hcmdpbjowLGluc3RhbnRTdGFydExheWVyczohMSxwYXJhbGxheE1vZGU6XCJtb3VzZVwiLHJ0bDohMSxkZWVwTGluazpudWxsLGRlZXBMaW5rVHlwZTpcInBhdGhcIixkaXNhYmxlUGx1Z2luczpbXX0sdGhpcy5zbGlkZXM9W10sdGhpcy5hY3RpdmVQbHVnaW5zPVtdLHRoaXMuJGVsZW1lbnQ9bnVsbCx0aGlzLmxhc3RNYXJnaW49MCx0aGlzLmxlZnRTcGFjZT0wLHRoaXMudG9wU3BhY2U9MCx0aGlzLnJpZ2h0U3BhY2U9MCx0aGlzLmJvdHRvbVNwYWNlPTAsdGhpcy5faG9sZE9uPTA7dmFyIHRoYXQ9dGhpczt0aGlzLnJlc2l6ZV9saXN0ZW5lcj1mdW5jdGlvbigpe3RoYXQuX3Jlc2l6ZSgpfSwkKHdpbmRvdykuYmluZChcInJlc2l6ZVwiLHRoaXMucmVzaXplX2xpc3RlbmVyKX0sTWFzdGVyU2xpZGVyLmF1dGhvcj1cIkF2ZXJ0YSBMdGQuICh3d3cuYXZlcnRhLm5ldClcIixNYXN0ZXJTbGlkZXIudmVyc2lvbj1cIjIuMTQuNlwiLE1hc3RlclNsaWRlci5yZWxlYXNlRGF0ZT1cIk1heSAyMDE1XCIsTWFzdGVyU2xpZGVyLl9wbHVnaW5zPVtdO3ZhciBNUz1NYXN0ZXJTbGlkZXI7TVMucmVnaXN0ZXJQbHVnaW49ZnVuY3Rpb24ocGx1Z2luKXstMT09PU1TLl9wbHVnaW5zLmluZGV4T2YocGx1Z2luKSYmTVMuX3BsdWdpbnMucHVzaChwbHVnaW4pfTt2YXIgcD1NYXN0ZXJTbGlkZXIucHJvdG90eXBlO3AuX19zZXR1cFNsaWRlcz1mdW5jdGlvbigpe3ZhciBuZXdfc2xpZGUsdGhhdD10aGlzLGluZD0wO3RoaXMuJGVsZW1lbnQuY2hpbGRyZW4oXCIubXMtc2xpZGVcIikuZWFjaChmdW5jdGlvbigpe3ZhciAkc2xpZGVfZWxlPSQodGhpcyk7bmV3X3NsaWRlPW5ldyBNU1NsaWRlLG5ld19zbGlkZS4kZWxlbWVudD0kc2xpZGVfZWxlLG5ld19zbGlkZS5zbGlkZXI9dGhhdCxuZXdfc2xpZGUuZGVsYXk9dm9pZCAwIT09JHNsaWRlX2VsZS5kYXRhKFwiZGVsYXlcIik/JHNsaWRlX2VsZS5kYXRhKFwiZGVsYXlcIik6MyxuZXdfc2xpZGUuZmlsbE1vZGU9dm9pZCAwIT09JHNsaWRlX2VsZS5kYXRhKFwiZmlsbC1tb2RlXCIpPyRzbGlkZV9lbGUuZGF0YShcImZpbGwtbW9kZVwiKTp0aGF0Lm9wdGlvbnMuZmlsbE1vZGUsbmV3X3NsaWRlLmluZGV4PWluZCsrO3ZhciBzbGlkZV9pbWc9JHNsaWRlX2VsZS5jaGlsZHJlbihcImltZzpub3QoLm1zLWxheWVyKVwiKTtzbGlkZV9pbWcubGVuZ3RoPjAmJm5ld19zbGlkZS5zZXRCRyhzbGlkZV9pbWdbMF0pO3ZhciBzbGlkZV92aWRlbz0kc2xpZGVfZWxlLmNoaWxkcmVuKFwidmlkZW9cIik7aWYoc2xpZGVfdmlkZW8ubGVuZ3RoPjAmJm5ld19zbGlkZS5zZXRCR1ZpZGVvKHNsaWRlX3ZpZGVvKSx0aGF0LmNvbnRyb2xzKWZvcih2YXIgaT0wLGw9dGhhdC5jb250cm9scy5sZW5ndGg7bD5pOysraSl0aGF0LmNvbnRyb2xzW2ldLnNsaWRlQWN0aW9uKG5ld19zbGlkZSk7JHNsaWRlX2VsZS5jaGlsZHJlbihcImFcIikuZWFjaChmdW5jdGlvbigpe3ZhciAkdGhpcz0kKHRoaXMpO1widmlkZW9cIj09PXRoaXMuZ2V0QXR0cmlidXRlKFwiZGF0YS10eXBlXCIpPyhuZXdfc2xpZGUudmlkZW89dGhpcy5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpLG5ld19zbGlkZS52aWRlb0F1dG9QbGF5PSR0aGlzLmRhdGEoXCJhdXRvcGxheVwiKSwkdGhpcy5yZW1vdmUoKSk6JHRoaXMuaGFzQ2xhc3MoXCJtcy1sYXllclwiKXx8KG5ld19zbGlkZS5saW5rPSQodGhpcykpfSk7dGhhdC5fX2NyZWF0ZVNsaWRlTGF5ZXJzKG5ld19zbGlkZSwkc2xpZGVfZWxlLmZpbmQoXCIubXMtbGF5ZXJcIikpLHRoYXQuc2xpZGVzLnB1c2gobmV3X3NsaWRlKSx0aGF0LnNsaWRlQ29udHJvbGxlci52aWV3LmFkZFNsaWRlKG5ld19zbGlkZSl9KX0scC5fX2NyZWF0ZVNsaWRlTGF5ZXJzPWZ1bmN0aW9uKHNsaWRlLGxheWVycyl7MCE9bGF5ZXJzLmxlbmd0aCYmKHNsaWRlLnNldHVwTGF5ZXJDb250cm9sbGVyKCksbGF5ZXJzLmVhY2goZnVuY3Rpb24oaW5kZXgsZG9tRWxlKXt2YXIgJHBhcmVudF9lbGUsJGxheWVyX2VsZW1lbnQ9JCh0aGlzKTtcIkFcIj09PWRvbUVsZS5ub2RlTmFtZSYmXCJpbWFnZVwiPT09JGxheWVyX2VsZW1lbnQuZmluZChcIj5pbWdcIikuZGF0YShcInR5cGVcIikmJigkcGFyZW50X2VsZT0kKHRoaXMpLCRsYXllcl9lbGVtZW50PSRwYXJlbnRfZWxlLmZpbmQoXCJpbWdcIikpO3ZhciBsYXllcj1uZXcoTGF5ZXJUeXBlc1skbGF5ZXJfZWxlbWVudC5kYXRhKFwidHlwZVwiKXx8XCJ0ZXh0XCJdKTtsYXllci4kZWxlbWVudD0kbGF5ZXJfZWxlbWVudCxsYXllci5saW5rPSRwYXJlbnRfZWxlO3ZhciBlZmZfcGFyYW1ldGVycz17fSxlbmRfZWZmX3BhcmFtZXRlcnM9e307dm9pZCAwIT09JGxheWVyX2VsZW1lbnQuZGF0YShcImVmZmVjdFwiKSYmKGVmZl9wYXJhbWV0ZXJzLm5hbWU9JGxheWVyX2VsZW1lbnQuZGF0YShcImVmZmVjdFwiKSksdm9pZCAwIT09JGxheWVyX2VsZW1lbnQuZGF0YShcImVhc2VcIikmJihlZmZfcGFyYW1ldGVycy5lYXNlPSRsYXllcl9lbGVtZW50LmRhdGEoXCJlYXNlXCIpKSx2b2lkIDAhPT0kbGF5ZXJfZWxlbWVudC5kYXRhKFwiZHVyYXRpb25cIikmJihlZmZfcGFyYW1ldGVycy5kdXJhdGlvbj0kbGF5ZXJfZWxlbWVudC5kYXRhKFwiZHVyYXRpb25cIikpLHZvaWQgMCE9PSRsYXllcl9lbGVtZW50LmRhdGEoXCJkZWxheVwiKSYmKGVmZl9wYXJhbWV0ZXJzLmRlbGF5PSRsYXllcl9lbGVtZW50LmRhdGEoXCJkZWxheVwiKSksJGxheWVyX2VsZW1lbnQuZGF0YShcImhpZGUtZWZmZWN0XCIpJiYoZW5kX2VmZl9wYXJhbWV0ZXJzLm5hbWU9JGxheWVyX2VsZW1lbnQuZGF0YShcImhpZGUtZWZmZWN0XCIpKSwkbGF5ZXJfZWxlbWVudC5kYXRhKFwiaGlkZS1lYXNlXCIpJiYoZW5kX2VmZl9wYXJhbWV0ZXJzLmVhc2U9JGxheWVyX2VsZW1lbnQuZGF0YShcImhpZGUtZWFzZVwiKSksdm9pZCAwIT09JGxheWVyX2VsZW1lbnQuZGF0YShcImhpZGUtZHVyYXRpb25cIikmJihlbmRfZWZmX3BhcmFtZXRlcnMuZHVyYXRpb249JGxheWVyX2VsZW1lbnQuZGF0YShcImhpZGUtZHVyYXRpb25cIikpLHZvaWQgMCE9PSRsYXllcl9lbGVtZW50LmRhdGEoXCJoaWRlLXRpbWVcIikmJihlbmRfZWZmX3BhcmFtZXRlcnMudGltZT0kbGF5ZXJfZWxlbWVudC5kYXRhKFwiaGlkZS10aW1lXCIpKSxsYXllci5zZXRTdGFydEFuaW0oZWZmX3BhcmFtZXRlcnMpLGxheWVyLnNldEVuZEFuaW0oZW5kX2VmZl9wYXJhbWV0ZXJzKSxzbGlkZS5sYXllckNvbnRyb2xsZXIuYWRkTGF5ZXIobGF5ZXIpfSkpfSxwLl9yZW1vdmVMb2FkaW5nPWZ1bmN0aW9uKCl7JCh3aW5kb3cpLnVuYmluZChcInJlc2l6ZVwiLHRoaXMucmVzaXplX2xpc3RlbmVyKSx0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKFwiYmVmb3JlLWluaXRcIikuY3NzKFwidmlzaWJpbGl0eVwiLFwidmlzaWJsZVwiKS5jc3MoXCJoZWlnaHRcIixcIlwiKS5jc3MoXCJvcGFjaXR5XCIsMCksQ1R3ZWVuLmZhZGVJbih0aGlzLiRlbGVtZW50KSx0aGlzLiRsb2FkaW5nLnJlbW92ZSgpLHRoaXMuc2xpZGVDb250cm9sbGVyJiZ0aGlzLnNsaWRlQ29udHJvbGxlci5fX3Jlc2l6ZSgpfSxwLl9yZXNpemU9ZnVuY3Rpb24oKXtpZih0aGlzLiRsb2FkaW5nKXt2YXIgaD10aGlzLiRsb2FkaW5nWzBdLmNsaWVudFdpZHRoL3RoaXMuYXNwZWN0O2g9dGhpcy5vcHRpb25zLmhlaWdodExpbWl0P01hdGgubWluKGgsdGhpcy5vcHRpb25zLmhlaWdodCk6aCx0aGlzLiRsb2FkaW5nLmhlaWdodChoKSx0aGlzLiRlbGVtZW50LmhlaWdodChoKX19LHAuX3NodWZmbGVTbGlkZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHIsc2xpZGVzPXRoaXMuJGVsZW1lbnQuY2hpbGRyZW4oXCIubXMtc2xpZGVcIiksaT0wLGw9c2xpZGVzLmxlbmd0aDtsPmk7KytpKXI9TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKihsLTEpKSxpIT1yJiYodGhpcy4kZWxlbWVudFswXS5pbnNlcnRCZWZvcmUoc2xpZGVzW2ldLHNsaWRlc1tyXSksc2xpZGVzPXRoaXMuJGVsZW1lbnQuY2hpbGRyZW4oXCIubXMtc2xpZGVcIikpfSxwLl9zZXR1cFNsaWRlckxheW91dD1mdW5jdGlvbigpe3RoaXMuX3VwZGF0ZVNpZGVNYXJnaW5zKCksdGhpcy5sYXN0TWFyZ2luPXRoaXMubGVmdFNwYWNlO3ZhciBsbz10aGlzLm9wdGlvbnMubGF5b3V0O1wiYm94ZWRcIiE9PWxvJiZcInBhcnRpYWx2aWV3XCIhPT1sbyYmKHRoaXMub3B0aW9ucy5mdWxsd2lkdGg9ITApLChcImZ1bGxzY3JlZW5cIj09PWxvfHxcImF1dG9maWxsXCI9PT1sbykmJih0aGlzLm9wdGlvbnMuZnVsbGhlaWdodD0hMCxcImF1dG9maWxsXCI9PT1sbyYmKHRoaXMuJGF1dG9maWxsVGFyZ2V0PSQodGhpcy5vcHRpb25zLmF1dG9maWxsVGFyZ2V0KSwwPT09dGhpcy4kYXV0b2ZpbGxUYXJnZXQubGVuZ3RoJiYodGhpcy4kYXV0b2ZpbGxUYXJnZXQ9dGhpcy4kZWxlbWVudC5wYXJlbnQoKSkpKSxcInBhcnRpYWx2aWV3XCI9PT1sbyYmdGhpcy4kZWxlbWVudC5hZGRDbGFzcyhcIm1zLWxheW91dC1wYXJ0aWFsdmlld1wiKSwoXCJmdWxsc2NyZWVuXCI9PT1sb3x8XCJmdWxsd2lkdGhcIj09PWxvfHxcImF1dG9maWxsXCI9PT1sbykmJigkKHdpbmRvdykuYmluZChcInJlc2l6ZVwiLHt0aGF0OnRoaXN9LHRoaXMuX3VwZGF0ZUxheW91dCksdGhpcy5fdXBkYXRlTGF5b3V0KCkpLCQod2luZG93KS5iaW5kKFwicmVzaXplXCIsdGhpcy5zbGlkZUNvbnRyb2xsZXIucmVzaXplX2xpc3RlbmVyKX0scC5fdXBkYXRlTGF5b3V0PWZ1bmN0aW9uKGV2ZW50KXt2YXIgdGhhdD1ldmVudD9ldmVudC5kYXRhLnRoYXQ6dGhpcyxsbz10aGF0Lm9wdGlvbnMubGF5b3V0LCRlbGVtZW50PXRoYXQuJGVsZW1lbnQsJHdpbj0kKHdpbmRvdyk7aWYoXCJmdWxsc2NyZWVuXCI9PT1sbylkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsJGVsZW1lbnQuaGVpZ2h0KCR3aW4uaGVpZ2h0KCktdGhhdC5vcHRpb25zLmZ1bGxzY3JlZW5NYXJnaW4tdGhhdC50b3BTcGFjZS10aGF0LmJvdHRvbVNwYWNlKSxkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PVwiXCI7ZWxzZSBpZihcImF1dG9maWxsXCI9PT1sbylyZXR1cm4gdm9pZCAkZWxlbWVudC5oZWlnaHQodGhhdC4kYXV0b2ZpbGxUYXJnZXQuaGVpZ2h0KCktdGhhdC5vcHRpb25zLmZ1bGxzY3JlZW5NYXJnaW4tdGhhdC50b3BTcGFjZS10aGF0LmJvdHRvbVNwYWNlKS53aWR0aCh0aGF0LiRhdXRvZmlsbFRhcmdldC53aWR0aCgpLXRoYXQubGVmdFNwYWNlLXRoYXQucmlnaHRTcGFjZSk7JGVsZW1lbnQud2lkdGgoJHdpbi53aWR0aCgpLXRoYXQubGVmdFNwYWNlLXRoYXQucmlnaHRTcGFjZSk7dmFyIG1hcmdpbj0tJGVsZW1lbnQub2Zmc2V0KCkubGVmdCt0aGF0LmxlZnRTcGFjZSt0aGF0Lmxhc3RNYXJnaW47JGVsZW1lbnQuY3NzKFwibWFyZ2luLWxlZnRcIixtYXJnaW4pLHRoYXQubGFzdE1hcmdpbj1tYXJnaW59LHAuX2luaXQ9ZnVuY3Rpb24oKXtpZighKHRoaXMuX2hvbGRPbj4wKSYmdGhpcy5fZG9jUmVhZHkpe2lmKHRoaXMuaW5pdGlhbGl6ZWQ9ITAsXCJhbGxcIiE9PXRoaXMub3B0aW9ucy5wcmVsb2FkJiZ0aGlzLl9yZW1vdmVMb2FkaW5nKCksdGhpcy5vcHRpb25zLnNodWZmbGUmJnRoaXMuX3NodWZmbGVTbGlkZXMoKSxNU0xheWVyRWZmZWN0cy5zZXR1cCgpLHRoaXMuc2xpZGVDb250cm9sbGVyLnNldHVwVmlldygpLHRoaXMudmlldz10aGlzLnNsaWRlQ29udHJvbGxlci52aWV3LHRoaXMuJGNvbnRyb2xzQ29udD0kKFwiPGRpdj48L2Rpdj5cIikuYWRkQ2xhc3MoXCJtcy1pbm5lci1jb250cm9scy1jb250XCIpLHRoaXMub3B0aW9ucy5jZW50ZXJDb250cm9scyYmdGhpcy4kY29udHJvbHNDb250LmNzcyhcIm1heC13aWR0aFwiLHRoaXMub3B0aW9ucy53aWR0aCtcInB4XCIpLHRoaXMuJGNvbnRyb2xzQ29udC5wcmVwZW5kKHRoaXMudmlldy4kZWxlbWVudCksdGhpcy4kbXNDb250YWluZXI9JChcIjxkaXY+PC9kaXY+XCIpLmFkZENsYXNzKFwibXMtY29udGFpbmVyXCIpLnByZXBlbmRUbyh0aGlzLiRlbGVtZW50KS5hcHBlbmQodGhpcy4kY29udHJvbHNDb250KSx0aGlzLmNvbnRyb2xzKWZvcih2YXIgaT0wLGw9dGhpcy5jb250cm9scy5sZW5ndGg7bD5pOysraSl0aGlzLmNvbnRyb2xzW2ldLnNldHVwKCk7aWYodGhpcy5fc2V0dXBTbGlkZXJMYXlvdXQoKSx0aGlzLl9fc2V0dXBTbGlkZXMoKSx0aGlzLnNsaWRlQ29udHJvbGxlci5zZXR1cCgpLHRoaXMuY29udHJvbHMpZm9yKGk9MCxsPXRoaXMuY29udHJvbHMubGVuZ3RoO2w+aTsrK2kpdGhpcy5jb250cm9sc1tpXS5jcmVhdGUoKTtpZih0aGlzLm9wdGlvbnMuYXV0b0hlaWdodCYmdGhpcy5zbGlkZUNvbnRyb2xsZXIudmlldy4kZWxlbWVudC5oZWlnaHQodGhpcy5zbGlkZUNvbnRyb2xsZXIuY3VycmVudFNsaWRlLmdldEhlaWdodCgpKSx0aGlzLm9wdGlvbnMuc3dpcGUmJiF3aW5kb3cuX3RvdWNoJiZ0aGlzLm9wdGlvbnMuZ3JhYkN1cnNvciYmdGhpcy5vcHRpb25zLm1vdXNlKXt2YXIgJHZpZXc9dGhpcy52aWV3LiRlbGVtZW50OyR2aWV3Lm1vdXNlZG93bihmdW5jdGlvbigpeyR2aWV3LnJlbW92ZUNsYXNzKFwibXMtZ3JhYi1jdXJzb3JcIiksJHZpZXcuYWRkQ2xhc3MoXCJtcy1ncmFiYmluZy1jdXJzb3JcIiksJC5icm93c2VyLm1zaWUmJndpbmRvdy5tc19ncmFiYmluZ19jdXJvc3ImJigkdmlld1swXS5zdHlsZS5jdXJzb3I9XCJ1cmwoXCIrd2luZG93Lm1zX2dyYWJiaW5nX2N1cm9zcitcIiksIG1vdmVcIil9KS5hZGRDbGFzcyhcIm1zLWdyYWItY3Vyc29yXCIpLCQoZG9jdW1lbnQpLm1vdXNldXAoZnVuY3Rpb24oKXskdmlldy5yZW1vdmVDbGFzcyhcIm1zLWdyYWJiaW5nLWN1cnNvclwiKSwkdmlldy5hZGRDbGFzcyhcIm1zLWdyYWItY3Vyc29yXCIpLCQuYnJvd3Nlci5tc2llJiZ3aW5kb3cubXNfZ3JhYl9jdXJvc3ImJigkdmlld1swXS5zdHlsZS5jdXJzb3I9XCJ1cmwoXCIrd2luZG93Lm1zX2dyYWJfY3Vyb3NyK1wiKSwgbW92ZVwiKX0pfXRoaXMuc2xpZGVDb250cm9sbGVyLl9fZGlzcGF0Y2hJbml0KCl9fSxwLnNldEhlaWdodD1mdW5jdGlvbih2YWx1ZSl7dGhpcy5vcHRpb25zLnNtb290aEhlaWdodD8odGhpcy5odHdlZW4mJih0aGlzLmh0d2Vlbi5yZXNldD90aGlzLmh0d2Vlbi5yZXNldCgpOnRoaXMuaHR3ZWVuLnN0b3AoITApKSx0aGlzLmh0d2Vlbj1DVHdlZW4uYW5pbWF0ZSh0aGlzLnNsaWRlQ29udHJvbGxlci52aWV3LiRlbGVtZW50LDUwMCx7aGVpZ2h0OnZhbHVlfSx7ZWFzZTpcImVhc2VPdXRRdWFydFwifSkpOnRoaXMuc2xpZGVDb250cm9sbGVyLnZpZXcuJGVsZW1lbnQuaGVpZ2h0KHZhbHVlKX0scC5yZXNlcnZlU3BhY2U9ZnVuY3Rpb24oc2lkZSxzcGFjZSl7dmFyIHNpZGVTcGFjZT1zaWRlK1wiU3BhY2VcIixwb3M9dGhpc1tzaWRlU3BhY2VdO3JldHVybiB0aGlzW3NpZGVTcGFjZV0rPXNwYWNlLHRoaXMuX3VwZGF0ZVNpZGVNYXJnaW5zKCkscG9zfSxwLl91cGRhdGVTaWRlTWFyZ2lucz1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQuY3NzKFwibWFyZ2luXCIsdGhpcy50b3BTcGFjZStcInB4IFwiK3RoaXMucmlnaHRTcGFjZStcInB4IFwiK3RoaXMuYm90dG9tU3BhY2UrXCJweCBcIit0aGlzLmxlZnRTcGFjZStcInB4XCIpfSxwLl9yZWFsaWduQ29udHJvbHM9ZnVuY3Rpb24oKXt0aGlzLnJpZ2h0U3BhY2U9dGhpcy5sZWZ0U3BhY2U9dGhpcy50b3BTcGFjZT10aGlzLmJvdHRvbVNwYWNlPTAsdGhpcy5fdXBkYXRlU2lkZU1hcmdpbnMoKSx0aGlzLmFwaS5kaXNwYXRjaEV2ZW50KG5ldyBNU1NsaWRlckV2ZW50KE1TU2xpZGVyRXZlbnQuUkVTRVJWRURfU1BBQ0VfQ0hBTkdFKSl9LHAuY29udHJvbD1mdW5jdGlvbihjb250cm9sLG9wdGlvbnMpe2lmKGNvbnRyb2wgaW4gTVNTbGlkZUNvbnRyb2xsZXIuU2xpZGVyQ29udHJvbExpc3Qpe3RoaXMuY29udHJvbHN8fCh0aGlzLmNvbnRyb2xzPVtdKTt2YXIgaW5zPW5ldyBNU1NsaWRlQ29udHJvbGxlci5TbGlkZXJDb250cm9sTGlzdFtjb250cm9sXShvcHRpb25zKTtyZXR1cm4gaW5zLnNsaWRlcj10aGlzLHRoaXMuY29udHJvbHMucHVzaChpbnMpLHRoaXN9fSxwLmhvbGRPbj1mdW5jdGlvbigpe3RoaXMuX2hvbGRPbisrfSxwLnJlbGVhc2U9ZnVuY3Rpb24oKXt0aGlzLl9ob2xkT24tLSx0aGlzLl9pbml0KCl9LHAuc2V0dXA9ZnVuY3Rpb24odGFyZ2V0LG9wdGlvbnMpe2lmKHRoaXMuJGVsZW1lbnQ9XCJzdHJpbmdcIj09dHlwZW9mIHRhcmdldD8kKFwiI1wiK3RhcmdldCk6dGFyZ2V0LmVxKDApLHRoaXMuc2V0dXBNYXJrdXA9dGhpcy4kZWxlbWVudC5odG1sKCksMCE9PXRoaXMuJGVsZW1lbnQubGVuZ3RoKXt0aGlzLiRlbGVtZW50LmFkZENsYXNzKFwibWFzdGVyLXNsaWRlclwiKS5hZGRDbGFzcyhcImJlZm9yZS1pbml0XCIpLCQuYnJvd3Nlci5tc2llP3RoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoXCJtcy1pZVwiKS5hZGRDbGFzcyhcIm1zLWllXCIrJC5icm93c2VyLnZlcnNpb24uc2xpY2UoMCwkLmJyb3dzZXIudmVyc2lvbi5pbmRleE9mKFwiLlwiKSkpOiQuYnJvd3Nlci53ZWJraXQ/dGhpcy4kZWxlbWVudC5hZGRDbGFzcyhcIm1zLXdrXCIpOiQuYnJvd3Nlci5tb3ppbGxhJiZ0aGlzLiRlbGVtZW50LmFkZENsYXNzKFwibXMtbW96XCIpO3ZhciB1YT1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCksaXNBbmRyb2lkPXVhLmluZGV4T2YoXCJhbmRyb2lkXCIpPi0xO2lzQW5kcm9pZCYmdGhpcy4kZWxlbWVudC5hZGRDbGFzcyhcIm1zLWFuZHJvaWRcIik7dmFyIHRoYXQ9dGhpczskLmV4dGVuZCh0aGlzLm9wdGlvbnMsb3B0aW9ucyksdGhpcy5hc3BlY3Q9dGhpcy5vcHRpb25zLndpZHRoL3RoaXMub3B0aW9ucy5oZWlnaHQsdGhpcy4kbG9hZGluZz0kKFwiPGRpdj48L2Rpdj5cIikuYWRkQ2xhc3MoXCJtcy1sb2FkaW5nLWNvbnRhaW5lclwiKS5pbnNlcnRCZWZvcmUodGhpcy4kZWxlbWVudCkuYXBwZW5kKCQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyhcIm1zLWxvYWRpbmdcIikpLHRoaXMuJGxvYWRpbmcucGFyZW50KCkuY3NzKFwicG9zaXRpb25cIixcInJlbGF0aXZlXCIpLHRoaXMub3B0aW9ucy5hdXRvZmlsbCYmKHRoaXMub3B0aW9ucy5mdWxsd2lkdGg9ITAsdGhpcy5vcHRpb25zLmZ1bGxoZWlnaHQ9ITApLHRoaXMub3B0aW9ucy5mdWxsaGVpZ2h0JiZ0aGlzLiRlbGVtZW50LmFkZENsYXNzKFwibXMtZnVsbGhlaWdodFwiKSx0aGlzLl9yZXNpemUoKSx0aGlzLnNsaWRlQ29udHJvbGxlcj1uZXcgTVNTbGlkZUNvbnRyb2xsZXIodGhpcyksdGhpcy5hcGk9dGhpcy5zbGlkZUNvbnRyb2xsZXI7Zm9yKHZhciBpPTAsbD1NUy5fcGx1Z2lucy5sZW5ndGg7aSE9PWw7aSsrKXt2YXIgcGx1Z2luPU1TLl9wbHVnaW5zW2ldOy0xPT09dGhpcy5vcHRpb25zLmRpc2FibGVQbHVnaW5zLmluZGV4T2YocGx1Z2luLm5hbWUpJiZ0aGlzLmFjdGl2ZVBsdWdpbnMucHVzaChuZXcgcGx1Z2luKHRoaXMpKX1yZXR1cm4gJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXt0aGF0Ll9kb2NSZWFkeT0hMCx0aGF0Ll9pbml0KCl9KSx0aGlzfX0scC5kZXN0cm95PWZ1bmN0aW9uKGluc2VydE1hcmt1cCl7Zm9yKHZhciBpPTAsbD10aGlzLmFjdGl2ZVBsdWdpbnMubGVuZ3RoO2khPT1sO2krKyl0aGlzLmFjdGl2ZVBsdWdpbnNbaV0uZGVzdHJveSgpO2lmKHRoaXMuY29udHJvbHMpZm9yKGk9MCxsPXRoaXMuY29udHJvbHMubGVuZ3RoO2khPT1sO2krKyl0aGlzLmNvbnRyb2xzW2ldLmRlc3Ryb3koKTt0aGlzLnNsaWRlQ29udHJvbGxlciYmdGhpcy5zbGlkZUNvbnRyb2xsZXIuX2Rlc3Ryb3koKSx0aGlzLiRsb2FkaW5nJiZ0aGlzLiRsb2FkaW5nLnJlbW92ZSgpLGluc2VydE1hcmt1cD90aGlzLiRlbGVtZW50Lmh0bWwodGhpcy5zZXR1cE1hcmt1cCkuY3NzKFwidmlzaWJpbGl0eVwiLFwiaGlkZGVuXCIpOnRoaXMuJGVsZW1lbnQucmVtb3ZlKCk7dmFyIGxvPXRoaXMub3B0aW9ucy5sYXlvdXQ7KFwiZnVsbHNjcmVlblwiPT09bG98fFwiZnVsbHdpZHRoXCI9PT1sbykmJiQod2luZG93KS51bmJpbmQoXCJyZXNpemVcIix0aGlzLl91cGRhdGVMYXlvdXQpLHRoaXMudmlldz1udWxsLHRoaXMuc2xpZGVzPW51bGwsdGhpcy5vcHRpb25zPW51bGwsdGhpcy5zbGlkZUNvbnRyb2xsZXI9bnVsbCx0aGlzLmFwaT1udWxsLHRoaXMucmVzaXplX2xpc3RlbmVyPW51bGwsdGhpcy5hY3RpdmVQbHVnaW5zPW51bGx9fShqUXVlcnkpLGZ1bmN0aW9uKCQsd2luZG93LGRvY3VtZW50LHVuZGVmaW5lZCl7ZnVuY3Rpb24gTWFzdGVyU2xpZGVyUGx1Z2luKGVsZW1lbnQsb3B0aW9ucyl7dGhpcy5lbGVtZW50PWVsZW1lbnQsdGhpcy4kZWxlbWVudD0kKGVsZW1lbnQpLHRoaXMuc2V0dGluZ3M9JC5leHRlbmQoe30sZGVmYXVsdHMsb3B0aW9ucyksdGhpcy5fZGVmYXVsdHM9ZGVmYXVsdHMsdGhpcy5fbmFtZT1wbHVnaW5OYW1lLHRoaXMuaW5pdCgpfXZhciBwbHVnaW5OYW1lPVwibWFzdGVyc2xpZGVyXCIsZGVmYXVsdHM9e2NvbnRyb2xzOnt9fTskLmV4dGVuZChNYXN0ZXJTbGlkZXJQbHVnaW4ucHJvdG90eXBlLHtpbml0OmZ1bmN0aW9uKCl7dmFyIHNlbGY9dGhpczt0aGlzLl9zbGlkZXI9bmV3IE1hc3RlclNsaWRlcjtmb3IodmFyIGNvbnRyb2wgaW4gdGhpcy5zZXR0aW5ncy5jb250cm9scyl0aGlzLl9zbGlkZXIuY29udHJvbChjb250cm9sLHRoaXMuc2V0dGluZ3MuY29udHJvbHNbY29udHJvbF0pO3RoaXMuX3NsaWRlci5zZXR1cCh0aGlzLiRlbGVtZW50LHRoaXMuc2V0dGluZ3MpO3ZhciBfc3VwZXJEaXNwYXRjaD10aGlzLl9zbGlkZXIuYXBpLmRpc3BhdGNoRXZlbnQ7dGhpcy5fc2xpZGVyLmFwaS5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGV2ZW50KXtzZWxmLiRlbGVtZW50LnRyaWdnZXIoZXZlbnQudHlwZSksX3N1cGVyRGlzcGF0Y2guY2FsbCh0aGlzLGV2ZW50KX19LGFwaTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zbGlkZXIuYXBpfSxzbGlkZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2xpZGVyfX0pLCQuZm5bcGx1Z2luTmFtZV09ZnVuY3Rpb24ob3B0aW9ucyl7dmFyIGFyZ3M9YXJndW1lbnRzLHBsdWdpbj1cInBsdWdpbl9cIitwbHVnaW5OYW1lO2lmKG9wdGlvbnM9PT11bmRlZmluZWR8fFwib2JqZWN0XCI9PXR5cGVvZiBvcHRpb25zKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXskLmRhdGEodGhpcyxwbHVnaW4pfHwkLmRhdGEodGhpcyxwbHVnaW4sbmV3IE1hc3RlclNsaWRlclBsdWdpbih0aGlzLG9wdGlvbnMpKX0pO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBvcHRpb25zJiZcIl9cIiE9PW9wdGlvbnNbMF0mJlwiaW5pdFwiIT09b3B0aW9ucyl7dmFyIHJldHVybnM7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBpbnN0YW5jZT0kLmRhdGEodGhpcyxwbHVnaW4pO2luc3RhbmNlIGluc3RhbmNlb2YgTWFzdGVyU2xpZGVyUGx1Z2luJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBpbnN0YW5jZVtvcHRpb25zXSYmKHJldHVybnM9aW5zdGFuY2Vbb3B0aW9uc10uYXBwbHkoaW5zdGFuY2UsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJncywxKSkpLGluc3RhbmNlIGluc3RhbmNlb2YgTWFzdGVyU2xpZGVyUGx1Z2luJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBpbnN0YW5jZS5fc2xpZGVyLmFwaVtvcHRpb25zXSYmKHJldHVybnM9aW5zdGFuY2UuX3NsaWRlci5hcGlbb3B0aW9uc10uYXBwbHkoaW5zdGFuY2UuX3NsaWRlci5hcGksQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJncywxKSkpLFwiZGVzdHJveVwiPT09b3B0aW9ucyYmJC5kYXRhKHRoaXMscGx1Z2luLG51bGwpfSkscmV0dXJucyE9PXVuZGVmaW5lZD9yZXR1cm5zOnRoaXN9fX0oalF1ZXJ5LHdpbmRvdyxkb2N1bWVudCksd2luZG93Lk1TVmlld0V2ZW50cz1mdW5jdGlvbih0eXBlLGRhdGEpe3RoaXMudHlwZT10eXBlLHRoaXMuZGF0YT1kYXRhfSxNU1ZpZXdFdmVudHMuU1dJUEVfU1RBUlQ9XCJzd2lwZVN0YXJ0XCIsTVNWaWV3RXZlbnRzLlNXSVBFX0VORD1cInN3aXBlRW5kXCIsTVNWaWV3RXZlbnRzLlNXSVBFX01PVkU9XCJzd2lwZU1vdmVcIixNU1ZpZXdFdmVudHMuU1dJUEVfQ0FOQ0VMPVwic3dpcGVDYW5jZWxcIixNU1ZpZXdFdmVudHMuU0NST0xMPVwic2Nyb2xsXCIsTVNWaWV3RXZlbnRzLkNIQU5HRV9TVEFSVD1cInNsaWRlQ2hhbmdlU3RhcnRcIixNU1ZpZXdFdmVudHMuQ0hBTkdFX0VORD1cInNsaWRlQ2hhbmdlRW5kXCIsZnVuY3Rpb24oJCl7XCJ1c2Ugc3RyaWN0XCI7d2luZG93Lk1TQmFzaWNWaWV3PWZ1bmN0aW9uKG9wdGlvbnMpe3RoaXMub3B0aW9ucz17bG9vcDohMSxkaXI6XCJoXCIsYXV0b0hlaWdodDohMSxzcGFjaW5nOjUsbW91c2VTd2lwZTohMCxzd2lwZTohMCxzcGVlZDoxNyxtaW5TbGlkZVNwZWVkOjIsdmlld051bToyMCxjcml0TWFyZ2luOjF9LCQuZXh0ZW5kKHRoaXMub3B0aW9ucyxvcHRpb25zKSx0aGlzLmRpcj10aGlzLm9wdGlvbnMuZGlyLHRoaXMubG9vcD10aGlzLm9wdGlvbnMubG9vcCx0aGlzLnNwYWNpbmc9dGhpcy5vcHRpb25zLnNwYWNpbmcsdGhpcy5fX3dpZHRoPTAsdGhpcy5fX2hlaWdodD0wLHRoaXMuX19jc3NQcm9iPVwiaFwiPT09dGhpcy5kaXI/XCJsZWZ0XCI6XCJ0b3BcIix0aGlzLl9fb2Zmc2V0PVwiaFwiPT09dGhpcy5kaXI/XCJvZmZzZXRMZWZ0XCI6XCJvZmZzZXRUb3BcIix0aGlzLl9fZGltZW5zaW9uPVwiaFwiPT09dGhpcy5kaXI/XCJfX3dpZHRoXCI6XCJfX2hlaWdodFwiLHRoaXMuX190cmFuc2xhdGVfZW5kPXdpbmRvdy5fY3NzM2Q/XCIgdHJhbnNsYXRlWigwcHgpXCI6XCJcIix0aGlzLiRzbGlkZUNvbnQ9JChcIjxkaXY+PC9kaXY+XCIpLmFkZENsYXNzKFwibXMtc2xpZGUtY29udGFpbmVyXCIpLHRoaXMuJGVsZW1lbnQ9JChcIjxkaXY+PC9kaXY+XCIpLmFkZENsYXNzKFwibXMtdmlld1wiKS5hZGRDbGFzcyhcIm1zLWJhc2ljLXZpZXdcIikuYXBwZW5kKHRoaXMuJHNsaWRlQ29udCksdGhpcy5jdXJyZW50U2xpZGU9bnVsbCx0aGlzLmluZGV4PS0xLHRoaXMuc2xpZGVzQ291bnQ9MCx0aGlzLnNsaWRlcz1bXSx0aGlzLnNsaWRlTGlzdD1bXSx0aGlzLnZpZXdTbGlkZXNMaXN0PVtdLHRoaXMuY3NzMz13aW5kb3cuX2Nzc2FuaW0sdGhpcy5zdGFydF9idWZmZXI9MCx0aGlzLmZpcnN0c2xpZGVfc25hcD0wLHRoaXMuc2xpZGVDaGFuZ2VkPSExLHRoaXMuY29udHJvbGxlcj1uZXcgQ29udHJvbGxlcigwLDAse3NuYXBwaW5nOiEwLHNuYXBzaXplOjEwMCxwYWdpbmc6ITAsc25hcHBpbmdNaW5TcGVlZDp0aGlzLm9wdGlvbnMubWluU2xpZGVTcGVlZCxmcmljdGlvbjooMTAwLS41KnRoaXMub3B0aW9ucy5zcGVlZCkvMTAwLGVuZGxlc3M6dGhpcy5sb29wfSksdGhpcy5jb250cm9sbGVyLnJlbmRlckNhbGxiYWNrKFwiaFwiPT09dGhpcy5kaXI/dGhpcy5faG9yaXpVcGRhdGU6dGhpcy5fdmVydGlVcGRhdGUsdGhpcyksdGhpcy5jb250cm9sbGVyLnNuYXBwaW5nQ2FsbGJhY2sodGhpcy5fX3NuYXBVcGRhdGUsdGhpcyksdGhpcy5jb250cm9sbGVyLnNuYXBDb21wbGV0ZUNhbGxiYWNrKHRoaXMuX19zbmFwQ29tcGVsZXQsdGhpcyksYXZlcnRhLkV2ZW50RGlzcGF0Y2hlci5jYWxsKHRoaXMpfTt2YXIgcD1NU0Jhc2ljVmlldy5wcm90b3R5cGU7cC5fX3NuYXBDb21wZWxldD1mdW5jdGlvbigpe3RoaXMuc2xpZGVDaGFuZ2VkJiYodGhpcy5zbGlkZUNoYW5nZWQ9ITEsdGhpcy5fX2xvY2F0ZVNsaWRlcygpLHRoaXMuc3RhcnRfYnVmZmVyPTAsdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBNU1ZpZXdFdmVudHMoTVNWaWV3RXZlbnRzLkNIQU5HRV9FTkQpKSl9LHAuX19zbmFwVXBkYXRlPWZ1bmN0aW9uKGNvbnRyb2xsZXIsc25hcCxjaGFuZ2Upe2lmKHRoaXMubG9vcCl7dmFyIHRhcmdldF9pbmRleD10aGlzLmluZGV4K2NoYW5nZTt0aGlzLnVwZGF0ZUxvb3AodGFyZ2V0X2luZGV4KSx0YXJnZXRfaW5kZXg+PXRoaXMuc2xpZGVzQ291bnQmJih0YXJnZXRfaW5kZXgtPXRoaXMuc2xpZGVzQ291bnQpLDA+dGFyZ2V0X2luZGV4JiYodGFyZ2V0X2luZGV4PXRoaXMuc2xpZGVzQ291bnQrdGFyZ2V0X2luZGV4KSx0aGlzLmluZGV4PXRhcmdldF9pbmRleH1lbHNle2lmKDA+c25hcHx8c25hcD49dGhpcy5zbGlkZXNDb3VudClyZXR1cm47dGhpcy5pbmRleD1zbmFwfXRoaXMuX2NoZWNrQ3JpdE1hcmdpbnMoKSwkLmJyb3dzZXIubW96aWxsYSYmKHRoaXMuc2xpZGVMaXN0W3RoaXMuaW5kZXhdLiRlbGVtZW50WzBdLnN0eWxlLm1hcmdpblRvcD1cIjAuMXB4XCIsdGhpcy5jdXJyZW50U2xpZGUmJih0aGlzLmN1cnJlbnRTbGlkZS4kZWxlbWVudFswXS5zdHlsZS5tYXJnaW5Ub3A9XCJcIikpO3ZhciBuZXdfc2xpZGU9dGhpcy5zbGlkZUxpc3RbdGhpcy5pbmRleF07bmV3X3NsaWRlIT09dGhpcy5jdXJyZW50U2xpZGUmJih0aGlzLmN1cnJlbnRTbGlkZT1uZXdfc2xpZGUsdGhpcy5hdXRvVXBkYXRlWkluZGV4JiZ0aGlzLl9fdXBkYXRlU2xpZGVzWmluZGV4KCksdGhpcy5zbGlkZUNoYW5nZWQ9ITAsdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBNU1ZpZXdFdmVudHMoTVNWaWV3RXZlbnRzLkNIQU5HRV9TVEFSVCkpKX0scC5fY2hlY2tDcml0TWFyZ2lucz1mdW5jdGlvbigpe2lmKCF0aGlzLm5vcm1hbE1vZGUpe3ZhciBobGY9TWF0aC5mbG9vcih0aGlzLm9wdGlvbnMudmlld051bS8yKSxpblZpZXc9dGhpcy52aWV3U2xpZGVzTGlzdC5pbmRleE9mKHRoaXMuc2xpZGVMaXN0W3RoaXMuaW5kZXhdKSxzaXplPXRoaXNbdGhpcy5fX2RpbWVuc2lvbl0rdGhpcy5zcGFjaW5nLGNtPXRoaXMub3B0aW9ucy5jcml0TWFyZ2luO3JldHVybiB0aGlzLmxvb3A/dm9pZCgoY20+PWluVmlld3x8aW5WaWV3Pj10aGlzLnZpZXdTbGlkZXNMaXN0Lmxlbmd0aC1jbSkmJihzaXplKj1pblZpZXctaGxmLHRoaXMuX19sb2NhdGVTbGlkZXMoITEsc2l6ZSt0aGlzLnN0YXJ0X2J1ZmZlciksdGhpcy5zdGFydF9idWZmZXIrPXNpemUpKTp2b2lkKChjbT5pblZpZXcmJnRoaXMuaW5kZXg+PWNtfHxpblZpZXc+PXRoaXMudmlld1NsaWRlc0xpc3QubGVuZ3RoLWNtJiZ0aGlzLmluZGV4PHRoaXMuc2xpZGVzQ291bnQtY20pJiZ0aGlzLl9fbG9jYXRlU2xpZGVzKCExKSl9fSxwLl92ZXJ0aVVwZGF0ZT1mdW5jdGlvbihjb250cm9sbGVyLHZhbHVlKXtyZXR1cm4gdGhpcy5fX2NvbnRQb3M9dmFsdWUsdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBNU1ZpZXdFdmVudHMoTVNWaWV3RXZlbnRzLlNDUk9MTCkpLHRoaXMuY3NzMz92b2lkKHRoaXMuJHNsaWRlQ29udFswXS5zdHlsZVt3aW5kb3cuX2pjc3NwZngrXCJUcmFuc2Zvcm1cIl09XCJ0cmFuc2xhdGVZKFwiKy12YWx1ZStcInB4KVwiK3RoaXMuX190cmFuc2xhdGVfZW5kKTp2b2lkKHRoaXMuJHNsaWRlQ29udFswXS5zdHlsZS50b3A9LXZhbHVlK1wicHhcIil9LHAuX2hvcml6VXBkYXRlPWZ1bmN0aW9uKGNvbnRyb2xsZXIsdmFsdWUpe3JldHVybiB0aGlzLl9fY29udFBvcz12YWx1ZSx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IE1TVmlld0V2ZW50cyhNU1ZpZXdFdmVudHMuU0NST0xMKSksdGhpcy5jc3MzP3ZvaWQodGhpcy4kc2xpZGVDb250WzBdLnN0eWxlW3dpbmRvdy5famNzc3BmeCtcIlRyYW5zZm9ybVwiXT1cInRyYW5zbGF0ZVgoXCIrLXZhbHVlK1wicHgpXCIrdGhpcy5fX3RyYW5zbGF0ZV9lbmQpOnZvaWQodGhpcy4kc2xpZGVDb250WzBdLnN0eWxlLmxlZnQ9LXZhbHVlK1wicHhcIil9LHAuX191cGRhdGVWaWV3TGlzdD1mdW5jdGlvbigpe2lmKHRoaXMubm9ybWFsTW9kZSlyZXR1cm4gdm9pZCh0aGlzLnZpZXdTbGlkZXNMaXN0PXRoaXMuc2xpZGVzKTt2YXIgdGVtcD10aGlzLnZpZXdTbGlkZXNMaXN0LnNsaWNlKCk7dGhpcy52aWV3U2xpZGVzTGlzdD1bXTt2YXIgbCxpPTAsaGxmPU1hdGguZmxvb3IodGhpcy5vcHRpb25zLnZpZXdOdW0vMik7aWYodGhpcy5sb29wKWZvcig7aSE9PXRoaXMub3B0aW9ucy52aWV3TnVtO2krKyl0aGlzLnZpZXdTbGlkZXNMaXN0LnB1c2godGhpcy5zbGlkZXNbdGhpcy5jdXJyZW50U2xpZGVMb2MtaGxmK2ldKTtlbHNle2ZvcihpPTA7aSE9PWhsZiYmdGhpcy5pbmRleC1pIT09LTE7aSsrKXRoaXMudmlld1NsaWRlc0xpc3QudW5zaGlmdCh0aGlzLnNsaWRlTGlzdFt0aGlzLmluZGV4LWldKTtmb3IoaT0xO2khPT1obGYmJnRoaXMuaW5kZXgraSE9PXRoaXMuc2xpZGVzQ291bnQ7aSsrKXRoaXMudmlld1NsaWRlc0xpc3QucHVzaCh0aGlzLnNsaWRlTGlzdFt0aGlzLmluZGV4K2ldKX1mb3IoaT0wLGw9dGVtcC5sZW5ndGg7aSE9PWw7aSsrKS0xPT09dGhpcy52aWV3U2xpZGVzTGlzdC5pbmRleE9mKHRlbXBbaV0pJiZ0ZW1wW2ldLnNsZWVwKCk7dGVtcD1udWxsLHRoaXMuY3VycmVudFNsaWRlJiZ0aGlzLl9fdXBkYXRlU2xpZGVzWmluZGV4KCl9LHAuX19sb2NhdGVTbGlkZXM9ZnVuY3Rpb24obW92ZSxzdGFydCl7dGhpcy5fX3VwZGF0ZVZpZXdMaXN0KCksc3RhcnQ9dGhpcy5sb29wP3N0YXJ0fHwwOnRoaXMuc2xpZGVzLmluZGV4T2YodGhpcy52aWV3U2xpZGVzTGlzdFswXSkqKHRoaXNbdGhpcy5fX2RpbWVuc2lvbl0rdGhpcy5zcGFjaW5nKTtmb3IodmFyIHNsaWRlLGw9dGhpcy52aWV3U2xpZGVzTGlzdC5sZW5ndGgsaT0wO2khPT1sO2krKyl7dmFyIHBvcz1zdGFydCtpKih0aGlzW3RoaXMuX19kaW1lbnNpb25dK3RoaXMuc3BhY2luZyk7c2xpZGU9dGhpcy52aWV3U2xpZGVzTGlzdFtpXSxzbGlkZS53YWtldXAoKSxzbGlkZS5wb3NpdGlvbj1wb3Msc2xpZGUuJGVsZW1lbnRbMF0uc3R5bGVbdGhpcy5fX2Nzc1Byb2JdPXBvcytcInB4XCJ9bW92ZSE9PSExJiZ0aGlzLmNvbnRyb2xsZXIuY2hhbmdlVG8odGhpcy5zbGlkZUxpc3RbdGhpcy5pbmRleF0ucG9zaXRpb24sITEsbnVsbCxudWxsLCExKX0scC5fX2NyZWF0ZUxvb3BMaXN0PWZ1bmN0aW9uKCl7dmFyIHJldHVybl9hcnI9W10saT0wLGNvdW50PXRoaXMuc2xpZGVzQ291bnQvMixiZWZvcmVfY291bnQ9dGhpcy5zbGlkZXNDb3VudCUyPT09MD9jb3VudC0xOk1hdGguZmxvb3IoY291bnQpLGFmdGVyX2NvdW50PXRoaXMuc2xpZGVzQ291bnQlMj09PTA/Y291bnQ6TWF0aC5mbG9vcihjb3VudCk7Zm9yKHRoaXMuY3VycmVudFNsaWRlTG9jPWJlZm9yZV9jb3VudCxpPTE7YmVmb3JlX2NvdW50Pj1pOysraSlyZXR1cm5fYXJyLnVuc2hpZnQodGhpcy5zbGlkZUxpc3RbdGhpcy5pbmRleC1pPDA/dGhpcy5zbGlkZXNDb3VudC1pK3RoaXMuaW5kZXg6dGhpcy5pbmRleC1pXSk7Zm9yKHJldHVybl9hcnIucHVzaCh0aGlzLnNsaWRlTGlzdFt0aGlzLmluZGV4XSksaT0xO2FmdGVyX2NvdW50Pj1pOysraSlyZXR1cm5fYXJyLnB1c2godGhpcy5zbGlkZUxpc3RbdGhpcy5pbmRleCtpPj10aGlzLnNsaWRlc0NvdW50P3RoaXMuaW5kZXgraS10aGlzLnNsaWRlc0NvdW50OnRoaXMuaW5kZXgraV0pO3JldHVybiByZXR1cm5fYXJyfSxwLl9fZ2V0U3RlcHM9ZnVuY3Rpb24oaW5kZXgsdGFyZ2V0KXt2YXIgcmlnaHQ9aW5kZXg+dGFyZ2V0P3RoaXMuc2xpZGVzQ291bnQtaW5kZXgrdGFyZ2V0OnRhcmdldC1pbmRleCxsZWZ0PU1hdGguYWJzKHRoaXMuc2xpZGVzQ291bnQtcmlnaHQpO3JldHVybiBsZWZ0PnJpZ2h0P3JpZ2h0Oi1sZWZ0fSxwLl9fcHVzaEVuZD1mdW5jdGlvbigpe3ZhciBmaXJzdF9zbGlkZT10aGlzLnNsaWRlcy5zaGlmdCgpLGxhc3Rfc2xpZGU9dGhpcy5zbGlkZXNbdGhpcy5zbGlkZXNDb3VudC0yXTtpZih0aGlzLnNsaWRlcy5wdXNoKGZpcnN0X3NsaWRlKSx0aGlzLm5vcm1hbE1vZGUpe3ZhciBwb3M9bGFzdF9zbGlkZS4kZWxlbWVudFswXVt0aGlzLl9fb2Zmc2V0XSt0aGlzLnNwYWNpbmcrdGhpc1t0aGlzLl9fZGltZW5zaW9uXTtmaXJzdF9zbGlkZS4kZWxlbWVudFswXS5zdHlsZVt0aGlzLl9fY3NzUHJvYl09cG9zK1wicHhcIixmaXJzdF9zbGlkZS5wb3NpdGlvbj1wb3N9fSxwLl9fcHVzaFN0YXJ0PWZ1bmN0aW9uKCl7dmFyIGxhc3Rfc2xpZGU9dGhpcy5zbGlkZXMucG9wKCksZmlyc3Rfc2xpZGU9dGhpcy5zbGlkZXNbMF07aWYodGhpcy5zbGlkZXMudW5zaGlmdChsYXN0X3NsaWRlKSx0aGlzLm5vcm1hbE1vZGUpe3ZhciBwb3M9Zmlyc3Rfc2xpZGUuJGVsZW1lbnRbMF1bdGhpcy5fX29mZnNldF0tdGhpcy5zcGFjaW5nLXRoaXNbdGhpcy5fX2RpbWVuc2lvbl07bGFzdF9zbGlkZS4kZWxlbWVudFswXS5zdHlsZVt0aGlzLl9fY3NzUHJvYl09cG9zK1wicHhcIixsYXN0X3NsaWRlLnBvc2l0aW9uPXBvc319LHAuX191cGRhdGVTbGlkZXNaaW5kZXg9ZnVuY3Rpb24oKXt7dmFyIHNsaWRlLGw9dGhpcy52aWV3U2xpZGVzTGlzdC5sZW5ndGg7TWF0aC5mbG9vcihsLzIpfWlmKHRoaXMubG9vcClmb3IodmFyIGxvYz10aGlzLnZpZXdTbGlkZXNMaXN0LmluZGV4T2YodGhpcy5jdXJyZW50U2xpZGUpLGk9MDtpIT09bDtpKyspc2xpZGU9dGhpcy52aWV3U2xpZGVzTGlzdFtpXSx0aGlzLnZpZXdTbGlkZXNMaXN0W2ldLiRlbGVtZW50LmNzcyhcInotaW5kZXhcIixsb2M+PWk/aSsxOmwtaSk7XHJcbmVsc2V7Zm9yKHZhciBiZWZvcmVOdW09dGhpcy5jdXJyZW50U2xpZGUuaW5kZXgtdGhpcy52aWV3U2xpZGVzTGlzdFswXS5pbmRleCxpPTA7aSE9PWw7aSsrKXRoaXMudmlld1NsaWRlc0xpc3RbaV0uJGVsZW1lbnQuY3NzKFwiei1pbmRleFwiLGJlZm9yZU51bT49aT9pKzE6bC1pKTt0aGlzLmN1cnJlbnRTbGlkZS4kZWxlbWVudC5jc3MoXCJ6LWluZGV4XCIsbCl9fSxwLmFkZFNsaWRlPWZ1bmN0aW9uKHNsaWRlKXtzbGlkZS52aWV3PXRoaXMsdGhpcy5zbGlkZXMucHVzaChzbGlkZSksdGhpcy5zbGlkZUxpc3QucHVzaChzbGlkZSksdGhpcy5zbGlkZXNDb3VudCsrfSxwLmFwcGVuZFNsaWRlPWZ1bmN0aW9uKHNsaWRlKXt0aGlzLiRzbGlkZUNvbnQuYXBwZW5kKHNsaWRlLiRlbGVtZW50KX0scC51cGRhdGVMb29wPWZ1bmN0aW9uKGluZGV4KXtpZih0aGlzLmxvb3ApZm9yKHZhciBzdGVwcz10aGlzLl9fZ2V0U3RlcHModGhpcy5pbmRleCxpbmRleCksaT0wLGw9TWF0aC5hYnMoc3RlcHMpO2w+aTsrK2kpMD5zdGVwcz90aGlzLl9fcHVzaFN0YXJ0KCk6dGhpcy5fX3B1c2hFbmQoKX0scC5nb3RvU2xpZGU9ZnVuY3Rpb24oaW5kZXgsZmFzdCl7dGhpcy51cGRhdGVMb29wKGluZGV4KSx0aGlzLmluZGV4PWluZGV4O3ZhciB0YXJnZXRfc2xpZGU9dGhpcy5zbGlkZUxpc3RbaW5kZXhdO3RoaXMuX2NoZWNrQ3JpdE1hcmdpbnMoKSx0aGlzLmNvbnRyb2xsZXIuY2hhbmdlVG8odGFyZ2V0X3NsaWRlLnBvc2l0aW9uLCFmYXN0LG51bGwsbnVsbCwhMSksdGFyZ2V0X3NsaWRlIT09dGhpcy5jdXJyZW50U2xpZGUmJih0aGlzLnNsaWRlQ2hhbmdlZD0hMCx0aGlzLmN1cnJlbnRTbGlkZT10YXJnZXRfc2xpZGUsdGhpcy5hdXRvVXBkYXRlWkluZGV4JiZ0aGlzLl9fdXBkYXRlU2xpZGVzWmluZGV4KCksdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBNU1ZpZXdFdmVudHMoTVNWaWV3RXZlbnRzLkNIQU5HRV9TVEFSVCkpLGZhc3QmJnRoaXMuZGlzcGF0Y2hFdmVudChuZXcgTVNWaWV3RXZlbnRzKE1TVmlld0V2ZW50cy5DSEFOR0VfRU5EKSkpfSxwLm5leHQ9ZnVuY3Rpb24oY2hlY2tMb29wKXtyZXR1cm4gY2hlY2tMb29wJiYhdGhpcy5sb29wJiZ0aGlzLmluZGV4KzE+PXRoaXMuc2xpZGVzQ291bnQ/dm9pZCB0aGlzLmNvbnRyb2xsZXIuYm91bmNlKDEwKTp2b2lkIHRoaXMuZ290b1NsaWRlKHRoaXMuaW5kZXgrMT49dGhpcy5zbGlkZXNDb3VudD8wOnRoaXMuaW5kZXgrMSl9LHAucHJldmlvdXM9ZnVuY3Rpb24oY2hlY2tMb29wKXtyZXR1cm4gY2hlY2tMb29wJiYhdGhpcy5sb29wJiZ0aGlzLmluZGV4LTE8MD92b2lkIHRoaXMuY29udHJvbGxlci5ib3VuY2UoLTEwKTp2b2lkIHRoaXMuZ290b1NsaWRlKHRoaXMuaW5kZXgtMTwwP3RoaXMuc2xpZGVzQ291bnQtMTp0aGlzLmluZGV4LTEpfSxwLnNldHVwU3dpcGU9ZnVuY3Rpb24oKXt0aGlzLnN3aXBlQ29udHJvbD1uZXcgYXZlcnRhLlRvdWNoU3dpcGUodGhpcy4kZWxlbWVudCksdGhpcy5zd2lwZUNvbnRyb2wuc3dpcGVUeXBlPVwiaFwiPT09dGhpcy5kaXI/XCJob3Jpem9udGFsXCI6XCJ2ZXJ0aWNhbFwiO3ZhciB0aGF0PXRoaXM7dGhpcy5zd2lwZUNvbnRyb2wub25Td2lwZT1cImhcIj09PXRoaXMuZGlyP2Z1bmN0aW9uKHN0YXR1cyl7dGhhdC5ob3JpelN3aXBlTW92ZShzdGF0dXMpfTpmdW5jdGlvbihzdGF0dXMpe3RoYXQudmVydFN3aXBlTW92ZShzdGF0dXMpfX0scC52ZXJ0U3dpcGVNb3ZlPWZ1bmN0aW9uKHN0YXR1cyl7dmFyIHBoYXNlPXN0YXR1cy5waGFzZTtpZihcInN0YXJ0XCI9PT1waGFzZSl0aGlzLmNvbnRyb2xsZXIuc3RvcCgpLHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgTVNWaWV3RXZlbnRzKE1TVmlld0V2ZW50cy5TV0lQRV9TVEFSVCxzdGF0dXMpKTtlbHNlIGlmKFwibW92ZVwiPT09cGhhc2UmJighdGhpcy5sb29wfHxNYXRoLmFicyh0aGlzLmN1cnJlbnRTbGlkZS5wb3NpdGlvbi10aGlzLmNvbnRyb2xsZXIudmFsdWUrc3RhdHVzLm1vdmVZKTx0aGlzLmNvbnRfc2l6ZS8yKSl0aGlzLmNvbnRyb2xsZXIuZHJhZyhzdGF0dXMubW92ZVkpLHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgTVNWaWV3RXZlbnRzKE1TVmlld0V2ZW50cy5TV0lQRV9NT1ZFLHN0YXR1cykpO2Vsc2UgaWYoXCJlbmRcIj09PXBoYXNlfHxcImNhbmNlbFwiPT09cGhhc2Upe3ZhciBzcGVlZD1zdGF0dXMuZGlzdGFuY2VZL3N0YXR1cy5kdXJhdGlvbio1MC8zO01hdGguYWJzKHNwZWVkKT4uMT8odGhpcy5jb250cm9sbGVyLnB1c2goLXNwZWVkKSxzcGVlZD50aGlzLmNvbnRyb2xsZXIub3B0aW9ucy5zbmFwcGluZ01pblNwZWVkJiZ0aGlzLmRpc3BhdGNoRXZlbnQobmV3IE1TVmlld0V2ZW50cyhNU1ZpZXdFdmVudHMuU1dJUEVfRU5ELHN0YXR1cykpKToodGhpcy5jb250cm9sbGVyLmNhbmNlbCgpLHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgTVNWaWV3RXZlbnRzKE1TVmlld0V2ZW50cy5TV0lQRV9DQU5DRUwsc3RhdHVzKSkpfX0scC5ob3JpelN3aXBlTW92ZT1mdW5jdGlvbihzdGF0dXMpe3ZhciBwaGFzZT1zdGF0dXMucGhhc2U7aWYoXCJzdGFydFwiPT09cGhhc2UpdGhpcy5jb250cm9sbGVyLnN0b3AoKSx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IE1TVmlld0V2ZW50cyhNU1ZpZXdFdmVudHMuU1dJUEVfU1RBUlQsc3RhdHVzKSk7ZWxzZSBpZihcIm1vdmVcIj09PXBoYXNlJiYoIXRoaXMubG9vcHx8TWF0aC5hYnModGhpcy5jdXJyZW50U2xpZGUucG9zaXRpb24tdGhpcy5jb250cm9sbGVyLnZhbHVlK3N0YXR1cy5tb3ZlWCk8dGhpcy5jb250X3NpemUvMikpdGhpcy5jb250cm9sbGVyLmRyYWcoc3RhdHVzLm1vdmVYKSx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IE1TVmlld0V2ZW50cyhNU1ZpZXdFdmVudHMuU1dJUEVfTU9WRSxzdGF0dXMpKTtlbHNlIGlmKFwiZW5kXCI9PT1waGFzZXx8XCJjYW5jZWxcIj09PXBoYXNlKXt2YXIgc3BlZWQ9c3RhdHVzLmRpc3RhbmNlWC9zdGF0dXMuZHVyYXRpb24qNTAvMztNYXRoLmFicyhzcGVlZCk+LjE/KHRoaXMuY29udHJvbGxlci5wdXNoKC1zcGVlZCksc3BlZWQ+dGhpcy5jb250cm9sbGVyLm9wdGlvbnMuc25hcHBpbmdNaW5TcGVlZCYmdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBNU1ZpZXdFdmVudHMoTVNWaWV3RXZlbnRzLlNXSVBFX0VORCxzdGF0dXMpKSk6KHRoaXMuY29udHJvbGxlci5jYW5jZWwoKSx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IE1TVmlld0V2ZW50cyhNU1ZpZXdFdmVudHMuU1dJUEVfQ0FOQ0VMLHN0YXR1cykpKX19LHAuc2V0U2l6ZT1mdW5jdGlvbih3aWR0aCxoZWlnaHQsaGFyZCl7aWYodGhpcy5sYXN0V2lkdGghPT13aWR0aHx8aGVpZ2h0IT09dGhpcy5sYXN0SGVpZ2h0fHxoYXJkKXt0aGlzLiRlbGVtZW50LndpZHRoKHdpZHRoKS5oZWlnaHQoaGVpZ2h0KTtmb3IodmFyIGk9MDtpPHRoaXMuc2xpZGVzQ291bnQ7KytpKXRoaXMuc2xpZGVzW2ldLnNldFNpemUod2lkdGgsaGVpZ2h0LGhhcmQpO3RoaXMuX193aWR0aD13aWR0aCx0aGlzLl9faGVpZ2h0PWhlaWdodCx0aGlzLl9fY3JlYXRlZCYmKHRoaXMuX19sb2NhdGVTbGlkZXMoKSx0aGlzLmNvbnRfc2l6ZT0odGhpcy5zbGlkZXNDb3VudC0xKSoodGhpc1t0aGlzLl9fZGltZW5zaW9uXSt0aGlzLnNwYWNpbmcpLHRoaXMubG9vcHx8KHRoaXMuY29udHJvbGxlci5fbWF4X3ZhbHVlPXRoaXMuY29udF9zaXplKSx0aGlzLmNvbnRyb2xsZXIub3B0aW9ucy5zbmFwc2l6ZT10aGlzW3RoaXMuX19kaW1lbnNpb25dK3RoaXMuc3BhY2luZyx0aGlzLmNvbnRyb2xsZXIuY2hhbmdlVG8odGhpcy5jdXJyZW50U2xpZGUucG9zaXRpb24sITEsbnVsbCxudWxsLCExKSx0aGlzLmNvbnRyb2xsZXIuY2FuY2VsKCksdGhpcy5sYXN0V2lkdGg9d2lkdGgsdGhpcy5sYXN0SGVpZ2h0PWhlaWdodCl9fSxwLmNyZWF0ZT1mdW5jdGlvbihpbmRleCl7dGhpcy5fX2NyZWF0ZWQ9ITAsdGhpcy5pbmRleD1NYXRoLm1pbihpbmRleHx8MCx0aGlzLnNsaWRlc0NvdW50LTEpLHRoaXMubGFzdFNuYXA9dGhpcy5pbmRleCx0aGlzLmxvb3AmJih0aGlzLnNsaWRlcz10aGlzLl9fY3JlYXRlTG9vcExpc3QoKSksdGhpcy5ub3JtYWxNb2RlPXRoaXMuc2xpZGVzQ291bnQ8PXRoaXMub3B0aW9ucy52aWV3TnVtO2Zvcih2YXIgaT0wO2k8dGhpcy5zbGlkZXNDb3VudDsrK2kpdGhpcy5zbGlkZXNbaV0uY3JlYXRlKCk7dGhpcy5fX2xvY2F0ZVNsaWRlcygpLHRoaXMuY29udHJvbGxlci5vcHRpb25zLnNuYXBzaXplPXRoaXNbdGhpcy5fX2RpbWVuc2lvbl0rdGhpcy5zcGFjaW5nLHRoaXMubG9vcHx8KHRoaXMuY29udHJvbGxlci5fbWF4X3ZhbHVlPSh0aGlzLnNsaWRlc0NvdW50LTEpKih0aGlzW3RoaXMuX19kaW1lbnNpb25dK3RoaXMuc3BhY2luZykpLHRoaXMuZ290b1NsaWRlKHRoaXMuaW5kZXgsITApLHRoaXMub3B0aW9ucy5zd2lwZSYmKHdpbmRvdy5fdG91Y2h8fHRoaXMub3B0aW9ucy5tb3VzZVN3aXBlKSYmdGhpcy5zZXR1cFN3aXBlKCl9LHAuZGVzdHJveT1mdW5jdGlvbigpe2lmKHRoaXMuX19jcmVhdGVkKXtmb3IodmFyIGk9MDtpPHRoaXMuc2xpZGVzQ291bnQ7KytpKXRoaXMuc2xpZGVzW2ldLmRlc3Ryb3koKTt0aGlzLnNsaWRlcz1udWxsLHRoaXMuc2xpZGVMaXN0PW51bGwsdGhpcy4kZWxlbWVudC5yZW1vdmUoKSx0aGlzLmNvbnRyb2xsZXIuZGVzdHJveSgpLHRoaXMuY29udHJvbGxlcj1udWxsfX0sYXZlcnRhLkV2ZW50RGlzcGF0Y2hlci5leHRlbmQocCksTVNTbGlkZUNvbnRyb2xsZXIucmVnaXN0ZXJWaWV3KFwiYmFzaWNcIixNU0Jhc2ljVmlldyl9KGpRdWVyeSksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt3aW5kb3cuTVNXYXZlVmlldz1mdW5jdGlvbihvcHRpb25zKXtNU0Jhc2ljVmlldy5jYWxsKHRoaXMsb3B0aW9ucyksdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyhcIm1zLWJhc2ljLXZpZXdcIikuYWRkQ2xhc3MoXCJtcy13YXZlLXZpZXdcIiksdGhpcy4kc2xpZGVDb250LmNzcyh3aW5kb3cuX2Nzc3BmeCtcInRyYW5zZm9ybS1zdHlsZVwiLFwicHJlc2VydmUtM2RcIiksdGhpcy5hdXRvVXBkYXRlWkluZGV4PSEwfSxNU1dhdmVWaWV3LmV4dGVuZChNU0Jhc2ljVmlldyksTVNXYXZlVmlldy5fM2RyZXE9ITAsTVNXYXZlVmlldy5fZmFsbGJhY2s9TVNCYXNpY1ZpZXc7dmFyIHA9TVNXYXZlVmlldy5wcm90b3R5cGUsX3N1cGVyPU1TQmFzaWNWaWV3LnByb3RvdHlwZTtwLl9ob3JpelVwZGF0ZT1mdW5jdGlvbihjb250cm9sbGVyLHZhbHVlKXtfc3VwZXIuX2hvcml6VXBkYXRlLmNhbGwodGhpcyxjb250cm9sbGVyLHZhbHVlKTtmb3IodmFyIHNsaWRlLGRpc3RhbmNlLGNvbnRfc2Nyb2xsPS12YWx1ZSxpPTA7aTx0aGlzLnNsaWRlc0NvdW50OysraSlzbGlkZT10aGlzLnNsaWRlTGlzdFtpXSxkaXN0YW5jZT0tY29udF9zY3JvbGwtc2xpZGUucG9zaXRpb24sdGhpcy5fX3VwZGF0ZVNsaWRlc0hvcml6KHNsaWRlLGRpc3RhbmNlKX0scC5fdmVydGlVcGRhdGU9ZnVuY3Rpb24oY29udHJvbGxlcix2YWx1ZSl7X3N1cGVyLl92ZXJ0aVVwZGF0ZS5jYWxsKHRoaXMsY29udHJvbGxlcix2YWx1ZSk7Zm9yKHZhciBzbGlkZSxkaXN0YW5jZSxjb250X3Njcm9sbD0tdmFsdWUsaT0wO2k8dGhpcy5zbGlkZXNDb3VudDsrK2kpc2xpZGU9dGhpcy5zbGlkZUxpc3RbaV0sZGlzdGFuY2U9LWNvbnRfc2Nyb2xsLXNsaWRlLnBvc2l0aW9uLHRoaXMuX191cGRhdGVTbGlkZXNWZXJ0aWMoc2xpZGUsZGlzdGFuY2UpfSxwLl9fdXBkYXRlU2xpZGVzSG9yaXo9ZnVuY3Rpb24oc2xpZGUsZGlzdGFuY2Upe3ZhciB2YWx1ZT1NYXRoLmFicygxMDAqZGlzdGFuY2UvdGhpcy5fX3dpZHRoKTtzbGlkZS4kZWxlbWVudC5jc3Mod2luZG93Ll9jc3NwZngrXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZVooXCIrMyotdmFsdWUrXCJweCkgcm90YXRlWSgwLjAxZGVnKVwiKX0scC5fX3VwZGF0ZVNsaWRlc1ZlcnRpYz1mdW5jdGlvbihzbGlkZSxkaXN0YW5jZSl7dGhpcy5fX3VwZGF0ZVNsaWRlc0hvcml6KHNsaWRlLGRpc3RhbmNlKX0sTVNTbGlkZUNvbnRyb2xsZXIucmVnaXN0ZXJWaWV3KFwid2F2ZVwiLE1TV2F2ZVZpZXcpfShqUXVlcnkpLGZ1bmN0aW9uKCl7d2luZG93Lk1TRmFkZUJhc2ljVmlldz1mdW5jdGlvbihvcHRpb25zKXtNU1dhdmVWaWV3LmNhbGwodGhpcyxvcHRpb25zKSx0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKFwibXMtd2F2ZS12aWV3XCIpLmFkZENsYXNzKFwibXMtZmFkZS1iYXNpYy12aWV3XCIpfSxNU0ZhZGVCYXNpY1ZpZXcuZXh0ZW5kKE1TV2F2ZVZpZXcpO3t2YXIgcD1NU0ZhZGVCYXNpY1ZpZXcucHJvdG90eXBlO01TRmFkZUJhc2ljVmlldy5wcm90b3R5cGV9cC5fX3VwZGF0ZVNsaWRlc0hvcml6PWZ1bmN0aW9uKHNsaWRlLGRpc3RhbmNlKXt2YXIgdmFsdWU9TWF0aC5hYnMoLjYqZGlzdGFuY2UvdGhpcy5fX3dpZHRoKTt2YWx1ZT0xLU1hdGgubWluKHZhbHVlLC42KSxzbGlkZS4kZWxlbWVudC5jc3MoXCJvcGFjaXR5XCIsdmFsdWUpfSxwLl9fdXBkYXRlU2xpZGVzVmVydGljPWZ1bmN0aW9uKHNsaWRlLGRpc3RhbmNlKXt0aGlzLl9fdXBkYXRlU2xpZGVzSG9yaXooc2xpZGUsZGlzdGFuY2UpfSxNU1NsaWRlQ29udHJvbGxlci5yZWdpc3RlclZpZXcoXCJmYWRlQmFzaWNcIixNU0ZhZGVCYXNpY1ZpZXcpLE1TV2F2ZVZpZXcuX2ZhbGxiYWNrPU1TRmFkZUJhc2ljVmlld30oKSxmdW5jdGlvbigpe3dpbmRvdy5NU0ZhZGVXYXZlVmlldz1mdW5jdGlvbihvcHRpb25zKXtNU1dhdmVWaWV3LmNhbGwodGhpcyxvcHRpb25zKSx0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKFwibXMtd2F2ZS12aWV3XCIpLmFkZENsYXNzKFwibXMtZmFkZS13YXZlLXZpZXdcIil9LE1TRmFkZVdhdmVWaWV3LmV4dGVuZChNU1dhdmVWaWV3KSxNU0ZhZGVXYXZlVmlldy5fM2RyZXE9ITAsTVNGYWRlV2F2ZVZpZXcuX2ZhbGxiYWNrPU1TRmFkZUJhc2ljVmlldzt7dmFyIHA9TVNGYWRlV2F2ZVZpZXcucHJvdG90eXBlO01TV2F2ZVZpZXcucHJvdG90eXBlfXAuX191cGRhdGVTbGlkZXNIb3Jpej1mdW5jdGlvbihzbGlkZSxkaXN0YW5jZSl7dmFyIHZhbHVlPU1hdGguYWJzKDEwMCpkaXN0YW5jZS90aGlzLl9fd2lkdGgpO3ZhbHVlPU1hdGgubWluKHZhbHVlLDEwMCksc2xpZGUuJGVsZW1lbnQuY3NzKFwib3BhY2l0eVwiLDEtdmFsdWUvMzAwKSxzbGlkZS4kZWxlbWVudFswXS5zdHlsZVt3aW5kb3cuX2pjc3NwZngrXCJUcmFuc2Zvcm1cIl09XCJzY2FsZShcIisoMS12YWx1ZS84MDApK1wiKSByb3RhdGVZKDAuMDFkZWcpIFwifSxwLl9fdXBkYXRlU2xpZGVzVmVydGljPWZ1bmN0aW9uKHNsaWRlLGRpc3RhbmNlKXt0aGlzLl9fdXBkYXRlU2xpZGVzSG9yaXooc2xpZGUsZGlzdGFuY2UpfSxNU1NsaWRlQ29udHJvbGxlci5yZWdpc3RlclZpZXcoXCJmYWRlV2F2ZVwiLE1TRmFkZVdhdmVWaWV3KX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3dpbmRvdy5NU0Zsb3dWaWV3PWZ1bmN0aW9uKG9wdGlvbnMpe01TV2F2ZVZpZXcuY2FsbCh0aGlzLG9wdGlvbnMpLHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJtcy13YXZlLXZpZXdcIikuYWRkQ2xhc3MoXCJtcy1mbG93LXZpZXdcIil9LE1TRmxvd1ZpZXcuZXh0ZW5kKE1TV2F2ZVZpZXcpLE1TRmxvd1ZpZXcuXzNkcmVxPSEwLE1TRmxvd1ZpZXcuX2ZhbGxiYWNrPU1TRmFkZUJhc2ljVmlldzt7dmFyIHA9TVNGbG93Vmlldy5wcm90b3R5cGU7TVNXYXZlVmlldy5wcm90b3R5cGV9cC5fX3VwZGF0ZVNsaWRlc0hvcml6PWZ1bmN0aW9uKHNsaWRlLGRpc3RhbmNlKXt2YXIgdmFsdWU9TWF0aC5hYnMoMTAwKmRpc3RhbmNlL3RoaXMuX193aWR0aCkscnZhbHVlPU1hdGgubWluKC4zKnZhbHVlLDMwKSooMD5kaXN0YW5jZT8tMToxKSx6dmFsdWU9MS4yKnZhbHVlO3NsaWRlLiRlbGVtZW50WzBdLnN0eWxlW3dpbmRvdy5famNzc3BmeCtcIlRyYW5zZm9ybVwiXT1cInRyYW5zbGF0ZVooXCIrNSotenZhbHVlK1wicHgpIHJvdGF0ZVkoXCIrcnZhbHVlK1wiZGVnKSBcIn0scC5fX3VwZGF0ZVNsaWRlc1ZlcnRpYz1mdW5jdGlvbihzbGlkZSxkaXN0YW5jZSl7dmFyIHZhbHVlPU1hdGguYWJzKDEwMCpkaXN0YW5jZS90aGlzLl9fd2lkdGgpLHJ2YWx1ZT1NYXRoLm1pbiguMyp2YWx1ZSwzMCkqKDA+ZGlzdGFuY2U/LTE6MSksenZhbHVlPTEuMip2YWx1ZTtzbGlkZS4kZWxlbWVudFswXS5zdHlsZVt3aW5kb3cuX2pjc3NwZngrXCJUcmFuc2Zvcm1cIl09XCJ0cmFuc2xhdGVaKFwiKzUqLXp2YWx1ZStcInB4KSByb3RhdGVYKFwiKy1ydmFsdWUrXCJkZWcpIFwifSxNU1NsaWRlQ29udHJvbGxlci5yZWdpc3RlclZpZXcoXCJmbG93XCIsTVNGbG93Vmlldyl9KGpRdWVyeSksZnVuY3Rpb24oKXt3aW5kb3cuTVNGYWRlRmxvd1ZpZXc9ZnVuY3Rpb24ob3B0aW9ucyl7TVNXYXZlVmlldy5jYWxsKHRoaXMsb3B0aW9ucyksdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyhcIm1zLXdhdmUtdmlld1wiKS5hZGRDbGFzcyhcIm1zLWZhZGUtZmxvdy12aWV3XCIpfSxNU0ZhZGVGbG93Vmlldy5leHRlbmQoTVNXYXZlVmlldyksTVNGYWRlRmxvd1ZpZXcuXzNkcmVxPSEwO3t2YXIgcD1NU0ZhZGVGbG93Vmlldy5wcm90b3R5cGU7TVNXYXZlVmlldy5wcm90b3R5cGV9cC5fX2NhbGN1bGF0ZT1mdW5jdGlvbihkaXN0YW5jZSl7dmFyIHZhbHVlPU1hdGgubWluKE1hdGguYWJzKDEwMCpkaXN0YW5jZS90aGlzLl9fd2lkdGgpLDEwMCkscnZhbHVlPU1hdGgubWluKC41KnZhbHVlLDUwKSooMD5kaXN0YW5jZT8tMToxKTtyZXR1cm57dmFsdWU6dmFsdWUscnZhbHVlOnJ2YWx1ZX19LHAuX191cGRhdGVTbGlkZXNIb3Jpej1mdW5jdGlvbihzbGlkZSxkaXN0YW5jZSl7dmFyIGNsYz10aGlzLl9fY2FsY3VsYXRlKGRpc3RhbmNlKTtzbGlkZS4kZWxlbWVudC5jc3MoXCJvcGFjaXR5XCIsMS1jbGMudmFsdWUvMzAwKSxzbGlkZS4kZWxlbWVudFswXS5zdHlsZVt3aW5kb3cuX2pjc3NwZngrXCJUcmFuc2Zvcm1cIl09XCJ0cmFuc2xhdGVaKFwiKy1jbGMudmFsdWUrXCJweCkgcm90YXRlWShcIitjbGMucnZhbHVlK1wiZGVnKSBcIn0scC5fX3VwZGF0ZVNsaWRlc1ZlcnRpYz1mdW5jdGlvbihzbGlkZSxkaXN0YW5jZSl7dmFyIGNsYz10aGlzLl9fY2FsY3VsYXRlKGRpc3RhbmNlKTtzbGlkZS4kZWxlbWVudC5jc3MoXCJvcGFjaXR5XCIsMS1jbGMudmFsdWUvMzAwKSxzbGlkZS4kZWxlbWVudFswXS5zdHlsZVt3aW5kb3cuX2pjc3NwZngrXCJUcmFuc2Zvcm1cIl09XCJ0cmFuc2xhdGVaKFwiKy1jbGMudmFsdWUrXCJweCkgcm90YXRlWChcIistY2xjLnJ2YWx1ZStcImRlZykgXCJ9LE1TU2xpZGVDb250cm9sbGVyLnJlZ2lzdGVyVmlldyhcImZhZGVGbG93XCIsTVNGYWRlRmxvd1ZpZXcpfSgpLGZ1bmN0aW9uKCQpe1widXNlIHN0cmljdFwiO3dpbmRvdy5NU01hc2tWaWV3PWZ1bmN0aW9uKG9wdGlvbnMpe01TQmFzaWNWaWV3LmNhbGwodGhpcyxvcHRpb25zKSx0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKFwibXMtYmFzaWMtdmlld1wiKS5hZGRDbGFzcyhcIm1zLW1hc2stdmlld1wiKX0sTVNNYXNrVmlldy5leHRlbmQoTVNCYXNpY1ZpZXcpO3ZhciBwPU1TTWFza1ZpZXcucHJvdG90eXBlLF9zdXBlcj1NU0Jhc2ljVmlldy5wcm90b3R5cGU7cC5hZGRTbGlkZT1mdW5jdGlvbihzbGlkZSl7c2xpZGUudmlldz10aGlzLHNsaWRlLiRmcmFtZT0kKFwiPGRpdj48L2Rpdj5cIikuYWRkQ2xhc3MoXCJtcy1tYXNrLWZyYW1lXCIpLmFwcGVuZChzbGlkZS4kZWxlbWVudCksc2xpZGUuJGVsZW1lbnRbMF0uc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiLHNsaWRlLmF1dG9BcHBlbmQ9ITEsdGhpcy5zbGlkZXMucHVzaChzbGlkZSksdGhpcy5zbGlkZUxpc3QucHVzaChzbGlkZSksdGhpcy5zbGlkZXNDb3VudCsrfSxwLnNldFNpemU9ZnVuY3Rpb24od2lkdGgsaGVpZ2h0KXtmb3IodmFyIHNsaWRlcj10aGlzLnNsaWRlc1swXS5zbGlkZXIsaT0wO2k8dGhpcy5zbGlkZXNDb3VudDsrK2kpdGhpcy5zbGlkZXNbaV0uJGZyYW1lWzBdLnN0eWxlLndpZHRoPXdpZHRoK1wicHhcIixzbGlkZXIub3B0aW9ucy5hdXRvSGVpZ2h0fHwodGhpcy5zbGlkZXNbaV0uJGZyYW1lWzBdLnN0eWxlLmhlaWdodD1oZWlnaHQrXCJweFwiKTtfc3VwZXIuc2V0U2l6ZS5jYWxsKHRoaXMsd2lkdGgsaGVpZ2h0KX0scC5faG9yaXpVcGRhdGU9ZnVuY3Rpb24oY29udHJvbGxlcix2YWx1ZSl7X3N1cGVyLl9ob3JpelVwZGF0ZS5jYWxsKHRoaXMsY29udHJvbGxlcix2YWx1ZSk7dmFyIGk9MDtpZih0aGlzLmNzczMpZm9yKGk9MDtpPHRoaXMuc2xpZGVzQ291bnQ7KytpKXRoaXMuc2xpZGVMaXN0W2ldLiRlbGVtZW50WzBdLnN0eWxlW3dpbmRvdy5famNzc3BmeCtcIlRyYW5zZm9ybVwiXT1cInRyYW5zbGF0ZVgoXCIrKHZhbHVlLXRoaXMuc2xpZGVMaXN0W2ldLnBvc2l0aW9uKStcInB4KVwiK3RoaXMuX190cmFuc2xhdGVfZW5kO2Vsc2UgZm9yKGk9MDtpPHRoaXMuc2xpZGVzQ291bnQ7KytpKXRoaXMuc2xpZGVMaXN0W2ldLiRlbGVtZW50WzBdLnN0eWxlLmxlZnQ9dmFsdWUtdGhpcy5zbGlkZUxpc3RbaV0ucG9zaXRpb24rXCJweFwifSxwLl92ZXJ0aVVwZGF0ZT1mdW5jdGlvbihjb250cm9sbGVyLHZhbHVlKXtfc3VwZXIuX3ZlcnRpVXBkYXRlLmNhbGwodGhpcyxjb250cm9sbGVyLHZhbHVlKTt2YXIgaT0wO2lmKHRoaXMuY3NzMylmb3IoaT0wO2k8dGhpcy5zbGlkZXNDb3VudDsrK2kpdGhpcy5zbGlkZUxpc3RbaV0uJGVsZW1lbnRbMF0uc3R5bGVbd2luZG93Ll9qY3NzcGZ4K1wiVHJhbnNmb3JtXCJdPVwidHJhbnNsYXRlWShcIisodmFsdWUtdGhpcy5zbGlkZUxpc3RbaV0ucG9zaXRpb24pK1wicHgpXCIrdGhpcy5fX3RyYW5zbGF0ZV9lbmQ7ZWxzZSBmb3IoaT0wO2k8dGhpcy5zbGlkZXNDb3VudDsrK2kpdGhpcy5zbGlkZUxpc3RbaV0uJGVsZW1lbnRbMF0uc3R5bGUudG9wPXZhbHVlLXRoaXMuc2xpZGVMaXN0W2ldLnBvc2l0aW9uK1wicHhcIn0scC5fX3B1c2hFbmQ9ZnVuY3Rpb24oKXt2YXIgZmlyc3Rfc2xpZGU9dGhpcy5zbGlkZXMuc2hpZnQoKSxsYXN0X3NsaWRlPXRoaXMuc2xpZGVzW3RoaXMuc2xpZGVzQ291bnQtMl07aWYodGhpcy5zbGlkZXMucHVzaChmaXJzdF9zbGlkZSksdGhpcy5ub3JtYWxNb2RlKXt2YXIgcG9zPWxhc3Rfc2xpZGUuJGZyYW1lWzBdW3RoaXMuX19vZmZzZXRdK3RoaXMuc3BhY2luZyt0aGlzW3RoaXMuX19kaW1lbnNpb25dO2ZpcnN0X3NsaWRlLiRmcmFtZVswXS5zdHlsZVt0aGlzLl9fY3NzUHJvYl09cG9zK1wicHhcIixmaXJzdF9zbGlkZS5wb3NpdGlvbj1wb3N9fSxwLl9fcHVzaFN0YXJ0PWZ1bmN0aW9uKCl7dmFyIGxhc3Rfc2xpZGU9dGhpcy5zbGlkZXMucG9wKCksZmlyc3Rfc2xpZGU9dGhpcy5zbGlkZXNbMF07aWYodGhpcy5zbGlkZXMudW5zaGlmdChsYXN0X3NsaWRlKSx0aGlzLm5vcm1hbE1vZGUpe3ZhciBwb3M9Zmlyc3Rfc2xpZGUuJGZyYW1lWzBdW3RoaXMuX19vZmZzZXRdLXRoaXMuc3BhY2luZy10aGlzW3RoaXMuX19kaW1lbnNpb25dO2xhc3Rfc2xpZGUuJGZyYW1lWzBdLnN0eWxlW3RoaXMuX19jc3NQcm9iXT1wb3MrXCJweFwiLGxhc3Rfc2xpZGUucG9zaXRpb249cG9zfX0scC5fX3VwZGF0ZVZpZXdMaXN0PWZ1bmN0aW9uKCl7aWYodGhpcy5ub3JtYWxNb2RlKXJldHVybiB2b2lkKHRoaXMudmlld1NsaWRlc0xpc3Q9dGhpcy5zbGlkZXMpO3ZhciB0ZW1wPXRoaXMudmlld1NsaWRlc0xpc3Quc2xpY2UoKTt0aGlzLnZpZXdTbGlkZXNMaXN0PVtdO3ZhciBsLGk9MCxobGY9TWF0aC5mbG9vcih0aGlzLm9wdGlvbnMudmlld051bS8yKTtpZih0aGlzLmxvb3ApZm9yKDtpIT09dGhpcy5vcHRpb25zLnZpZXdOdW07aSsrKXRoaXMudmlld1NsaWRlc0xpc3QucHVzaCh0aGlzLnNsaWRlc1t0aGlzLmN1cnJlbnRTbGlkZUxvYy1obGYraV0pO2Vsc2V7Zm9yKGk9MDtpIT09aGxmJiZ0aGlzLmluZGV4LWkhPT0tMTtpKyspdGhpcy52aWV3U2xpZGVzTGlzdC51bnNoaWZ0KHRoaXMuc2xpZGVMaXN0W3RoaXMuaW5kZXgtaV0pO2ZvcihpPTE7aSE9PWhsZiYmdGhpcy5pbmRleCtpIT09dGhpcy5zbGlkZXNDb3VudDtpKyspdGhpcy52aWV3U2xpZGVzTGlzdC5wdXNoKHRoaXMuc2xpZGVMaXN0W3RoaXMuaW5kZXgraV0pfWZvcihpPTAsbD10ZW1wLmxlbmd0aDtpIT09bDtpKyspLTE9PT10aGlzLnZpZXdTbGlkZXNMaXN0LmluZGV4T2YodGVtcFtpXSkmJih0ZW1wW2ldLnNsZWVwKCksdGVtcFtpXS4kZnJhbWUuZGV0YWNoKCkpO3RlbXA9bnVsbH0scC5fX2xvY2F0ZVNsaWRlcz1mdW5jdGlvbihtb3ZlLHN0YXJ0KXt0aGlzLl9fdXBkYXRlVmlld0xpc3QoKSxzdGFydD10aGlzLmxvb3A/c3RhcnR8fDA6dGhpcy5zbGlkZXMuaW5kZXhPZih0aGlzLnZpZXdTbGlkZXNMaXN0WzBdKSoodGhpc1t0aGlzLl9fZGltZW5zaW9uXSt0aGlzLnNwYWNpbmcpO2Zvcih2YXIgc2xpZGUsbD10aGlzLnZpZXdTbGlkZXNMaXN0Lmxlbmd0aCxpPTA7aSE9PWw7aSsrKXt2YXIgcG9zPXN0YXJ0K2kqKHRoaXNbdGhpcy5fX2RpbWVuc2lvbl0rdGhpcy5zcGFjaW5nKTtpZihzbGlkZT10aGlzLnZpZXdTbGlkZXNMaXN0W2ldLHRoaXMuJHNsaWRlQ29udC5hcHBlbmQoc2xpZGUuJGZyYW1lKSxzbGlkZS53YWtldXAoITEpLHNsaWRlLnBvc2l0aW9uPXBvcyxzbGlkZS5zZWxlY3RlZCYmc2xpZGUuYmd2aWRlbyl0cnl7c2xpZGUuYmd2aWRlby5wbGF5KCl9Y2F0Y2goZSl7fXNsaWRlLiRmcmFtZVswXS5zdHlsZVt0aGlzLl9fY3NzUHJvYl09cG9zK1wicHhcIn1tb3ZlIT09ITEmJnRoaXMuY29udHJvbGxlci5jaGFuZ2VUbyh0aGlzLnNsaWRlTGlzdFt0aGlzLmluZGV4XS5wb3NpdGlvbiwhMSxudWxsLG51bGwsITEpfSxNU1NsaWRlQ29udHJvbGxlci5yZWdpc3RlclZpZXcoXCJtYXNrXCIsTVNNYXNrVmlldyl9KGpRdWVyeSksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt3aW5kb3cuTVNQYXJhbGxheE1hc2tWaWV3PWZ1bmN0aW9uKG9wdGlvbnMpe01TTWFza1ZpZXcuY2FsbCh0aGlzLG9wdGlvbnMpLHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJtcy1iYXNpYy12aWV3XCIpLmFkZENsYXNzKFwibXMtcGFyYWxsYXgtbWFzay12aWV3XCIpfSxNU1BhcmFsbGF4TWFza1ZpZXcuZXh0ZW5kKE1TTWFza1ZpZXcpLE1TUGFyYWxsYXhNYXNrVmlldy5wYXJhbGxheEFtb3VudD0uNTt2YXIgcD1NU1BhcmFsbGF4TWFza1ZpZXcucHJvdG90eXBlLF9zdXBlcj1NU0Jhc2ljVmlldy5wcm90b3R5cGU7cC5faG9yaXpVcGRhdGU9ZnVuY3Rpb24oY29udHJvbGxlcix2YWx1ZSl7X3N1cGVyLl9ob3JpelVwZGF0ZS5jYWxsKHRoaXMsY29udHJvbGxlcix2YWx1ZSk7dmFyIGk9MDtpZih0aGlzLmNzczMpZm9yKGk9MDtpPHRoaXMuc2xpZGVzQ291bnQ7KytpKXRoaXMuc2xpZGVMaXN0W2ldLiRlbGVtZW50WzBdLnN0eWxlW3dpbmRvdy5famNzc3BmeCtcIlRyYW5zZm9ybVwiXT1cInRyYW5zbGF0ZVgoXCIrKHZhbHVlLXRoaXMuc2xpZGVMaXN0W2ldLnBvc2l0aW9uKSpNU1BhcmFsbGF4TWFza1ZpZXcucGFyYWxsYXhBbW91bnQrXCJweClcIit0aGlzLl9fdHJhbnNsYXRlX2VuZDtlbHNlIGZvcihpPTA7aTx0aGlzLnNsaWRlc0NvdW50OysraSl0aGlzLnNsaWRlTGlzdFtpXS4kZWxlbWVudFswXS5zdHlsZS5sZWZ0PSh2YWx1ZS10aGlzLnNsaWRlTGlzdFtpXS5wb3NpdGlvbikqTVNQYXJhbGxheE1hc2tWaWV3LnBhcmFsbGF4QW1vdW50K1wicHhcIn0scC5fdmVydGlVcGRhdGU9ZnVuY3Rpb24oY29udHJvbGxlcix2YWx1ZSl7X3N1cGVyLl92ZXJ0aVVwZGF0ZS5jYWxsKHRoaXMsY29udHJvbGxlcix2YWx1ZSk7dmFyIGk9MDtpZih0aGlzLmNzczMpZm9yKGk9MDtpPHRoaXMuc2xpZGVzQ291bnQ7KytpKXRoaXMuc2xpZGVMaXN0W2ldLiRlbGVtZW50WzBdLnN0eWxlW3dpbmRvdy5famNzc3BmeCtcIlRyYW5zZm9ybVwiXT1cInRyYW5zbGF0ZVkoXCIrKHZhbHVlLXRoaXMuc2xpZGVMaXN0W2ldLnBvc2l0aW9uKSpNU1BhcmFsbGF4TWFza1ZpZXcucGFyYWxsYXhBbW91bnQrXCJweClcIit0aGlzLl9fdHJhbnNsYXRlX2VuZDtlbHNlIGZvcihpPTA7aTx0aGlzLnNsaWRlc0NvdW50OysraSl0aGlzLnNsaWRlTGlzdFtpXS4kZWxlbWVudFswXS5zdHlsZS50b3A9KHZhbHVlLXRoaXMuc2xpZGVMaXN0W2ldLnBvc2l0aW9uKSpNU1BhcmFsbGF4TWFza1ZpZXcucGFyYWxsYXhBbW91bnQrXCJweFwifSxNU1NsaWRlQ29udHJvbGxlci5yZWdpc3RlclZpZXcoXCJwYXJhbGxheE1hc2tcIixNU1BhcmFsbGF4TWFza1ZpZXcpfShqUXVlcnkpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7d2luZG93Lk1TRmFkZVZpZXc9ZnVuY3Rpb24ob3B0aW9ucyl7TVNCYXNpY1ZpZXcuY2FsbCh0aGlzLG9wdGlvbnMpLHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJtcy1iYXNpYy12aWV3XCIpLmFkZENsYXNzKFwibXMtZmFkZS12aWV3XCIpLHRoaXMuY29udHJvbGxlci5yZW5kZXJDYWxsYmFjayh0aGlzLl9fdXBkYXRlLHRoaXMpfSxNU0ZhZGVWaWV3LmV4dGVuZChNU0Jhc2ljVmlldyk7dmFyIHA9TVNGYWRlVmlldy5wcm90b3R5cGUsX3N1cGVyPU1TQmFzaWNWaWV3LnByb3RvdHlwZTtwLl9fdXBkYXRlPWZ1bmN0aW9uKGNvbnRyb2xsZXIsdmFsdWUpe2Zvcih2YXIgc2xpZGUsZGlzdGFuY2UsY29udF9zY3JvbGw9LXZhbHVlLGk9MDtpPHRoaXMuc2xpZGVzQ291bnQ7KytpKXNsaWRlPXRoaXMuc2xpZGVMaXN0W2ldLGRpc3RhbmNlPS1jb250X3Njcm9sbC1zbGlkZS5wb3NpdGlvbix0aGlzLl9fdXBkYXRlU2xpZGVzKHNsaWRlLGRpc3RhbmNlKX0scC5fX3VwZGF0ZVNsaWRlcz1mdW5jdGlvbihzbGlkZSxkaXN0YW5jZSl7dmFyIHZhbHVlPU1hdGguYWJzKGRpc3RhbmNlL3RoaXNbdGhpcy5fX2RpbWVuc2lvbl0pOzA+PTEtdmFsdWU/c2xpZGUuJGVsZW1lbnQuZmFkZVRvKDAsMCkuY3NzKFwidmlzaWJpbGl0eVwiLFwiaGlkZGVuXCIpOnNsaWRlLiRlbGVtZW50LmZhZGVUbygwLDEtdmFsdWUpLmNzcyhcInZpc2liaWxpdHlcIixcIlwiKX0scC5fX2xvY2F0ZVNsaWRlcz1mdW5jdGlvbihtb3ZlLHN0YXJ0KXt0aGlzLl9fdXBkYXRlVmlld0xpc3QoKSxzdGFydD10aGlzLmxvb3A/c3RhcnR8fDA6dGhpcy5zbGlkZXMuaW5kZXhPZih0aGlzLnZpZXdTbGlkZXNMaXN0WzBdKSoodGhpc1t0aGlzLl9fZGltZW5zaW9uXSt0aGlzLnNwYWNpbmcpO2Zvcih2YXIgc2xpZGUsbD10aGlzLnZpZXdTbGlkZXNMaXN0Lmxlbmd0aCxpPTA7aSE9PWw7aSsrKXt2YXIgcG9zPXN0YXJ0K2kqdGhpc1t0aGlzLl9fZGltZW5zaW9uXTtzbGlkZT10aGlzLnZpZXdTbGlkZXNMaXN0W2ldLHNsaWRlLndha2V1cCgpLHNsaWRlLnBvc2l0aW9uPXBvc31tb3ZlIT09ITEmJnRoaXMuY29udHJvbGxlci5jaGFuZ2VUbyh0aGlzLnNsaWRlTGlzdFt0aGlzLmluZGV4XS5wb3NpdGlvbiwhMSxudWxsLG51bGwsITEpfSxwLl9fcHVzaEVuZD1mdW5jdGlvbigpe3ZhciBmaXJzdF9zbGlkZT10aGlzLnNsaWRlcy5zaGlmdCgpLGxhc3Rfc2xpZGU9dGhpcy5zbGlkZXNbdGhpcy5zbGlkZXNDb3VudC0yXTt0aGlzLnNsaWRlcy5wdXNoKGZpcnN0X3NsaWRlKSxmaXJzdF9zbGlkZS5wb3NpdGlvbj1sYXN0X3NsaWRlLnBvc2l0aW9uK3RoaXNbdGhpcy5fX2RpbWVuc2lvbl19LHAuX19wdXNoU3RhcnQ9ZnVuY3Rpb24oKXt2YXIgbGFzdF9zbGlkZT10aGlzLnNsaWRlcy5wb3AoKSxmaXJzdF9zbGlkZT10aGlzLnNsaWRlc1swXTt0aGlzLnNsaWRlcy51bnNoaWZ0KGxhc3Rfc2xpZGUpLGxhc3Rfc2xpZGUucG9zaXRpb249Zmlyc3Rfc2xpZGUucG9zaXRpb24tdGhpc1t0aGlzLl9fZGltZW5zaW9uXX0scC5jcmVhdGU9ZnVuY3Rpb24oaW5kZXgpe19zdXBlci5jcmVhdGUuY2FsbCh0aGlzLGluZGV4KSx0aGlzLnNwYWNpbmc9MCx0aGlzLmNvbnRyb2xsZXIub3B0aW9ucy5taW5WYWxpZERpc3Q9MTB9LE1TU2xpZGVDb250cm9sbGVyLnJlZ2lzdGVyVmlldyhcImZhZGVcIixNU0ZhZGVWaWV3KX0oalF1ZXJ5KSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3dpbmRvdy5NU1NjYWxlVmlldz1mdW5jdGlvbihvcHRpb25zKXtNU0Jhc2ljVmlldy5jYWxsKHRoaXMsb3B0aW9ucyksdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyhcIm1zLWJhc2ljLXZpZXdcIikuYWRkQ2xhc3MoXCJtcy1zY2FsZS12aWV3XCIpLHRoaXMuY29udHJvbGxlci5yZW5kZXJDYWxsYmFjayh0aGlzLl9fdXBkYXRlLHRoaXMpfSxNU1NjYWxlVmlldy5leHRlbmQoTVNGYWRlVmlldyk7dmFyIHA9TVNTY2FsZVZpZXcucHJvdG90eXBlLF9zdXBlcj1NU0ZhZGVWaWV3LnByb3RvdHlwZTtwLl9fdXBkYXRlU2xpZGVzPWZ1bmN0aW9uKHNsaWRlLGRpc3RhbmNlKXt2YXIgdmFsdWU9TWF0aC5hYnMoZGlzdGFuY2UvdGhpc1t0aGlzLl9fZGltZW5zaW9uXSksZWxlbWVudD1zbGlkZS4kZWxlbWVudFswXTswPj0xLXZhbHVlPyhlbGVtZW50LnN0eWxlLm9wYWNpdHk9MCxlbGVtZW50LnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIixlbGVtZW50LnN0eWxlW3dpbmRvdy5famNzc3BmeCtcIlRyYW5zZm9ybVwiXT1cIlwiKTooZWxlbWVudC5zdHlsZS5vcGFjaXR5PTEtdmFsdWUsZWxlbWVudC5zdHlsZS52aXNpYmlsaXR5PVwiXCIsZWxlbWVudC5zdHlsZVt3aW5kb3cuX2pjc3NwZngrXCJUcmFuc2Zvcm1cIl09XCJwZXJzcGVjdGl2ZSgyMDAwcHgpIHRyYW5zbGF0ZVooXCIrdmFsdWUqKDA+ZGlzdGFuY2U/LS41Oi41KSozMDArXCJweClcIil9LHAuY3JlYXRlPWZ1bmN0aW9uKGluZGV4KXtfc3VwZXIuY3JlYXRlLmNhbGwodGhpcyxpbmRleCksdGhpcy5jb250cm9sbGVyLm9wdGlvbnMubWluVmFsaWREaXN0PS4wM30sTVNTbGlkZUNvbnRyb2xsZXIucmVnaXN0ZXJWaWV3KFwic2NhbGVcIixNU1NjYWxlVmlldyl9KGpRdWVyeSksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt3aW5kb3cuTVNTdGFja1ZpZXc9ZnVuY3Rpb24ob3B0aW9ucyl7TVNCYXNpY1ZpZXcuY2FsbCh0aGlzLG9wdGlvbnMpLHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJtcy1iYXNpYy12aWV3XCIpLmFkZENsYXNzKFwibXMtc3RhY2stdmlld1wiKSx0aGlzLmNvbnRyb2xsZXIucmVuZGVyQ2FsbGJhY2sodGhpcy5fX3VwZGF0ZSx0aGlzKSx0aGlzLmF1dG9VcGRhdGVaSW5kZXg9ITB9LE1TU3RhY2tWaWV3LmV4dGVuZChNU0ZhZGVWaWV3KSxNU1N0YWNrVmlldy5fM2RyZXE9ITAsTVNTdGFja1ZpZXcuX2ZhbGxiYWNrPU1TRmFkZVZpZXc7dmFyIHA9TVNTdGFja1ZpZXcucHJvdG90eXBlLF9zdXBlcj1NU0ZhZGVWaWV3LnByb3RvdHlwZTtwLl9fdXBkYXRlU2xpZGVzWmluZGV4PWZ1bmN0aW9uKCl7Zm9yKHZhciBzbGlkZSxsPXRoaXMudmlld1NsaWRlc0xpc3QubGVuZ3RoLGk9MDtpIT09bDtpKyspc2xpZGU9dGhpcy52aWV3U2xpZGVzTGlzdFtpXSx0aGlzLnZpZXdTbGlkZXNMaXN0W2ldLiRlbGVtZW50LmNzcyhcInotaW5kZXhcIixsLWkpfSxwLl9fdXBkYXRlU2xpZGVzPWZ1bmN0aW9uKHNsaWRlLGRpc3RhbmNlKXt2YXIgdmFsdWU9TWF0aC5hYnMoZGlzdGFuY2UvdGhpc1t0aGlzLl9fZGltZW5zaW9uXSksZWxlbWVudD1zbGlkZS4kZWxlbWVudFswXTswPj0xLXZhbHVlPyhlbGVtZW50LnN0eWxlLm9wYWNpdHk9MSxlbGVtZW50LnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIixlbGVtZW50LnN0eWxlW3dpbmRvdy5famNzc3BmeCtcIlRyYW5zZm9ybVwiXT1cIlwiKTooZWxlbWVudC5zdHlsZS52aXNpYmlsaXR5PVwiXCIsZWxlbWVudC5zdHlsZVt3aW5kb3cuX2pjc3NwZngrXCJUcmFuc2Zvcm1cIl09MD5kaXN0YW5jZT9cInBlcnNwZWN0aXZlKDIwMDBweCkgdHJhbnNsYXRlWihcIistMzAwKnZhbHVlK1wicHgpXCI6dGhpcy5fX3RyYW5zbGF0ZStcIihcIistdmFsdWUqdGhpc1t0aGlzLl9fZGltZW5zaW9uXStcInB4KVwiKX0scC5jcmVhdGU9ZnVuY3Rpb24oaW5kZXgpe19zdXBlci5jcmVhdGUuY2FsbCh0aGlzLGluZGV4KSx0aGlzLmNvbnRyb2xsZXIub3B0aW9ucy5taW5WYWxpZERpc3Q9LjAzLHRoaXMuX190cmFuc2xhdGU9XCJoXCI9PT10aGlzLmRpcj9cInRyYW5zbGF0ZVhcIjpcInRyYW5zbGF0ZVlcIn0sTVNTbGlkZUNvbnRyb2xsZXIucmVnaXN0ZXJWaWV3KFwic3RhY2tcIixNU1N0YWNrVmlldyl9KGpRdWVyeSksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgcGVyc3BlY3RpdmU9MmUzO3dpbmRvdy5NU0ZvY3VzVmlldz1mdW5jdGlvbihvcHRpb25zKXtNU1dhdmVWaWV3LmNhbGwodGhpcyxvcHRpb25zKSx0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKFwibXMtd2F2ZS12aWV3XCIpLmFkZENsYXNzKFwibXMtZm9jdXMtdmlld1wiKSx0aGlzLm9wdGlvbnMuY2VudGVyU3BhY2U9dGhpcy5vcHRpb25zLmNlbnRlclNwYWNlfHwxfSxNU0ZvY3VzVmlldy5leHRlbmQoTVNXYXZlVmlldyksTVNGb2N1c1ZpZXcuXzNkcmVxPSEwLE1TRm9jdXNWaWV3Ll9mYWxsYmFjaz1NU0ZhZGVCYXNpY1ZpZXc7e3ZhciBwPU1TRm9jdXNWaWV3LnByb3RvdHlwZTtNU1dhdmVWaWV3LnByb3RvdHlwZX1wLl9fY2FsY3ZpZXc9ZnVuY3Rpb24oeix3KXt2YXIgYT13LzIqei8oeitwZXJzcGVjdGl2ZSk7cmV0dXJuIGEqKHorcGVyc3BlY3RpdmUpL3BlcnNwZWN0aXZlfSxwLl9fdXBkYXRlU2xpZGVzSG9yaXo9ZnVuY3Rpb24oc2xpZGUsZGlzdGFuY2Upe3ZhciB2YWx1ZT1NYXRoLmFicygxMDAqZGlzdGFuY2UvdGhpcy5fX3dpZHRoKTt2YWx1ZT0xNSotTWF0aC5taW4odmFsdWUsMTAwKSxzbGlkZS4kZWxlbWVudC5jc3Mod2luZG93Ll9jc3NwZngrXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZVooXCIrKHZhbHVlKzEpK1wicHgpIHJvdGF0ZVkoMC4wMWRlZykgdHJhbnNsYXRlWChcIisoMD5kaXN0YW5jZT8xOi0xKSotdGhpcy5fX2NhbGN2aWV3KHZhbHVlLHRoaXMuX193aWR0aCkqdGhpcy5vcHRpb25zLmNlbnRlclNwYWNlK1wicHgpXCIpfSxwLl9fdXBkYXRlU2xpZGVzVmVydGljPWZ1bmN0aW9uKHNsaWRlLGRpc3RhbmNlKXt2YXIgdmFsdWU9TWF0aC5hYnMoMTAwKmRpc3RhbmNlL3RoaXMuX193aWR0aCk7dmFsdWU9MTUqLU1hdGgubWluKHZhbHVlLDEwMCksc2xpZGUuJGVsZW1lbnQuY3NzKHdpbmRvdy5fY3NzcGZ4K1widHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGVaKFwiKyh2YWx1ZSsxKStcInB4KSByb3RhdGVZKDAuMDFkZWcpIHRyYW5zbGF0ZVkoXCIrKDA+ZGlzdGFuY2U/MTotMSkqLXRoaXMuX19jYWxjdmlldyh2YWx1ZSx0aGlzLl9fd2lkdGgpKnRoaXMub3B0aW9ucy5jZW50ZXJTcGFjZStcInB4KVwiKX0sTVNTbGlkZUNvbnRyb2xsZXIucmVnaXN0ZXJWaWV3KFwiZm9jdXNcIixNU0ZvY3VzVmlldyl9KCksZnVuY3Rpb24oKXt3aW5kb3cuTVNQYXJ0aWFsV2F2ZVZpZXc9ZnVuY3Rpb24ob3B0aW9ucyl7TVNXYXZlVmlldy5jYWxsKHRoaXMsb3B0aW9ucyksdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyhcIm1zLXdhdmUtdmlld1wiKS5hZGRDbGFzcyhcIm1zLXBhcnRpYWwtd2F2ZS12aWV3XCIpfSxNU1BhcnRpYWxXYXZlVmlldy5leHRlbmQoTVNXYXZlVmlldyksTVNQYXJ0aWFsV2F2ZVZpZXcuXzNkcmVxPSEwLE1TUGFydGlhbFdhdmVWaWV3Ll9mYWxsYmFjaz1NU0ZhZGVCYXNpY1ZpZXc7e3ZhciBwPU1TUGFydGlhbFdhdmVWaWV3LnByb3RvdHlwZTtNU1dhdmVWaWV3LnByb3RvdHlwZX1wLl9fdXBkYXRlU2xpZGVzSG9yaXo9ZnVuY3Rpb24oc2xpZGUsZGlzdGFuY2Upe3ZhciB2YWx1ZT1NYXRoLmFicygxMDAqZGlzdGFuY2UvdGhpcy5fX3dpZHRoKTtzbGlkZS5oYXNCRyYmc2xpZGUuJGJnX2ltZy5jc3MoXCJvcGFjaXR5XCIsKDEwMC1NYXRoLmFicygxMjAqZGlzdGFuY2UvdGhpcy5fX3dpZHRoLzMpKS8xMDApLHNsaWRlLiRlbGVtZW50LmNzcyh3aW5kb3cuX2Nzc3BmeCtcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlWihcIiszKi12YWx1ZStcInB4KSByb3RhdGVZKDAuMDFkZWcpIHRyYW5zbGF0ZVgoXCIrLjc1KmRpc3RhbmNlK1wicHgpXCIpfSxwLl9fdXBkYXRlU2xpZGVzVmVydGljPWZ1bmN0aW9uKHNsaWRlLGRpc3RhbmNlKXt2YXIgdmFsdWU9TWF0aC5hYnMoMTAwKmRpc3RhbmNlL3RoaXMuX193aWR0aCk7c2xpZGUuaGFzQkcmJnNsaWRlLiRiZ19pbWcuY3NzKFwib3BhY2l0eVwiLCgxMDAtTWF0aC5hYnMoMTIwKmRpc3RhbmNlL3RoaXMuX193aWR0aC8zKSkvMTAwKSxzbGlkZS4kZWxlbWVudC5jc3Mod2luZG93Ll9jc3NwZngrXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZVooXCIrMyotdmFsdWUrXCJweCkgcm90YXRlWSgwLjAxZGVnKSB0cmFuc2xhdGVZKFwiKy43NSpkaXN0YW5jZStcInB4KVwiKX0sTVNTbGlkZUNvbnRyb2xsZXIucmVnaXN0ZXJWaWV3KFwicGFydGlhbFdhdmVcIixNU1BhcnRpYWxXYXZlVmlldyl9KCksZnVuY3Rpb24oJCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIEJhc2VDb250cm9sPWZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zPXtwcmVmaXg6XCJtcy1cIixhdXRvaGlkZTohMCxvdmVyVmlkZW86ITAsY3VzdG9tQ2xhc3M6bnVsbH19LHA9QmFzZUNvbnRyb2wucHJvdG90eXBlO3Auc2xpZGVBY3Rpb249ZnVuY3Rpb24oKXt9LHAuc2V0dXA9ZnVuY3Rpb24oKXt0aGlzLmNvbnQ9dGhpcy5vcHRpb25zLmluc2VydFRvPyQodGhpcy5vcHRpb25zLmluc2VydFRvKTp0aGlzLnNsaWRlci4kY29udHJvbHNDb250LHRoaXMub3B0aW9ucy5vdmVyVmlkZW98fHRoaXMuX2hpZGVPbnZpZGVvU3RhcnRzKCl9LHAuY2hlY2tIaWRlVW5kZXI9ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuaGlkZVVuZGVyJiYodGhpcy5uZWVkc1JlYWxpZ249IXRoaXMub3B0aW9ucy5pbnNldFRvJiYoXCJsZWZ0XCI9PT10aGlzLm9wdGlvbnMuYWxpZ258fFwicmlnaHRcIj09PXRoaXMub3B0aW9ucy5hbGlnbikmJnRoaXMub3B0aW9ucy5pbnNldD09PSExLCQod2luZG93KS5iaW5kKFwicmVzaXplXCIse3RoYXQ6dGhpc30sdGhpcy5vblJlc2l6ZSksdGhpcy5vblJlc2l6ZSgpKX0scC5vblJlc2l6ZT1mdW5jdGlvbihldmVudCl7dmFyIHRoYXQ9ZXZlbnQmJmV2ZW50LmRhdGEudGhhdHx8dGhpcyx3PXdpbmRvdy5pbm5lcldpZHRoO3c8PXRoYXQub3B0aW9ucy5oaWRlVW5kZXImJiF0aGF0LmRldGFjaGVkPyh0aGF0LmhpZGUoITApLHRoYXQuZGV0YWNoZWQ9ITAsdGhhdC5vbkRldGFjaCgpKTp3Pj10aGF0Lm9wdGlvbnMuaGlkZVVuZGVyJiZ0aGF0LmRldGFjaGVkJiYodGhhdC5kZXRhY2hlZD0hMSx0aGF0LnZpc2libGUoKSx0aGF0Lm9uQXBwZW5kKCkpfSxwLmNyZWF0ZT1mdW5jdGlvbigpe3RoaXMub3B0aW9ucy5hdXRvaGlkZSYmKHRoaXMuaGlkZSghMCksdGhpcy5zbGlkZXIuJGNvbnRyb2xzQ29udC5tb3VzZWVudGVyKCQucHJveHkodGhpcy5fb25Nb3VzZUVudGVyLHRoaXMpKS5tb3VzZWxlYXZlKCQucHJveHkodGhpcy5fb25Nb3VzZUxlYXZlLHRoaXMpKS5tb3VzZWRvd24oJC5wcm94eSh0aGlzLl9vbk1vdXNlRG93bix0aGlzKSksdGhpcy4kZWxlbWVudCYmdGhpcy4kZWxlbWVudC5tb3VzZWVudGVyKCQucHJveHkodGhpcy5fb25Nb3VzZUVudGVyLHRoaXMpKS5tb3VzZWxlYXZlKCQucHJveHkodGhpcy5fb25Nb3VzZUxlYXZlLHRoaXMpKS5tb3VzZWRvd24oJC5wcm94eSh0aGlzLl9vbk1vdXNlRG93bix0aGlzKSksJChkb2N1bWVudCkubW91c2V1cCgkLnByb3h5KHRoaXMuX29uTW91c2VVcCx0aGlzKSkpLHRoaXMub3B0aW9ucy5hbGlnbiYmdGhpcy4kZWxlbWVudC5hZGRDbGFzcyhcIm1zLWFsaWduLVwiK3RoaXMub3B0aW9ucy5hbGlnbiksdGhpcy5vcHRpb25zLmN1c3RvbUNsYXNzJiZ0aGlzLiRlbGVtZW50JiZ0aGlzLiRlbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jdXN0b21DbGFzcyl9LHAuX29uTW91c2VFbnRlcj1mdW5jdGlvbigpe3RoaXMuX2Rpc2FibGVBSHx8dGhpcy5tZG93bnx8dGhpcy52aXNpYmxlKCksdGhpcy5tbGVhdmU9ITF9LHAuX29uTW91c2VMZWF2ZT1mdW5jdGlvbigpe3RoaXMubWRvd258fHRoaXMuaGlkZSgpLHRoaXMubWxlYXZlPSEwfSxwLl9vbk1vdXNlRG93bj1mdW5jdGlvbigpe3RoaXMubWRvd249ITB9LHAuX29uTW91c2VVcD1mdW5jdGlvbigpe3RoaXMubWRvd24mJnRoaXMubWxlYXZlJiZ0aGlzLmhpZGUoKSx0aGlzLm1kb3duPSExfSxwLm9uQXBwZW5kPWZ1bmN0aW9uKCl7dGhpcy5uZWVkc1JlYWxpZ24mJnRoaXMuc2xpZGVyLl9yZWFsaWduQ29udHJvbHMoKX0scC5vbkRldGFjaD1mdW5jdGlvbigpe3RoaXMubmVlZHNSZWFsaWduJiZ0aGlzLnNsaWRlci5fcmVhbGlnbkNvbnRyb2xzKCl9LHAuX2hpZGVPbnZpZGVvU3RhcnRzPWZ1bmN0aW9uKCl7dmFyIHRoYXQ9dGhpczt0aGlzLnNsaWRlci5hcGkuYWRkRXZlbnRMaXN0ZW5lcihNU1NsaWRlckV2ZW50LlZJREVPX1BMQVksZnVuY3Rpb24oKXt0aGF0Ll9kaXNhYmxlQUg9ITAsdGhhdC5oaWRlKCl9KSx0aGlzLnNsaWRlci5hcGkuYWRkRXZlbnRMaXN0ZW5lcihNU1NsaWRlckV2ZW50LlZJREVPX0NMT1NFLGZ1bmN0aW9uKCl7dGhhdC5fZGlzYWJsZUFIPSExLHRoYXQudmlzaWJsZSgpfSl9LHAuaGlkZT1mdW5jdGlvbihmYXN0KXtpZihmYXN0KXRoaXMuJGVsZW1lbnQuY3NzKFwib3BhY2l0eVwiLDApLHRoaXMuJGVsZW1lbnQuY3NzKFwiZGlzcGxheVwiLFwibm9uZVwiKTtlbHNle2NsZWFyVGltZW91dCh0aGlzLmhpZGVUbyk7dmFyICRlbGVtZW50PXRoaXMuJGVsZW1lbnQ7dGhpcy5oaWRlVG89c2V0VGltZW91dChmdW5jdGlvbigpe0NUd2Vlbi5mYWRlT3V0KCRlbGVtZW50LDQwMCwhMSl9LDIwKX10aGlzLiRlbGVtZW50LmFkZENsYXNzKFwibXMtY3RybC1oaWRlXCIpfSxwLnZpc2libGU9ZnVuY3Rpb24oKXt0aGlzLmRldGFjaGVkfHwoY2xlYXJUaW1lb3V0KHRoaXMuaGlkZVRvKSx0aGlzLiRlbGVtZW50LmNzcyhcImRpc3BsYXlcIixcIlwiKSxDVHdlZW4uZmFkZUluKHRoaXMuJGVsZW1lbnQsNDAwLCExKSx0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKFwibXMtY3RybC1oaWRlXCIpKX0scC5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zJiZ0aGlzLm9wdGlvbnMuaGlkZVVuZGVyJiYkKHdpbmRvdykudW5iaW5kKFwicmVzaXplXCIsdGhpcy5vblJlc2l6ZSl9LHdpbmRvdy5CYXNlQ29udHJvbD1CYXNlQ29udHJvbH0oalF1ZXJ5KSxmdW5jdGlvbigkKXtcInVzZSBzdHJpY3RcIjt2YXIgTVNBcnJvd3M9ZnVuY3Rpb24ob3B0aW9ucyl7QmFzZUNvbnRyb2wuY2FsbCh0aGlzKSwkLmV4dGVuZCh0aGlzLm9wdGlvbnMsb3B0aW9ucyl9O01TQXJyb3dzLmV4dGVuZChCYXNlQ29udHJvbCk7dmFyIHA9TVNBcnJvd3MucHJvdG90eXBlLF9zdXBlcj1CYXNlQ29udHJvbC5wcm90b3R5cGU7cC5zZXR1cD1mdW5jdGlvbigpe3ZhciB0aGF0PXRoaXM7dGhpcy4kbmV4dD0kKFwiPGRpdj48L2Rpdj5cIikuYWRkQ2xhc3ModGhpcy5vcHRpb25zLnByZWZpeCtcIm5hdi1uZXh0XCIpLmJpbmQoXCJjbGlja1wiLGZ1bmN0aW9uKCl7dGhhdC5zbGlkZXIuYXBpLm5leHQoITApfSksdGhpcy4kcHJldj0kKFwiPGRpdj48L2Rpdj5cIikuYWRkQ2xhc3ModGhpcy5vcHRpb25zLnByZWZpeCtcIm5hdi1wcmV2XCIpLmJpbmQoXCJjbGlja1wiLGZ1bmN0aW9uKCl7dGhhdC5zbGlkZXIuYXBpLnByZXZpb3VzKCEwKX0pLF9zdXBlci5zZXR1cC5jYWxsKHRoaXMpLHRoaXMuY29udC5hcHBlbmQodGhpcy4kbmV4dCksdGhpcy5jb250LmFwcGVuZCh0aGlzLiRwcmV2KSx0aGlzLmNoZWNrSGlkZVVuZGVyKCl9LHAuaGlkZT1mdW5jdGlvbihmYXN0KXtyZXR1cm4gZmFzdD8odGhpcy4kcHJldi5jc3MoXCJvcGFjaXR5XCIsMCkuY3NzKFwiZGlzcGxheVwiLFwibm9uZVwiKSx2b2lkIHRoaXMuJG5leHQuY3NzKFwib3BhY2l0eVwiLDApLmNzcyhcImRpc3BsYXlcIixcIm5vbmVcIikpOihDVHdlZW4uZmFkZU91dCh0aGlzLiRwcmV2LDQwMCwhMSksQ1R3ZWVuLmZhZGVPdXQodGhpcy4kbmV4dCw0MDAsITEpLHRoaXMuJHByZXYuYWRkQ2xhc3MoXCJtcy1jdHJsLWhpZGVcIiksdm9pZCB0aGlzLiRuZXh0LmFkZENsYXNzKFwibXMtY3RybC1oaWRlXCIpKX0scC52aXNpYmxlPWZ1bmN0aW9uKCl7dGhpcy5kZXRhY2hlZHx8KENUd2Vlbi5mYWRlSW4odGhpcy4kcHJldiw0MDApLENUd2Vlbi5mYWRlSW4odGhpcy4kbmV4dCw0MDApLHRoaXMuJHByZXYucmVtb3ZlQ2xhc3MoXCJtcy1jdHJsLWhpZGVcIikuY3NzKFwiZGlzcGxheVwiLFwiXCIpLHRoaXMuJG5leHQucmVtb3ZlQ2xhc3MoXCJtcy1jdHJsLWhpZGVcIikuY3NzKFwiZGlzcGxheVwiLFwiXCIpKX0scC5kZXN0cm95PWZ1bmN0aW9uKCl7X3N1cGVyLmRlc3Ryb3koKSx0aGlzLiRuZXh0LnJlbW92ZSgpLHRoaXMuJHByZXYucmVtb3ZlKCl9LHdpbmRvdy5NU0Fycm93cz1NU0Fycm93cyxNU1NsaWRlQ29udHJvbGxlci5yZWdpc3RlckNvbnRyb2woXCJhcnJvd3NcIixNU0Fycm93cyl9KGpRdWVyeSksZnVuY3Rpb24oJCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIE1TVGh1bWJsaXN0PWZ1bmN0aW9uKG9wdGlvbnMpe0Jhc2VDb250cm9sLmNhbGwodGhpcyksdGhpcy5vcHRpb25zLmRpcj1cImhcIix0aGlzLm9wdGlvbnMud2hlZWw9XCJ2XCI9PT1vcHRpb25zLmRpcix0aGlzLm9wdGlvbnMuYXJyb3dzPSExLHRoaXMub3B0aW9ucy5zcGVlZD0xNyx0aGlzLm9wdGlvbnMuYWxpZ249bnVsbCx0aGlzLm9wdGlvbnMuaW5zZXQ9ITEsdGhpcy5vcHRpb25zLm1hcmdpbj0xMCx0aGlzLm9wdGlvbnMuc3BhY2U9MTAsdGhpcy5vcHRpb25zLndpZHRoPTEwMCx0aGlzLm9wdGlvbnMuaGVpZ2h0PTEwMCx0aGlzLm9wdGlvbnMudHlwZT1cInRodW1ic1wiLHRoaXMub3B0aW9ucy5ob3Zlcj0hMSwkLmV4dGVuZCh0aGlzLm9wdGlvbnMsb3B0aW9ucyksdGhpcy50aHVtYnM9W10sdGhpcy5pbmRleF9jb3VudD0wLHRoaXMuX19kaW1lbj1cImhcIj09PXRoaXMub3B0aW9ucy5kaXI/XCJ3aWR0aFwiOlwiaGVpZ2h0XCIsdGhpcy5fX2FsaWduc2l6ZT1cImhcIj09PXRoaXMub3B0aW9ucy5kaXI/XCJoZWlnaHRcIjpcIndpZHRoXCIsdGhpcy5fX2pkaW1lbj1cImhcIj09PXRoaXMub3B0aW9ucy5kaXI/XCJvdXRlcldpZHRoXCI6XCJvdXRlckhlaWdodFwiLHRoaXMuX19wb3M9XCJoXCI9PT10aGlzLm9wdGlvbnMuZGlyP1wibGVmdFwiOlwidG9wXCIsdGhpcy5jbGlja19lbmFibGU9ITB9O01TVGh1bWJsaXN0LmV4dGVuZChCYXNlQ29udHJvbCk7dmFyIHA9TVNUaHVtYmxpc3QucHJvdG90eXBlLF9zdXBlcj1CYXNlQ29udHJvbC5wcm90b3R5cGU7cC5zZXR1cD1mdW5jdGlvbigpe2lmKHRoaXMuJGVsZW1lbnQ9JChcIjxkaXY+PC9kaXY+XCIpLmFkZENsYXNzKHRoaXMub3B0aW9ucy5wcmVmaXgrXCJ0aHVtYi1saXN0XCIpLFwidGFic1wiPT09dGhpcy5vcHRpb25zLnR5cGUmJnRoaXMuJGVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLnByZWZpeCtcInRhYnNcIiksdGhpcy4kZWxlbWVudC5hZGRDbGFzcyhcIm1zLWRpci1cIit0aGlzLm9wdGlvbnMuZGlyKSxfc3VwZXIuc2V0dXAuY2FsbCh0aGlzKSx0aGlzLiRlbGVtZW50LmFwcGVuZFRvKHRoaXMuc2xpZGVyLiRjb250cm9sc0NvbnQ9PT10aGlzLmNvbnQ/dGhpcy5zbGlkZXIuJGVsZW1lbnQ6dGhpcy5jb250KSx0aGlzLiR0aHVtYnNjb250PSQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyhcIm1zLXRodW1icy1jb250XCIpLmFwcGVuZFRvKHRoaXMuJGVsZW1lbnQpLHRoaXMub3B0aW9ucy5hcnJvd3Mpe3ZhciB0aGF0PXRoaXM7dGhpcy4kZndkPSQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyhcIm1zLXRodW1ibGlzdC1md2RcIikuYXBwZW5kVG8odGhpcy4kZWxlbWVudCkuY2xpY2soZnVuY3Rpb24oKXt0aGF0LmNvbnRyb2xsZXIucHVzaCgtMTUpfSksdGhpcy4kYndkPSQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyhcIm1zLXRodW1ibGlzdC1id2RcIikuYXBwZW5kVG8odGhpcy4kZWxlbWVudCkuY2xpY2soZnVuY3Rpb24oKXt0aGF0LmNvbnRyb2xsZXIucHVzaCgxNSl9KX1pZighdGhpcy5vcHRpb25zLmluc2V0VG8mJnRoaXMub3B0aW9ucy5hbGlnbil7dmFyIGFsaWduPXRoaXMub3B0aW9ucy5hbGlnbjt0aGlzLm9wdGlvbnMuaW5zZXQ/dGhpcy4kZWxlbWVudC5jc3MoYWxpZ24sdGhpcy5vcHRpb25zLm1hcmdpbik6XCJ0b3BcIj09PWFsaWduP3RoaXMuJGVsZW1lbnQuZGV0YWNoKCkucHJlcGVuZFRvKHRoaXMuc2xpZGVyLiRlbGVtZW50KS5jc3Moe1wibWFyZ2luLWJvdHRvbVwiOnRoaXMub3B0aW9ucy5tYXJnaW4scG9zaXRpb246XCJyZWxhdGl2ZVwifSk6XCJib3R0b21cIj09PWFsaWduP3RoaXMuJGVsZW1lbnQuY3NzKHtcIm1hcmdpbi10b3BcIjp0aGlzLm9wdGlvbnMubWFyZ2luLHBvc2l0aW9uOlwicmVsYXRpdmVcIn0pOih0aGlzLnNsaWRlci5hcGkuYWRkRXZlbnRMaXN0ZW5lcihNU1NsaWRlckV2ZW50LlJFU0VSVkVEX1NQQUNFX0NIQU5HRSx0aGlzLmFsaWduLHRoaXMpLHRoaXMuYWxpZ24oKSksXCJ2XCI9PT10aGlzLm9wdGlvbnMuZGlyP3RoaXMuJGVsZW1lbnQud2lkdGgodGhpcy5vcHRpb25zLndpZHRoKTp0aGlzLiRlbGVtZW50LmhlaWdodCh0aGlzLm9wdGlvbnMuaGVpZ2h0KX10aGlzLmNoZWNrSGlkZVVuZGVyKCl9LHAuYWxpZ249ZnVuY3Rpb24oKXtpZighdGhpcy5kZXRhY2hlZCl7dmFyIGFsaWduPXRoaXMub3B0aW9ucy5hbGlnbixwb3M9dGhpcy5zbGlkZXIucmVzZXJ2ZVNwYWNlKGFsaWduLHRoaXMub3B0aW9uc1t0aGlzLl9fYWxpZ25zaXplXSsyKnRoaXMub3B0aW9ucy5tYXJnaW4pO3RoaXMuJGVsZW1lbnQuY3NzKGFsaWduLC1wb3MtdGhpcy5vcHRpb25zW3RoaXMuX19hbGlnbnNpemVdLXRoaXMub3B0aW9ucy5tYXJnaW4pfX0scC5zbGlkZUFjdGlvbj1mdW5jdGlvbihzbGlkZSl7dmFyIHRodW1iX2VsZT1zbGlkZS4kZWxlbWVudC5maW5kKFwiLm1zLXRodW1iXCIpLHRoYXQ9dGhpcyx0aHVtYl9mcmFtZT0kKFwiPGRpdj48L2Rpdj5cIikuYWRkQ2xhc3MoXCJtcy10aHVtYi1mcmFtZVwiKS5hcHBlbmQodGh1bWJfZWxlKS5hcHBlbmQoJCgnPGRpdiBjbGFzcz1cIm1zLXRodW1iLW9sXCI+PC9kaXY+JykpLmJpbmQodGhpcy5vcHRpb25zLmhvdmVyP1wiaG92ZXJcIjpcImNsaWNrXCIsZnVuY3Rpb24oKXt0aGF0LmNoYW5nZVNsaWRlKHRodW1iX2ZyYW1lKX0pO2lmKHRoaXMub3B0aW9ucy5hbGlnbiYmdGh1bWJfZnJhbWUud2lkdGgodGhpcy5vcHRpb25zLndpZHRoLShcInZcIj09PXRoaXMub3B0aW9ucy5kaXImJlwidGFic1wiPT09dGhpcy5vcHRpb25zLnR5cGU/MTI6MCkpLmhlaWdodCh0aGlzLm9wdGlvbnMuaGVpZ2h0KS5jc3MoXCJtYXJnaW4tXCIrKFwidlwiPT09dGhpcy5vcHRpb25zLmRpcj9cImJvdHRvbVwiOlwicmlnaHRcIiksdGhpcy5vcHRpb25zLnNwYWNlKSx0aHVtYl9mcmFtZVswXS5pbmRleD10aGlzLmluZGV4X2NvdW50KyssdGhpcy4kdGh1bWJzY29udC5hcHBlbmQodGh1bWJfZnJhbWUpLHRoaXMub3B0aW9ucy5maWxsTW9kZSYmdGh1bWJfZWxlLmlzKFwiaW1nXCIpKXt2YXIgYWxpZ25lcj1uZXcgd2luZG93Lk1TQWxpZ25lcih0aGlzLm9wdGlvbnMuZmlsbE1vZGUsdGh1bWJfZnJhbWUsdGh1bWJfZWxlKTt0aHVtYl9lbGVbMF0uYWxpZ25lcj1hbGlnbmVyLHRodW1iX2VsZS5vbmUoXCJsb2FkXCIsZnVuY3Rpb24oKXt2YXIgJHRoaXM9JCh0aGlzKTskdGhpc1swXS5hbGlnbmVyLmluaXQoJHRoaXMud2lkdGgoKSwkdGhpcy5oZWlnaHQoKSksJHRoaXNbMF0uYWxpZ25lci5hbGlnbigpfSkuZWFjaCgkLmpxTG9hZEZpeCl9JC5icm93c2VyLm1zaWUmJnRodW1iX2VsZS5vbihcImRyYWdzdGFydFwiLGZ1bmN0aW9uKGV2ZW50KXtldmVudC5wcmV2ZW50RGVmYXVsdCgpfSksdGhpcy50aHVtYnMucHVzaCh0aHVtYl9mcmFtZSl9LHAuY3JlYXRlPWZ1bmN0aW9uKCl7X3N1cGVyLmNyZWF0ZS5jYWxsKHRoaXMpLHRoaXMuX190cmFuc2xhdGVfZW5kPXdpbmRvdy5fY3NzM2Q/XCIgdHJhbnNsYXRlWigwcHgpXCI6XCJcIix0aGlzLmNvbnRyb2xsZXI9bmV3IENvbnRyb2xsZXIoMCwwLHtzbmFwcGluZ01pblNwZWVkOjIsZnJpY3Rpb246KDEwMC0uNSp0aGlzLm9wdGlvbnMuc3BlZWQpLzEwMH0pLHRoaXMuY29udHJvbGxlci5yZW5kZXJDYWxsYmFjayhcImhcIj09PXRoaXMub3B0aW9ucy5kaXI/dGhpcy5faE1vdmU6dGhpcy5fdk1vdmUsdGhpcyk7dmFyIHRoYXQ9dGhpczt0aGlzLnJlc2l6ZV9saXN0ZW5lcj1mdW5jdGlvbigpe3RoYXQuX19yZXNpemUoKX0sJCh3aW5kb3cpLmJpbmQoXCJyZXNpemVcIix0aGlzLnJlc2l6ZV9saXN0ZW5lciksdGhpcy50aHVtYlNpemU9dGhpcy50aHVtYnNbMF1bdGhpcy5fX2pkaW1lbl0oITApLHRoaXMuc2V0dXBTd2lwZSgpLHRoaXMuX19yZXNpemUoKTt2YXIgdGhhdD10aGlzO3RoaXMub3B0aW9ucy53aGVlbCYmKHRoaXMud2hlZWxsaXN0ZW5lcj1mdW5jdGlvbihldmVudCl7dmFyIGU9d2luZG93LmV2ZW50fHxldmVudC5vcmdpbmFsRXZlbnR8fGV2ZW50LGRlbHRhPU1hdGgubWF4KC0xLE1hdGgubWluKDEsZS53aGVlbERlbHRhfHwtZS5kZXRhaWwpKTtyZXR1cm4gdGhhdC5jb250cm9sbGVyLnB1c2goMTAqLWRlbHRhKSwhMX0sJC5icm93c2VyLm1vemlsbGE/dGhpcy4kZWxlbWVudFswXS5hZGRFdmVudExpc3RlbmVyKFwiRE9NTW91c2VTY3JvbGxcIix0aGlzLndoZWVsbGlzdGVuZXIpOnRoaXMuJGVsZW1lbnQuYmluZChcIm1vdXNld2hlZWxcIix0aGlzLndoZWVsbGlzdGVuZXIpKSx0aGlzLnNsaWRlci5hcGkuYWRkRXZlbnRMaXN0ZW5lcihNU1NsaWRlckV2ZW50LkNIQU5HRV9TVEFSVCx0aGlzLnVwZGF0ZSx0aGlzKSx0aGlzLnNsaWRlci5hcGkuYWRkRXZlbnRMaXN0ZW5lcihNU1NsaWRlckV2ZW50LkhBUkRfVVBEQVRFLHRoaXMucmVhbGlnblRodW1icyx0aGlzKSx0aGlzLmNpbmRleD10aGlzLnNsaWRlci5hcGkuaW5kZXgoKSx0aGlzLnNlbGVjdCh0aGlzLnRodW1ic1t0aGlzLmNpbmRleF0pfSxwLl9oTW92ZT1mdW5jdGlvbihjb250cm9sbGVyLHZhbHVlKXtyZXR1cm4gdGhpcy5fX2NvbnRQb3M9dmFsdWUsd2luZG93Ll9jc3NhbmltP3ZvaWQodGhpcy4kdGh1bWJzY29udFswXS5zdHlsZVt3aW5kb3cuX2pjc3NwZngrXCJUcmFuc2Zvcm1cIl09XCJ0cmFuc2xhdGVYKFwiKy12YWx1ZStcInB4KVwiK3RoaXMuX190cmFuc2xhdGVfZW5kKTp2b2lkKHRoaXMuJHRodW1ic2NvbnRbMF0uc3R5bGUubGVmdD0tdmFsdWUrXCJweFwiKX0scC5fdk1vdmU9ZnVuY3Rpb24oY29udHJvbGxlcix2YWx1ZSl7cmV0dXJuIHRoaXMuX19jb250UG9zPXZhbHVlLHdpbmRvdy5fY3NzYW5pbT92b2lkKHRoaXMuJHRodW1ic2NvbnRbMF0uc3R5bGVbd2luZG93Ll9qY3NzcGZ4K1wiVHJhbnNmb3JtXCJdPVwidHJhbnNsYXRlWShcIistdmFsdWUrXCJweClcIit0aGlzLl9fdHJhbnNsYXRlX2VuZCk6dm9pZCh0aGlzLiR0aHVtYnNjb250WzBdLnN0eWxlLnRvcD0tdmFsdWUrXCJweFwiKX0scC5zZXR1cFN3aXBlPWZ1bmN0aW9uKCl7dGhpcy5zd2lwZUNvbnRyb2w9bmV3IGF2ZXJ0YS5Ub3VjaFN3aXBlKHRoaXMuJGVsZW1lbnQpLHRoaXMuc3dpcGVDb250cm9sLnN3aXBlVHlwZT1cImhcIj09PXRoaXMub3B0aW9ucy5kaXI/XCJob3Jpem9udGFsXCI6XCJ2ZXJ0aWNhbFwiO3ZhciB0aGF0PXRoaXM7dGhpcy5zd2lwZUNvbnRyb2wub25Td2lwZT1cImhcIj09PXRoaXMub3B0aW9ucy5kaXI/ZnVuY3Rpb24oc3RhdHVzKXt0aGF0Lmhvcml6U3dpcGVNb3ZlKHN0YXR1cyl9OmZ1bmN0aW9uKHN0YXR1cyl7dGhhdC52ZXJ0U3dpcGVNb3ZlKHN0YXR1cyl9fSxwLnZlcnRTd2lwZU1vdmU9ZnVuY3Rpb24oc3RhdHVzKXtpZighdGhpcy5kVG91Y2gpe3ZhciBwaGFzZT1zdGF0dXMucGhhc2U7aWYoXCJzdGFydFwiPT09cGhhc2UpdGhpcy5jb250cm9sbGVyLnN0b3AoKTtlbHNlIGlmKFwibW92ZVwiPT09cGhhc2UpdGhpcy5jb250cm9sbGVyLmRyYWcoc3RhdHVzLm1vdmVZKTtlbHNlIGlmKFwiZW5kXCI9PT1waGFzZXx8XCJjYW5jZWxcIj09PXBoYXNlKXt2YXIgc3BlZWQ9TWF0aC5hYnMoc3RhdHVzLmRpc3RhbmNlWS9zdGF0dXMuZHVyYXRpb24qNTAvMyk7c3BlZWQ+LjE/dGhpcy5jb250cm9sbGVyLnB1c2goLXN0YXR1cy5kaXN0YW5jZVkvc3RhdHVzLmR1cmF0aW9uKjUwLzMpOih0aGlzLmNsaWNrX2VuYWJsZT0hMCx0aGlzLmNvbnRyb2xsZXIuY2FuY2VsKCkpfX19LHAuaG9yaXpTd2lwZU1vdmU9ZnVuY3Rpb24oc3RhdHVzKXtpZighdGhpcy5kVG91Y2gpe3ZhciBwaGFzZT1zdGF0dXMucGhhc2U7aWYoXCJzdGFydFwiPT09cGhhc2UpdGhpcy5jb250cm9sbGVyLnN0b3AoKSx0aGlzLmNsaWNrX2VuYWJsZT0hMTtlbHNlIGlmKFwibW92ZVwiPT09cGhhc2UpdGhpcy5jb250cm9sbGVyLmRyYWcoc3RhdHVzLm1vdmVYKTtlbHNlIGlmKFwiZW5kXCI9PT1waGFzZXx8XCJjYW5jZWxcIj09PXBoYXNlKXt2YXIgc3BlZWQ9TWF0aC5hYnMoc3RhdHVzLmRpc3RhbmNlWC9zdGF0dXMuZHVyYXRpb24qNTAvMyk7c3BlZWQ+LjE/dGhpcy5jb250cm9sbGVyLnB1c2goLXN0YXR1cy5kaXN0YW5jZVgvc3RhdHVzLmR1cmF0aW9uKjUwLzMpOih0aGlzLmNsaWNrX2VuYWJsZT0hMCx0aGlzLmNvbnRyb2xsZXIuY2FuY2VsKCkpfX19LHAudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIG5pbmRleD10aGlzLnNsaWRlci5hcGkuaW5kZXgoKTt0aGlzLmNpbmRleCE9PW5pbmRleCYmKG51bGwhPXRoaXMuY2luZGV4JiZ0aGlzLnVuc2VsZWN0KHRoaXMudGh1bWJzW3RoaXMuY2luZGV4XSksdGhpcy5jaW5kZXg9bmluZGV4LHRoaXMuc2VsZWN0KHRoaXMudGh1bWJzW3RoaXMuY2luZGV4XSksdGhpcy5kVG91Y2h8fHRoaXMudXBkYXRlVGh1bWJzY3JvbGwoKSl9LHAucmVhbGlnblRodW1icz1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQuZmluZChcIi5tcy10aHVtYlwiKS5lYWNoKGZ1bmN0aW9uKGluZGV4LHRodW1iKXt0aHVtYi5hbGlnbmVyJiZ0aHVtYi5hbGlnbmVyLmFsaWduKCl9KX0scC51cGRhdGVUaHVtYnNjcm9sbD1mdW5jdGlvbigpe3ZhciBwb3M9dGhpcy50aHVtYlNpemUqdGhpcy5jaW5kZXg7aWYoMC8wPT10aGlzLmNvbnRyb2xsZXIudmFsdWUmJih0aGlzLmNvbnRyb2xsZXIudmFsdWU9MCkscG9zLXRoaXMuY29udHJvbGxlci52YWx1ZTwwKXJldHVybiB2b2lkIHRoaXMuY29udHJvbGxlci5nb3RvU25hcCh0aGlzLmNpbmRleCwhMCk7aWYocG9zK3RoaXMudGh1bWJTaXplLXRoaXMuY29udHJvbGxlci52YWx1ZT50aGlzLiRlbGVtZW50W3RoaXMuX19kaW1lbl0oKSl7dmFyIGZpcnN0X3NuYXA9dGhpcy5jaW5kZXgtTWF0aC5mbG9vcih0aGlzLiRlbGVtZW50W3RoaXMuX19kaW1lbl0oKS90aGlzLnRodW1iU2l6ZSkrMTtyZXR1cm4gdm9pZCB0aGlzLmNvbnRyb2xsZXIuZ290b1NuYXAoZmlyc3Rfc25hcCwhMCl9fSxwLmNoYW5nZVNsaWRlPWZ1bmN0aW9uKHRodW1iKXt0aGlzLmNsaWNrX2VuYWJsZSYmdGhpcy5jaW5kZXghPT10aHVtYlswXS5pbmRleCYmdGhpcy5zbGlkZXIuYXBpLmdvdG9TbGlkZSh0aHVtYlswXS5pbmRleCl9LHAudW5zZWxlY3Q9ZnVuY3Rpb24oZWxlKXtlbGUucmVtb3ZlQ2xhc3MoXCJtcy10aHVtYi1mcmFtZS1zZWxlY3RlZFwiKX0scC5zZWxlY3Q9ZnVuY3Rpb24oZWxlKXtlbGUuYWRkQ2xhc3MoXCJtcy10aHVtYi1mcmFtZS1zZWxlY3RlZFwiKX0scC5fX3Jlc2l6ZT1mdW5jdGlvbigpe3ZhciBzaXplPXRoaXMuJGVsZW1lbnRbdGhpcy5fX2RpbWVuXSgpO2lmKHRoaXMubHMhPT1zaXplKXt0aGlzLmxzPXNpemUsdGhpcy50aHVtYlNpemU9dGhpcy50aHVtYnNbMF1bdGhpcy5fX2pkaW1lbl0oITApO3ZhciBsZW49dGhpcy5zbGlkZXIuYXBpLmNvdW50KCkqdGhpcy50aHVtYlNpemU7dGhpcy4kdGh1bWJzY29udFswXS5zdHlsZVt0aGlzLl9fZGltZW5dPWxlbitcInB4XCIsc2l6ZT49bGVuPyh0aGlzLmRUb3VjaD0hMCx0aGlzLmNvbnRyb2xsZXIuc3RvcCgpLHRoaXMuJHRodW1ic2NvbnRbMF0uc3R5bGVbdGhpcy5fX3Bvc109LjUqKHNpemUtbGVuKStcInB4XCIsdGhpcy4kdGh1bWJzY29udFswXS5zdHlsZVt3aW5kb3cuX2pjc3NwZngrXCJUcmFuc2Zvcm1cIl09XCJcIik6KHRoaXMuZFRvdWNoPSExLHRoaXMuY2xpY2tfZW5hYmxlPSEwLHRoaXMuJHRodW1ic2NvbnRbMF0uc3R5bGVbdGhpcy5fX3Bvc109XCJcIix0aGlzLmNvbnRyb2xsZXIuX21heF92YWx1ZT1sZW4tc2l6ZSx0aGlzLmNvbnRyb2xsZXIub3B0aW9ucy5zbmFwc2l6ZT10aGlzLnRodW1iU2l6ZSx0aGlzLnVwZGF0ZVRodW1ic2Nyb2xsKCkpfX0scC5kZXN0cm95PWZ1bmN0aW9uKCl7X3N1cGVyLmRlc3Ryb3koKSx0aGlzLm9wdGlvbnMud2hlZWwmJigkLmJyb3dzZXIubW96aWxsYT90aGlzLiRlbGVtZW50WzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJET01Nb3VzZVNjcm9sbFwiLHRoaXMud2hlZWxsaXN0ZW5lcik6dGhpcy4kZWxlbWVudC51bmJpbmQoXCJtb3VzZXdoZWVsXCIsdGhpcy53aGVlbGxpc3RlbmVyKSx0aGlzLndoZWVsbGlzdGVuZXI9bnVsbCksJCh3aW5kb3cpLnVuYmluZChcInJlc2l6ZVwiLHRoaXMucmVzaXplX2xpc3RlbmVyKSx0aGlzLiRlbGVtZW50LnJlbW92ZSgpLHRoaXMuc2xpZGVyLmFwaS5yZW1vdmVFdmVudExpc3RlbmVyKE1TU2xpZGVyRXZlbnQuUkVTRVJWRURfU1BBQ0VfQ0hBTkdFLHRoaXMuYWxpZ24sdGhpcyksdGhpcy5zbGlkZXIuYXBpLnJlbW92ZUV2ZW50TGlzdGVuZXIoTVNTbGlkZXJFdmVudC5DSEFOR0VfU1RBUlQsdGhpcy51cGRhdGUsdGhpcyl9LHdpbmRvdy5NU1RodW1ibGlzdD1NU1RodW1ibGlzdCxNU1NsaWRlQ29udHJvbGxlci5yZWdpc3RlckNvbnRyb2woXCJ0aHVtYmxpc3RcIixNU1RodW1ibGlzdCl9KGpRdWVyeSksZnVuY3Rpb24oJCl7XCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBNU0J1bGx0ZXM9ZnVuY3Rpb24ob3B0aW9ucyl7QmFzZUNvbnRyb2wuY2FsbCh0aGlzKSx0aGlzLm9wdGlvbnMuZGlyPVwiaFwiLHRoaXMub3B0aW9ucy5pbnNldD0hMCx0aGlzLm9wdGlvbnMubWFyZ2luPTEwLHRoaXMub3B0aW9ucy5zcGFjZT0xMCwkLmV4dGVuZCh0aGlzLm9wdGlvbnMsb3B0aW9ucyksdGhpcy5idWxsZXRzPVtdfTtNU0J1bGx0ZXMuZXh0ZW5kKEJhc2VDb250cm9sKTt2YXIgcD1NU0J1bGx0ZXMucHJvdG90eXBlLF9zdXBlcj1CYXNlQ29udHJvbC5wcm90b3R5cGU7cC5zZXR1cD1mdW5jdGlvbigpe2lmKF9zdXBlci5zZXR1cC5jYWxsKHRoaXMpLHRoaXMuJGVsZW1lbnQ9JChcIjxkaXY+PC9kaXY+XCIpLmFkZENsYXNzKHRoaXMub3B0aW9ucy5wcmVmaXgrXCJidWxsZXRzXCIpLmFkZENsYXNzKFwibXMtZGlyLVwiK3RoaXMub3B0aW9ucy5kaXIpLmFwcGVuZFRvKHRoaXMuY29udCksdGhpcy4kYnVsbGV0X2NvbnQ9JChcIjxkaXY+PC9kaXY+XCIpLmFkZENsYXNzKFwibXMtYnVsbGV0cy1jb3VudFwiKS5hcHBlbmRUbyh0aGlzLiRlbGVtZW50KSwhdGhpcy5vcHRpb25zLmluc2V0VG8mJnRoaXMub3B0aW9ucy5hbGlnbil7dmFyIGFsaWduPXRoaXMub3B0aW9ucy5hbGlnbjt0aGlzLm9wdGlvbnMuaW5zZXQmJnRoaXMuJGVsZW1lbnQuY3NzKGFsaWduLHRoaXMub3B0aW9ucy5tYXJnaW4pfXRoaXMuY2hlY2tIaWRlVW5kZXIoKX0scC5jcmVhdGU9ZnVuY3Rpb24oKXtfc3VwZXIuY3JlYXRlLmNhbGwodGhpcyk7dmFyIHRoYXQ9dGhpczt0aGlzLnNsaWRlci5hcGkuYWRkRXZlbnRMaXN0ZW5lcihNU1NsaWRlckV2ZW50LkNIQU5HRV9TVEFSVCx0aGlzLnVwZGF0ZSx0aGlzKSx0aGlzLmNpbmRleD10aGlzLnNsaWRlci5hcGkuaW5kZXgoKTtmb3IodmFyIGk9MDtpPHRoaXMuc2xpZGVyLmFwaS5jb3VudCgpOysraSl7dmFyIGJ1bGxldD0kKFwiPGRpdj48L2Rpdj5cIikuYWRkQ2xhc3MoXCJtcy1idWxsZXRcIik7YnVsbGV0WzBdLmluZGV4PWksYnVsbGV0Lm9uKFwiY2xpY2tcIixmdW5jdGlvbigpe3RoYXQuY2hhbmdlU2xpZGUodGhpcy5pbmRleCl9KSx0aGlzLiRidWxsZXRfY29udC5hcHBlbmQoYnVsbGV0KSx0aGlzLmJ1bGxldHMucHVzaChidWxsZXQpLFwiaFwiPT09dGhpcy5vcHRpb25zLmRpcj9idWxsZXQuY3NzKFwibWFyZ2luXCIsdGhpcy5vcHRpb25zLnNwYWNlLzIpOmJ1bGxldC5jc3MoXCJtYXJnaW5cIix0aGlzLm9wdGlvbnMuc3BhY2UpfVwiaFwiPT09dGhpcy5vcHRpb25zLmRpcj90aGlzLiRlbGVtZW50LndpZHRoKGJ1bGxldC5vdXRlcldpZHRoKCEwKSp0aGlzLnNsaWRlci5hcGkuY291bnQoKSk6dGhpcy4kZWxlbWVudC5jc3MoXCJtYXJnaW4tdG9wXCIsLXRoaXMuJGVsZW1lbnQub3V0ZXJIZWlnaHQoITApLzIpLHRoaXMuc2VsZWN0KHRoaXMuYnVsbGV0c1t0aGlzLmNpbmRleF0pfSxwLnVwZGF0ZT1mdW5jdGlvbigpe3ZhciBuaW5kZXg9dGhpcy5zbGlkZXIuYXBpLmluZGV4KCk7dGhpcy5jaW5kZXghPT1uaW5kZXgmJihudWxsIT10aGlzLmNpbmRleCYmdGhpcy51bnNlbGVjdCh0aGlzLmJ1bGxldHNbdGhpcy5jaW5kZXhdKSx0aGlzLmNpbmRleD1uaW5kZXgsdGhpcy5zZWxlY3QodGhpcy5idWxsZXRzW3RoaXMuY2luZGV4XSkpfSxwLmNoYW5nZVNsaWRlPWZ1bmN0aW9uKGluZGV4KXt0aGlzLmNpbmRleCE9PWluZGV4JiZ0aGlzLnNsaWRlci5hcGkuZ290b1NsaWRlKGluZGV4KX0scC51bnNlbGVjdD1mdW5jdGlvbihlbGUpe2VsZS5yZW1vdmVDbGFzcyhcIm1zLWJ1bGxldC1zZWxlY3RlZFwiKX0scC5zZWxlY3Q9ZnVuY3Rpb24oZWxlKXtlbGUuYWRkQ2xhc3MoXCJtcy1idWxsZXQtc2VsZWN0ZWRcIil9LHAuZGVzdHJveT1mdW5jdGlvbigpe19zdXBlci5kZXN0cm95KCksdGhpcy5zbGlkZXIuYXBpLnJlbW92ZUV2ZW50TGlzdGVuZXIoTVNTbGlkZXJFdmVudC5DSEFOR0VfU1RBUlQsdGhpcy51cGRhdGUsdGhpcyksdGhpcy4kZWxlbWVudC5yZW1vdmUoKX0sd2luZG93Lk1TQnVsbHRlcz1NU0J1bGx0ZXMsTVNTbGlkZUNvbnRyb2xsZXIucmVnaXN0ZXJDb250cm9sKFwiYnVsbGV0c1wiLE1TQnVsbHRlcyl9KGpRdWVyeSksZnVuY3Rpb24oJCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIE1TU2Nyb2xsYmFyPWZ1bmN0aW9uKG9wdGlvbnMpe0Jhc2VDb250cm9sLmNhbGwodGhpcyksdGhpcy5vcHRpb25zLmRpcj1cImhcIix0aGlzLm9wdGlvbnMuYXV0b2hpZGU9ITAsdGhpcy5vcHRpb25zLndpZHRoPTQsdGhpcy5vcHRpb25zLmNvbG9yPVwiIzNEM0QzRFwiLHRoaXMub3B0aW9ucy5tYXJnaW49MTAsJC5leHRlbmQodGhpcy5vcHRpb25zLG9wdGlvbnMpLHRoaXMuX19kaW1lbj1cImhcIj09PXRoaXMub3B0aW9ucy5kaXI/XCJ3aWR0aFwiOlwiaGVpZ2h0XCIsdGhpcy5fX2pkaW1lbj1cImhcIj09PXRoaXMub3B0aW9ucy5kaXI/XCJvdXRlcldpZHRoXCI6XCJvdXRlckhlaWdodFwiLHRoaXMuX19wb3M9XCJoXCI9PT10aGlzLm9wdGlvbnMuZGlyP1wibGVmdFwiOlwidG9wXCIsdGhpcy5fX3RyYW5zbGF0ZV9lbmQ9d2luZG93Ll9jc3MzZD9cIiB0cmFuc2xhdGVaKDBweClcIjpcIlwiLHRoaXMuX190cmFuc2xhdGVfc3RhcnQ9XCJoXCI9PT10aGlzLm9wdGlvbnMuZGlyP1wiIHRyYW5zbGF0ZVgoXCI6XCJ0cmFuc2xhdGVZKFwifTtNU1Njcm9sbGJhci5leHRlbmQoQmFzZUNvbnRyb2wpO3ZhciBwPU1TU2Nyb2xsYmFyLnByb3RvdHlwZSxfc3VwZXI9QmFzZUNvbnRyb2wucHJvdG90eXBlO3Auc2V0dXA9ZnVuY3Rpb24oKXtpZih0aGlzLiRlbGVtZW50PSQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyh0aGlzLm9wdGlvbnMucHJlZml4K1wic2JhclwiKS5hZGRDbGFzcyhcIm1zLWRpci1cIit0aGlzLm9wdGlvbnMuZGlyKSxfc3VwZXIuc2V0dXAuY2FsbCh0aGlzKSx0aGlzLiRlbGVtZW50LmFwcGVuZFRvKHRoaXMuc2xpZGVyLiRjb250cm9sc0NvbnQ9PT10aGlzLmNvbnQ/dGhpcy5zbGlkZXIuJGVsZW1lbnQ6dGhpcy5jb250KSx0aGlzLiRiYXI9JChcIjxkaXY+PC9kaXY+XCIpLmFkZENsYXNzKHRoaXMub3B0aW9ucy5wcmVmaXgrXCJiYXJcIikuYXBwZW5kVG8odGhpcy4kZWxlbWVudCksdGhpcy5zbGlkZXIub3B0aW9ucy5sb29wJiYodGhpcy5kaXNhYmxlPSEwLHRoaXMuJGVsZW1lbnQucmVtb3ZlKCkpLFwidlwiPT09dGhpcy5vcHRpb25zLmRpcj90aGlzLiRiYXIud2lkdGgodGhpcy5vcHRpb25zLndpZHRoKTp0aGlzLiRiYXIuaGVpZ2h0KHRoaXMub3B0aW9ucy53aWR0aCksdGhpcy4kYmFyLmNzcyhcImJhY2tncm91bmQtY29sb3JcIix0aGlzLm9wdGlvbnMuY29sb3IpLCF0aGlzLm9wdGlvbnMuaW5zZXRUbyYmdGhpcy5vcHRpb25zLmFsaWduKXt0aGlzLiRlbGVtZW50LmNzcyhcInZcIj09PXRoaXMub3B0aW9ucy5kaXI/e3JpZ2h0OlwiYXV0b1wiLGxlZnQ6XCJhdXRvXCJ9Ont0b3A6XCJhdXRvXCIsYm90dG9tOlwiYXV0b1wifSk7dmFyIGFsaWduPXRoaXMub3B0aW9ucy5hbGlnbjt0aGlzLm9wdGlvbnMuaW5zZXQ/dGhpcy4kZWxlbWVudC5jc3MoYWxpZ24sdGhpcy5vcHRpb25zLm1hcmdpbik6XCJ0b3BcIj09PWFsaWduP3RoaXMuJGVsZW1lbnQucHJlcGVuZFRvKHRoaXMuc2xpZGVyLiRlbGVtZW50KS5jc3Moe1wibWFyZ2luLWJvdHRvbVwiOnRoaXMub3B0aW9ucy5tYXJnaW4scG9zaXRpb246XCJyZWxhdGl2ZVwifSk6XCJib3R0b21cIj09PWFsaWduP3RoaXMuJGVsZW1lbnQuY3NzKHtcIm1hcmdpbi10b3BcIjp0aGlzLm9wdGlvbnMubWFyZ2luLHBvc2l0aW9uOlwicmVsYXRpdmVcIn0pOih0aGlzLnNsaWRlci5hcGkuYWRkRXZlbnRMaXN0ZW5lcihNU1NsaWRlckV2ZW50LlJFU0VSVkVEX1NQQUNFX0NIQU5HRSx0aGlzLmFsaWduLHRoaXMpLHRoaXMuYWxpZ24oKSl9dGhpcy5jaGVja0hpZGVVbmRlcigpfSxwLmFsaWduPWZ1bmN0aW9uKCl7aWYoIXRoaXMuZGV0YWNoZWQpe3ZhciBhbGlnbj10aGlzLm9wdGlvbnMuYWxpZ24scG9zPXRoaXMuc2xpZGVyLnJlc2VydmVTcGFjZShhbGlnbiwyKnRoaXMub3B0aW9ucy5tYXJnaW4rdGhpcy5vcHRpb25zLndpZHRoKTt0aGlzLiRlbGVtZW50LmNzcyhhbGlnbiwtcG9zLXRoaXMub3B0aW9ucy5tYXJnaW4tdGhpcy5vcHRpb25zLndpZHRoKX19LHAuY3JlYXRlPWZ1bmN0aW9uKCl7aWYoIXRoaXMuZGlzYWJsZSl7dGhpcy5zY3JvbGxlcj10aGlzLnNsaWRlci5hcGkuc2Nyb2xsZXIsdGhpcy5zbGlkZXIuYXBpLnZpZXcuYWRkRXZlbnRMaXN0ZW5lcihNU1ZpZXdFdmVudHMuU0NST0xMLHRoaXMuX3VwZGF0ZSx0aGlzKSx0aGlzLnNsaWRlci5hcGkuYWRkRXZlbnRMaXN0ZW5lcihNU1NsaWRlckV2ZW50LlJFU0laRSx0aGlzLl9yZXNpemUsdGhpcyksdGhpcy5fcmVzaXplKCksdGhpcy5vcHRpb25zLmF1dG9oaWRlJiZ0aGlzLiRiYXIuY3NzKFwib3BhY2l0eVwiLFwiMFwiKX19LHAuX3Jlc2l6ZT1mdW5jdGlvbigpe3RoaXMudmRpbWVuPXRoaXMuJGVsZW1lbnRbdGhpcy5fX2RpbWVuXSgpLHRoaXMuYmFyX2RpbWVuPXRoaXMuc2xpZGVyLmFwaS52aWV3W1wiX19cIit0aGlzLl9fZGltZW5dKnRoaXMudmRpbWVuL3RoaXMuc2Nyb2xsZXIuX21heF92YWx1ZSx0aGlzLiRiYXJbdGhpcy5fX2RpbWVuXSh0aGlzLmJhcl9kaW1lbil9LHAuX3VwZGF0ZT1mdW5jdGlvbigpe3ZhciB2YWx1ZT10aGlzLnNjcm9sbGVyLnZhbHVlKih0aGlzLnZkaW1lbi10aGlzLmJhcl9kaW1lbikvdGhpcy5zY3JvbGxlci5fbWF4X3ZhbHVlO2lmKHRoaXMubHZhbHVlIT09dmFsdWUpe2lmKHRoaXMubHZhbHVlPXZhbHVlLHRoaXMub3B0aW9ucy5hdXRvaGlkZSl7Y2xlYXJUaW1lb3V0KHRoaXMuaHRvKSx0aGlzLiRiYXIuY3NzKFwib3BhY2l0eVwiLFwiMVwiKTt2YXIgdGhhdD10aGlzO3RoaXMuaHRvPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGF0LiRiYXIuY3NzKFwib3BhY2l0eVwiLFwiMFwiKX0sMTUwKX1yZXR1cm4gMD52YWx1ZT92b2lkKHRoaXMuJGJhclswXS5zdHlsZVt0aGlzLl9fZGltZW5dPXRoaXMuYmFyX2RpbWVuK3ZhbHVlK1wicHhcIik6KHZhbHVlPnRoaXMudmRpbWVuLXRoaXMuYmFyX2RpbWVuJiYodGhpcy4kYmFyWzBdLnN0eWxlW3RoaXMuX19kaW1lbl09dGhpcy52ZGltZW4tdmFsdWUrXCJweFwiKSx3aW5kb3cuX2Nzc2FuaW0/dm9pZCh0aGlzLiRiYXJbMF0uc3R5bGVbd2luZG93Ll9qY3NzcGZ4K1wiVHJhbnNmb3JtXCJdPXRoaXMuX190cmFuc2xhdGVfc3RhcnQrdmFsdWUrXCJweClcIit0aGlzLl9fdHJhbnNsYXRlX2VuZCk6dm9pZCh0aGlzLiRiYXJbMF0uc3R5bGVbdGhpcy5fX3Bvc109dmFsdWUrXCJweFwiKSl9fSxwLmRlc3Ryb3k9ZnVuY3Rpb24oKXtfc3VwZXIuZGVzdHJveSgpLHRoaXMuc2xpZGVyLmFwaS52aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoTVNWaWV3RXZlbnRzLlNDUk9MTCx0aGlzLl91cGRhdGUsdGhpcyksdGhpcy5zbGlkZXIuYXBpLnJlbW92ZUV2ZW50TGlzdGVuZXIoTVNTbGlkZXJFdmVudC5SRVNJWkUsdGhpcy5fcmVzaXplLHRoaXMpLHRoaXMuc2xpZGVyLmFwaS5yZW1vdmVFdmVudExpc3RlbmVyKE1TU2xpZGVyRXZlbnQuUkVTRVJWRURfU1BBQ0VfQ0hBTkdFLHRoaXMuYWxpZ24sdGhpcyksdGhpcy4kZWxlbWVudC5yZW1vdmUoKX0sd2luZG93Lk1TU2Nyb2xsYmFyPU1TU2Nyb2xsYmFyLE1TU2xpZGVDb250cm9sbGVyLnJlZ2lzdGVyQ29udHJvbChcInNjcm9sbGJhclwiLE1TU2Nyb2xsYmFyKX0oalF1ZXJ5KSxmdW5jdGlvbigkKXtcInVzZSBzdHJpY3RcIjt2YXIgTVNUaW1lcmJhcj1mdW5jdGlvbihvcHRpb25zKXtCYXNlQ29udHJvbC5jYWxsKHRoaXMpLHRoaXMub3B0aW9ucy5hdXRvaGlkZT0hMSx0aGlzLm9wdGlvbnMud2lkdGg9NCx0aGlzLm9wdGlvbnMuY29sb3I9XCIjRkZGRkZGXCIsdGhpcy5vcHRpb25zLmluc2V0PSEwLHRoaXMub3B0aW9ucy5tYXJnaW49MCwkLmV4dGVuZCh0aGlzLm9wdGlvbnMsb3B0aW9ucyl9O01TVGltZXJiYXIuZXh0ZW5kKEJhc2VDb250cm9sKTt2YXIgcD1NU1RpbWVyYmFyLnByb3RvdHlwZSxfc3VwZXI9QmFzZUNvbnRyb2wucHJvdG90eXBlO3Auc2V0dXA9ZnVuY3Rpb24oKXtpZihfc3VwZXIuc2V0dXAuY2FsbCh0aGlzKSx0aGlzLiRlbGVtZW50PSQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyh0aGlzLm9wdGlvbnMucHJlZml4K1widGltZXJiYXJcIiksX3N1cGVyLnNldHVwLmNhbGwodGhpcyksdGhpcy4kZWxlbWVudC5hcHBlbmRUbyh0aGlzLnNsaWRlci4kY29udHJvbHNDb250PT09dGhpcy5jb250P3RoaXMuc2xpZGVyLiRlbGVtZW50OnRoaXMuY29udCksdGhpcy4kYmFyPSQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyhcIm1zLXRpbWUtYmFyXCIpLmFwcGVuZFRvKHRoaXMuJGVsZW1lbnQpLFwidlwiPT09dGhpcy5vcHRpb25zLmRpcj8odGhpcy4kYmFyLndpZHRoKHRoaXMub3B0aW9ucy53aWR0aCksdGhpcy4kZWxlbWVudC53aWR0aCh0aGlzLm9wdGlvbnMud2lkdGgpKToodGhpcy4kYmFyLmhlaWdodCh0aGlzLm9wdGlvbnMud2lkdGgpLHRoaXMuJGVsZW1lbnQuaGVpZ2h0KHRoaXMub3B0aW9ucy53aWR0aCkpLHRoaXMuJGJhci5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsdGhpcy5vcHRpb25zLmNvbG9yKSwhdGhpcy5vcHRpb25zLmluc2V0VG8mJnRoaXMub3B0aW9ucy5hbGlnbil7dGhpcy4kZWxlbWVudC5jc3Moe3RvcDpcImF1dG9cIixib3R0b206XCJhdXRvXCJ9KTt2YXIgYWxpZ249dGhpcy5vcHRpb25zLmFsaWduO3RoaXMub3B0aW9ucy5pbnNldD90aGlzLiRlbGVtZW50LmNzcyhhbGlnbix0aGlzLm9wdGlvbnMubWFyZ2luKTpcInRvcFwiPT09YWxpZ24/dGhpcy4kZWxlbWVudC5wcmVwZW5kVG8odGhpcy5zbGlkZXIuJGVsZW1lbnQpLmNzcyh7XCJtYXJnaW4tYm90dG9tXCI6dGhpcy5vcHRpb25zLm1hcmdpbixwb3NpdGlvbjpcInJlbGF0aXZlXCJ9KTpcImJvdHRvbVwiPT09YWxpZ24/dGhpcy4kZWxlbWVudC5jc3Moe1wibWFyZ2luLXRvcFwiOnRoaXMub3B0aW9ucy5tYXJnaW4scG9zaXRpb246XCJyZWxhdGl2ZVwifSk6KHRoaXMuc2xpZGVyLmFwaS5hZGRFdmVudExpc3RlbmVyKE1TU2xpZGVyRXZlbnQuUkVTRVJWRURfU1BBQ0VfQ0hBTkdFLHRoaXMuYWxpZ24sdGhpcyksdGhpcy5hbGlnbigpKX10aGlzLmNoZWNrSGlkZVVuZGVyKCl9LHAuYWxpZ249ZnVuY3Rpb24oKXtpZighdGhpcy5kZXRhY2hlZCl7dmFyIGFsaWduPXRoaXMub3B0aW9ucy5hbGlnbixwb3M9dGhpcy5zbGlkZXIucmVzZXJ2ZVNwYWNlKGFsaWduLDIqdGhpcy5vcHRpb25zLm1hcmdpbit0aGlzLm9wdGlvbnMud2lkdGgpO3RoaXMuJGVsZW1lbnQuY3NzKGFsaWduLC1wb3MtdGhpcy5vcHRpb25zLm1hcmdpbi10aGlzLm9wdGlvbnMud2lkdGgpfX0scC5jcmVhdGU9ZnVuY3Rpb24oKXtfc3VwZXIuY3JlYXRlLmNhbGwodGhpcyksdGhpcy5zbGlkZXIuYXBpLmFkZEV2ZW50TGlzdGVuZXIoTVNTbGlkZXJFdmVudC5XQUlUSU5HLHRoaXMuX3VwZGF0ZSx0aGlzKSx0aGlzLl91cGRhdGUoKX0scC5fdXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy4kYmFyWzBdLnN0eWxlLndpZHRoPXRoaXMuc2xpZGVyLmFwaS5fZGVsYXlQcm9ncmVzcytcIiVcIn0scC5kZXN0cm95PWZ1bmN0aW9uKCl7X3N1cGVyLmRlc3Ryb3koKSx0aGlzLnNsaWRlci5hcGkucmVtb3ZlRXZlbnRMaXN0ZW5lcihNU1NsaWRlckV2ZW50LlJFU0VSVkVEX1NQQUNFX0NIQU5HRSx0aGlzLmFsaWduLHRoaXMpLHRoaXMuc2xpZGVyLmFwaS5yZW1vdmVFdmVudExpc3RlbmVyKE1TU2xpZGVyRXZlbnQuV0FJVElORyx0aGlzLl91cGRhdGUsdGhpcyksdGhpcy4kZWxlbWVudC5yZW1vdmUoKX0sd2luZG93Lk1TVGltZXJiYXI9TVNUaW1lcmJhcixNU1NsaWRlQ29udHJvbGxlci5yZWdpc3RlckNvbnRyb2woXCJ0aW1lYmFyXCIsTVNUaW1lcmJhcil9KGpRdWVyeSksZnVuY3Rpb24oJCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIE1TQ2lyY2xlVGltZXI9ZnVuY3Rpb24ob3B0aW9ucyl7QmFzZUNvbnRyb2wuY2FsbCh0aGlzKSx0aGlzLm9wdGlvbnMuY29sb3I9XCIjQTJBMkEyXCIsdGhpcy5vcHRpb25zLnN0cm9rZT0xMCx0aGlzLm9wdGlvbnMucmFkaXVzPTQsdGhpcy5vcHRpb25zLmF1dG9oaWRlPSExLCQuZXh0ZW5kKHRoaXMub3B0aW9ucyxvcHRpb25zKX07TVNDaXJjbGVUaW1lci5leHRlbmQoQmFzZUNvbnRyb2wpO3ZhciBwPU1TQ2lyY2xlVGltZXIucHJvdG90eXBlLF9zdXBlcj1CYXNlQ29udHJvbC5wcm90b3R5cGU7cC5zZXR1cD1mdW5jdGlvbigpe3JldHVybiBfc3VwZXIuc2V0dXAuY2FsbCh0aGlzKSx0aGlzLiRlbGVtZW50PSQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyh0aGlzLm9wdGlvbnMucHJlZml4K1wiY3RpbWVyXCIpLmFwcGVuZFRvKHRoaXMuY29udCksdGhpcy4kY2FudmFzPSQoXCI8Y2FudmFzPjwvY2FudmFzPlwiKS5hZGRDbGFzcyhcIm1zLWN0aW1lci1jYW52YXNcIikuYXBwZW5kVG8odGhpcy4kZWxlbWVudCksdGhpcy4kYmFyPSQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyhcIm1zLWN0aW1lci1idWxsZXRcIikuYXBwZW5kVG8odGhpcy4kZWxlbWVudCksdGhpcy4kY2FudmFzWzBdLmdldENvbnRleHQ/KHRoaXMuY3R4PXRoaXMuJGNhbnZhc1swXS5nZXRDb250ZXh0KFwiMmRcIiksdGhpcy5wcm9nPTAsdGhpcy5fX3c9MioodGhpcy5vcHRpb25zLnJhZGl1cyt0aGlzLm9wdGlvbnMuc3Ryb2tlLzIpLHRoaXMuJGNhbnZhc1swXS53aWR0aD10aGlzLl9fdyx0aGlzLiRjYW52YXNbMF0uaGVpZ2h0PXRoaXMuX193LHZvaWQgdGhpcy5jaGVja0hpZGVVbmRlcigpKToodGhpcy5kZXN0cm95KCksdm9pZCh0aGlzLmRpc2FibGU9ITApKX0scC5jcmVhdGU9ZnVuY3Rpb24oKXtpZighdGhpcy5kaXNhYmxlKXtfc3VwZXIuY3JlYXRlLmNhbGwodGhpcyksdGhpcy5zbGlkZXIuYXBpLmFkZEV2ZW50TGlzdGVuZXIoTVNTbGlkZXJFdmVudC5XQUlUSU5HLHRoaXMuX3VwZGF0ZSx0aGlzKTt2YXIgdGhhdD10aGlzO3RoaXMuJGVsZW1lbnQuY2xpY2soZnVuY3Rpb24oKXt0aGF0LnNsaWRlci5hcGkucGF1c2VkP3RoYXQuc2xpZGVyLmFwaS5yZXN1bWUoKTp0aGF0LnNsaWRlci5hcGkucGF1c2UoKX0pLHRoaXMuX3VwZGF0ZSgpfX0scC5fdXBkYXRlPWZ1bmN0aW9uKCl7dmFyIHRoYXQ9dGhpczskKHRoaXMpLnN0b3AoITApLmFuaW1hdGUoe3Byb2c6LjAxKnRoaXMuc2xpZGVyLmFwaS5fZGVsYXlQcm9ncmVzc30se2R1cmF0aW9uOjIwMCxzdGVwOmZ1bmN0aW9uKCl7dGhhdC5fZHJhdygpfX0pfSxwLl9kcmF3PWZ1bmN0aW9uKCl7dGhpcy5jdHguY2xlYXJSZWN0KDAsMCx0aGlzLl9fdyx0aGlzLl9fdyksdGhpcy5jdHguYmVnaW5QYXRoKCksdGhpcy5jdHguYXJjKC41KnRoaXMuX193LC41KnRoaXMuX193LHRoaXMub3B0aW9ucy5yYWRpdXMsMS41Kk1hdGguUEksMS41Kk1hdGguUEkrMipNYXRoLlBJKnRoaXMucHJvZywhMSksdGhpcy5jdHguc3Ryb2tlU3R5bGU9dGhpcy5vcHRpb25zLmNvbG9yLHRoaXMuY3R4LmxpbmVXaWR0aD10aGlzLm9wdGlvbnMuc3Ryb2tlLHRoaXMuY3R4LnN0cm9rZSgpfSxwLmRlc3Ryb3k9ZnVuY3Rpb24oKXtfc3VwZXIuZGVzdHJveSgpLHRoaXMuZGlzYWJsZXx8KCQodGhpcykuc3RvcCghMCksdGhpcy5zbGlkZXIuYXBpLnJlbW92ZUV2ZW50TGlzdGVuZXIoTVNTbGlkZXJFdmVudC5XQUlUSU5HLHRoaXMuX3VwZGF0ZSx0aGlzKSx0aGlzLiRlbGVtZW50LnJlbW92ZSgpKX0sd2luZG93Lk1TQ2lyY2xlVGltZXI9TVNDaXJjbGVUaW1lcixNU1NsaWRlQ29udHJvbGxlci5yZWdpc3RlckNvbnRyb2woXCJjaXJjbGV0aW1lclwiLE1TQ2lyY2xlVGltZXIpfShqUXVlcnkpLGZ1bmN0aW9uKCQpe1widXNlIHN0cmljdFwiO3dpbmRvdy5NU0xpZ2h0Ym94PWZ1bmN0aW9uKG9wdGlvbnMpe0Jhc2VDb250cm9sLmNhbGwodGhpcyxvcHRpb25zKSx0aGlzLm9wdGlvbnMuYXV0b2hpZGU9ITEsJC5leHRlbmQodGhpcy5vcHRpb25zLG9wdGlvbnMpLHRoaXMuZGF0YV9saXN0PVtdfSxNU0xpZ2h0Ym94LmZhZGVEdXJhdGF0aW9uPTQwMCxNU0xpZ2h0Ym94LmV4dGVuZChCYXNlQ29udHJvbCk7dmFyIHA9TVNMaWdodGJveC5wcm90b3R5cGUsX3N1cGVyPUJhc2VDb250cm9sLnByb3RvdHlwZTtwLnNldHVwPWZ1bmN0aW9uKCl7X3N1cGVyLnNldHVwLmNhbGwodGhpcyksdGhpcy4kZWxlbWVudD0kKFwiPGRpdj48L2Rpdj5cIikuYWRkQ2xhc3ModGhpcy5vcHRpb25zLnByZWZpeCtcImxpZ2h0Ym94LWJ0blwiKS5hcHBlbmRUbyh0aGlzLmNvbnQpLHRoaXMuY2hlY2tIaWRlVW5kZXIoKX0scC5zbGlkZUFjdGlvbj1mdW5jdGlvbihzbGlkZSl7JChcIjxkaXY+PC9kaXY+XCIpLmFkZENsYXNzKHRoaXMub3B0aW9ucy5wcmVmaXgrXCJsaWdodGJveC1idG5cIikuYXBwZW5kVG8oc2xpZGUuJGVsZW1lbnQpLmFwcGVuZCgkKHNsaWRlLiRlbGVtZW50LmZpbmQoXCIubXMtbGlnaHRib3hcIikpKX0scC5jcmVhdGU9ZnVuY3Rpb24oKXtfc3VwZXIuY3JlYXRlLmNhbGwodGhpcyl9LE1TU2xpZGVDb250cm9sbGVyLnJlZ2lzdGVyQ29udHJvbChcImxpZ2h0Ym94XCIsTVNMaWdodGJveCl9KGpRdWVyeSksZnVuY3Rpb24oJCl7XCJ1c2Ugc3RyaWN0XCI7d2luZG93Lk1TU2xpZGVJbmZvPWZ1bmN0aW9uKG9wdGlvbnMpe0Jhc2VDb250cm9sLmNhbGwodGhpcyxvcHRpb25zKSx0aGlzLm9wdGlvbnMuYXV0b2hpZGU9ITEsdGhpcy5vcHRpb25zLmFsaWduPW51bGwsdGhpcy5vcHRpb25zLmluc2V0PSExLHRoaXMub3B0aW9ucy5tYXJnaW49MTAsdGhpcy5vcHRpb25zLnNpemU9MTAwLHRoaXMub3B0aW9ucy5kaXI9XCJoXCIsJC5leHRlbmQodGhpcy5vcHRpb25zLG9wdGlvbnMpLHRoaXMuZGF0YV9saXN0PVtdfSxNU1NsaWRlSW5mby5mYWRlRHVyYXRhdGlvbj00MDAsTVNTbGlkZUluZm8uZXh0ZW5kKEJhc2VDb250cm9sKTt2YXIgcD1NU1NsaWRlSW5mby5wcm90b3R5cGUsX3N1cGVyPUJhc2VDb250cm9sLnByb3RvdHlwZTtwLnNldHVwPWZ1bmN0aW9uKCl7aWYodGhpcy4kZWxlbWVudD0kKFwiPGRpdj48L2Rpdj5cIikuYWRkQ2xhc3ModGhpcy5vcHRpb25zLnByZWZpeCtcInNsaWRlLWluZm9cIikuYWRkQ2xhc3MoXCJtcy1kaXItXCIrdGhpcy5vcHRpb25zLmRpciksX3N1cGVyLnNldHVwLmNhbGwodGhpcyksdGhpcy4kZWxlbWVudC5hcHBlbmRUbyh0aGlzLnNsaWRlci4kY29udHJvbHNDb250PT09dGhpcy5jb250P3RoaXMuc2xpZGVyLiRlbGVtZW50OnRoaXMuY29udCksIXRoaXMub3B0aW9ucy5pbnNldFRvJiZ0aGlzLm9wdGlvbnMuYWxpZ24pe3ZhciBhbGlnbj10aGlzLm9wdGlvbnMuYWxpZ247dGhpcy5vcHRpb25zLmluc2V0P3RoaXMuJGVsZW1lbnQuY3NzKGFsaWduLHRoaXMub3B0aW9ucy5tYXJnaW4pOlwidG9wXCI9PT1hbGlnbj90aGlzLiRlbGVtZW50LnByZXBlbmRUbyh0aGlzLnNsaWRlci4kZWxlbWVudCkuY3NzKHtcIm1hcmdpbi1ib3R0b21cIjp0aGlzLm9wdGlvbnMubWFyZ2luLHBvc2l0aW9uOlwicmVsYXRpdmVcIn0pOlwiYm90dG9tXCI9PT1hbGlnbj90aGlzLiRlbGVtZW50LmNzcyh7XCJtYXJnaW4tdG9wXCI6dGhpcy5vcHRpb25zLm1hcmdpbixwb3NpdGlvbjpcInJlbGF0aXZlXCJ9KToodGhpcy5zbGlkZXIuYXBpLmFkZEV2ZW50TGlzdGVuZXIoTVNTbGlkZXJFdmVudC5SRVNFUlZFRF9TUEFDRV9DSEFOR0UsdGhpcy5hbGlnbix0aGlzKSx0aGlzLmFsaWduKCkpLFwidlwiPT09dGhpcy5vcHRpb25zLmRpcj90aGlzLiRlbGVtZW50LndpZHRoKHRoaXMub3B0aW9ucy5zaXplKTp0aGlzLiRlbGVtZW50LmNzcyhcIm1pbi1oZWlnaHRcIix0aGlzLm9wdGlvbnMuc2l6ZSl9dGhpcy5jaGVja0hpZGVVbmRlcigpfSxwLmFsaWduPWZ1bmN0aW9uKCl7aWYoIXRoaXMuZGV0YWNoZWQpe3ZhciBhbGlnbj10aGlzLm9wdGlvbnMuYWxpZ24scG9zPXRoaXMuc2xpZGVyLnJlc2VydmVTcGFjZShhbGlnbix0aGlzLm9wdGlvbnMuc2l6ZSsyKnRoaXMub3B0aW9ucy5tYXJnaW4pO3RoaXMuJGVsZW1lbnQuY3NzKGFsaWduLC1wb3MtdGhpcy5vcHRpb25zLnNpemUtdGhpcy5vcHRpb25zLm1hcmdpbil9fSxwLnNsaWRlQWN0aW9uPWZ1bmN0aW9uKHNsaWRlKXt2YXIgaW5mb19lbGU9JChzbGlkZS4kZWxlbWVudC5maW5kKFwiLm1zLWluZm9cIikpO2luZm9fZWxlLmRldGFjaCgpLHRoaXMuZGF0YV9saXN0W3NsaWRlLmluZGV4XT1pbmZvX2VsZX0scC5jcmVhdGU9ZnVuY3Rpb24oKXtfc3VwZXIuY3JlYXRlLmNhbGwodGhpcyksdGhpcy5zbGlkZXIuYXBpLmFkZEV2ZW50TGlzdGVuZXIoTVNTbGlkZXJFdmVudC5DSEFOR0VfU1RBUlQsdGhpcy51cGRhdGUsdGhpcyksdGhpcy5jaW5kZXg9dGhpcy5zbGlkZXIuYXBpLmluZGV4KCksdGhpcy5zd2l0Y2hFbGUodGhpcy5kYXRhX2xpc3RbdGhpcy5jaW5kZXhdKX0scC51cGRhdGU9ZnVuY3Rpb24oKXt2YXIgbmluZGV4PXRoaXMuc2xpZGVyLmFwaS5pbmRleCgpO3RoaXMuc3dpdGNoRWxlKHRoaXMuZGF0YV9saXN0W25pbmRleF0pLHRoaXMuY2luZGV4PW5pbmRleH0scC5zd2l0Y2hFbGU9ZnVuY3Rpb24oZWxlKXtpZih0aGlzLmN1cnJlbnRfZWxlKXt0aGlzLmN1cnJlbnRfZWxlWzBdLnR3ZWVuJiZ0aGlzLmN1cnJlbnRfZWxlWzBdLnR3ZWVuLnN0b3AoITApLHRoaXMuY3VycmVudF9lbGVbMF0udHdlZW49Q1R3ZWVuLmFuaW1hdGUodGhpcy5jdXJyZW50X2VsZSxNU1NsaWRlSW5mby5mYWRlRHVyYXRhdGlvbix7b3BhY2l0eTowfSx7Y29tcGxldGU6ZnVuY3Rpb24oKXt0aGlzLmRldGFjaCgpLHRoaXNbMF0udHdlZW49bnVsbCxlbGUuY3NzKFwicG9zaXRpb25cIixcInJlbGF0aXZlXCIpfSx0YXJnZXQ6dGhpcy5jdXJyZW50X2VsZX0pLGVsZS5jc3MoXCJwb3NpdGlvblwiLFwiYWJzb2x1dGVcIil9dGhpcy5fX3Nob3coZWxlKX0scC5fX3Nob3c9ZnVuY3Rpb24oZWxlKXtlbGUuYXBwZW5kVG8odGhpcy4kZWxlbWVudCkuY3NzKFwib3BhY2l0eVwiLFwiMFwiKSx0aGlzLmN1cnJlbnRfZWxlJiZlbGUuaGVpZ2h0KE1hdGgubWF4KGVsZS5oZWlnaHQoKSx0aGlzLmN1cnJlbnRfZWxlLmhlaWdodCgpKSksY2xlYXJUaW1lb3V0KHRoaXMudG91KSx0aGlzLnRvdT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Q1R3ZWVuLmZhZGVJbihlbGUsTVNTbGlkZUluZm8uZmFkZUR1cmF0YXRpb24pLGVsZS5jc3MoXCJoZWlnaHRcIixcIlwiKX0sTVNTbGlkZUluZm8uZmFkZUR1cmF0YXRpb24pLGVsZVswXS50d2VlbiYmZWxlWzBdLnR3ZWVuLnN0b3AoITApLHRoaXMuY3VycmVudF9lbGU9ZWxlfSxwLmRlc3Ryb3k9ZnVuY3Rpb24oKXtfc3VwZXIuZGVzdHJveSgpLGNsZWFyVGltZW91dCh0aGlzLnRvdSksdGhpcy5jdXJyZW50X2VsZSYmdGhpcy5jdXJyZW50X2VsZVswXS50d2VlbiYmdGhpcy5jdXJyZW50X2VsZVswXS50d2Vlbi5zdG9wKFwidHJ1ZVwiKSx0aGlzLiRlbGVtZW50LnJlbW92ZSgpLHRoaXMuc2xpZGVyLmFwaS5yZW1vdmVFdmVudExpc3RlbmVyKE1TU2xpZGVyRXZlbnQuUkVTRVJWRURfU1BBQ0VfQ0hBTkdFLHRoaXMuYWxpZ24sdGhpcyksdGhpcy5zbGlkZXIuYXBpLnJlbW92ZUV2ZW50TGlzdGVuZXIoTVNTbGlkZXJFdmVudC5DSEFOR0VfU1RBUlQsdGhpcy51cGRhdGUsdGhpcyl9LE1TU2xpZGVDb250cm9sbGVyLnJlZ2lzdGVyQ29udHJvbChcInNsaWRlaW5mb1wiLE1TU2xpZGVJbmZvKX0oalF1ZXJ5KSxmdW5jdGlvbigkKXt3aW5kb3cuTVNHYWxsZXJ5PWZ1bmN0aW9uKGlkLHNsaWRlcil7dGhpcy5pZD1pZCx0aGlzLnNsaWRlcj1zbGlkZXIsdGhpcy50ZWxlbWVudD0kKFwiI1wiK2lkKSx0aGlzLmJvdGNvbnQ9JChcIjxkaXY+PC9kaXY+XCIpLmFkZENsYXNzKFwibXMtZ2FsbGVyeS1ib3Rjb250XCIpLmFwcGVuZFRvKHRoaXMudGVsZW1lbnQpLHRoaXMudGh1bWJjb250PSQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyhcIm1zLWdhbC10aHVtYmNvbnQgaGlkZS10aHVtYnNcIikuYXBwZW5kVG8odGhpcy5ib3Rjb250KSx0aGlzLnBsYXlidG49JChcIjxkaXY+PC9kaXY+XCIpLmFkZENsYXNzKFwibXMtZ2FsLXBsYXlidG5cIikuYXBwZW5kVG8odGhpcy5ib3Rjb250KSx0aGlzLnRodW1idG9nZ2xlPSQoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyhcIm1zLWdhbC10aHVtYnRvZ2dsZVwiKS5hcHBlbmRUbyh0aGlzLmJvdGNvbnQpLHNsaWRlci5jb250cm9sKFwidGh1bWJsaXN0XCIse2luc2VydFRvOnRoaXMudGh1bWJjb250LGF1dG9oaWRlOiExLGRpcjpcImhcIn0pLHNsaWRlci5jb250cm9sKFwic2xpZGVudW1cIix7aW5zZXJ0VG86dGhpcy5ib3Rjb250LGF1dG9oaWRlOiExfSksc2xpZGVyLmNvbnRyb2woXCJzbGlkZWluZm9cIix7aW5zZXJ0VG86dGhpcy5ib3Rjb250LGF1dG9oaWRlOiExfSksc2xpZGVyLmNvbnRyb2woXCJ0aW1lYmFyXCIse2luc2VydFRvOnRoaXMuYm90Y29udCxhdXRvaGlkZTohMX0pLHNsaWRlci5jb250cm9sKFwiYnVsbGV0c1wiLHtpbnNlcnRUbzp0aGlzLmJvdGNvbnQsYXV0b2hpZGU6ITF9KX07dmFyIHA9TVNHYWxsZXJ5LnByb3RvdHlwZTtwLl9pbml0PWZ1bmN0aW9uKCl7dmFyIHRoYXQ9dGhpczt0aGlzLnNsaWRlci5hcGkucGF1c2VkfHx0aGlzLnBsYXlidG4uYWRkQ2xhc3MoXCJidG4tcGF1c2VcIiksdGhpcy5wbGF5YnRuLmNsaWNrKGZ1bmN0aW9uKCl7dGhhdC5zbGlkZXIuYXBpLnBhdXNlZD8odGhhdC5zbGlkZXIuYXBpLnJlc3VtZSgpLHRoYXQucGxheWJ0bi5hZGRDbGFzcyhcImJ0bi1wYXVzZVwiKSk6KHRoYXQuc2xpZGVyLmFwaS5wYXVzZSgpLHRoYXQucGxheWJ0bi5yZW1vdmVDbGFzcyhcImJ0bi1wYXVzZVwiKSl9KSx0aGlzLnRodW1idG9nZ2xlLmNsaWNrKGZ1bmN0aW9uKCl7dGhhdC52dGh1bWJzPyh0aGF0LnRodW1idG9nZ2xlLnJlbW92ZUNsYXNzKFwiYnRuLWhpZGVcIiksdGhhdC52dGh1bWJzPSExLHRoYXQudGh1bWJjb250LmFkZENsYXNzKFwiaGlkZS10aHVtYnNcIikpOih0aGF0LnRodW1idG9nZ2xlLmFkZENsYXNzKFwiYnRuLWhpZGVcIiksdGhhdC50aHVtYmNvbnQucmVtb3ZlQ2xhc3MoXCJoaWRlLXRodW1ic1wiKSx0aGF0LnZ0aHVtYnM9ITApfSl9LHAuc2V0dXA9ZnVuY3Rpb24oKXt2YXIgdGhhdD10aGlzOyQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7dGhhdC5faW5pdCgpfSl9fShqUXVlcnkpLGZ1bmN0aW9uKCQpe3ZhciBnZXRQaG90b3NldFVSTD1mdW5jdGlvbihrZXksaWQsY291bnQpe3JldHVyblwiaHR0cHM6Ly9hcGkuZmxpY2tyLmNvbS9zZXJ2aWNlcy9yZXN0Lz9tZXRob2Q9ZmxpY2tyLnBob3Rvc2V0cy5nZXRQaG90b3MmYXBpX2tleT1cIitrZXkrXCImcGhvdG9zZXRfaWQ9XCIraWQrXCImcGVyX3BhZ2U9XCIrY291bnQrXCImZXh0cmFzPXVybF9vLGRlc2NyaXB0aW9uLGRhdGVfdGFrZW4sb3duZXJfbmFtZSx2aWV3cyZmb3JtYXQ9anNvbiZqc29uY2FsbGJhY2s9P1wifSxnZXRVc2VyUHVibGljVVJMPWZ1bmN0aW9uKGtleSxpZCxjb3VudCl7cmV0dXJuXCJodHRwczovL2FwaS5mbGlja3IuY29tL3NlcnZpY2VzL3Jlc3QvPyZtZXRob2Q9ZmxpY2tyLnBlb3BsZS5nZXRQdWJsaWNQaG90b3MmYXBpX2tleT1cIitrZXkrXCImdXNlcl9pZD1cIitpZCtcIiZwZXJfcGFnZT1cIitjb3VudCtcIiZleHRyYXM9dXJsX28sZGVzY3JpcHRpb24sZGF0ZV90YWtlbixvd25lcl9uYW1lLHZpZXdzJmZvcm1hdD1qc29uJmpzb25jYWxsYmFjaz0/XCJ9LGdldEltYWdlU291cmNlPWZ1bmN0aW9uKGZpZCxzZXJ2ZXIsaWQsc2VjcmV0LHNpemUsZGF0YSl7cmV0dXJuXCJfb1wiPT09c2l6ZSYmZGF0YT9kYXRhLnVybF9vOlwiaHR0cHM6Ly9mYXJtXCIrZmlkK1wiLnN0YXRpY2ZsaWNrci5jb20vXCIrc2VydmVyK1wiL1wiK2lkK1wiX1wiK3NlY3JldCtzaXplK1wiLmpwZ1wifTt3aW5kb3cuTVNGbGlja3JWMj1mdW5jdGlvbihzbGlkZXIsb3B0aW9ucyl7dmFyIF9vcHRpb25zPXtjb3VudDoxMCx0eXBlOlwicGhvdG9zZXRcIix0aHVtYlNpemU6XCJxXCIsaW1nU2l6ZTpcImNcIn07aWYodGhpcy5zbGlkZXI9c2xpZGVyLHRoaXMuc2xpZGVyLmhvbGRPbigpLCFvcHRpb25zLmtleSlyZXR1cm4gdm9pZCB0aGlzLmVyck1zZyhcIkZsaWNrciBBUEkgS2V5IHJlcXVpcmVkLiBQbGVhc2UgYWRkIGl0IGluIHNldHRpbmdzLlwiKTskLmV4dGVuZChfb3B0aW9ucyxvcHRpb25zKSx0aGlzLm9wdGlvbnM9X29wdGlvbnM7dmFyIHRoYXQ9dGhpcztcInBob3Rvc2V0XCI9PT10aGlzLm9wdGlvbnMudHlwZT8kLmdldEpTT04oZ2V0UGhvdG9zZXRVUkwodGhpcy5vcHRpb25zLmtleSx0aGlzLm9wdGlvbnMuaWQsdGhpcy5vcHRpb25zLmNvdW50KSxmdW5jdGlvbihkYXRhKXt0aGF0Ll9waG90b3NEYXRhKGRhdGEpfSk6JC5nZXRKU09OKGdldFVzZXJQdWJsaWNVUkwodGhpcy5vcHRpb25zLmtleSx0aGlzLm9wdGlvbnMuaWQsdGhpcy5vcHRpb25zLmNvdW50KSxmdW5jdGlvbihkYXRhKXt0aGF0Lm9wdGlvbnMudHlwZT1cInBob3Rvc1wiLHRoYXQuX3Bob3Rvc0RhdGEoZGF0YSl9KSxcIlwiIT09dGhpcy5vcHRpb25zLmltZ1NpemUmJlwiLVwiIT09dGhpcy5vcHRpb25zLmltZ1NpemUmJih0aGlzLm9wdGlvbnMuaW1nU2l6ZT1cIl9cIit0aGlzLm9wdGlvbnMuaW1nU2l6ZSksdGhpcy5vcHRpb25zLnRodW1iU2l6ZT1cIl9cIit0aGlzLm9wdGlvbnMudGh1bWJTaXplLHRoaXMuc2xpZGVUZW1wbGF0ZT10aGlzLnNsaWRlci4kZWxlbWVudC5maW5kKFwiLm1zLXNsaWRlXCIpWzBdLm91dGVySFRNTCx0aGlzLnNsaWRlci4kZWxlbWVudC5maW5kKFwiLm1zLXNsaWRlXCIpLnJlbW92ZSgpfTt2YXIgcD1NU0ZsaWNrclYyLnByb3RvdHlwZTtwLl9waG90b3NEYXRhPWZ1bmN0aW9uKGRhdGEpe2lmKFwiZmFpbFwiPT09ZGF0YS5zdGF0KXJldHVybiB2b2lkIHRoaXMuZXJyTXNnKFwiRmxpY2tyIEFQSSBFUlJPUiNcIitkYXRhLmNvZGUrXCI6IFwiK2RhdGEubWVzc2FnZSk7e3ZhciB0aGF0PXRoaXM7dGhpcy5vcHRpb25zLmF1dGhvcnx8dGhpcy5vcHRpb25zLmRlc2N9JC5lYWNoKGRhdGFbdGhpcy5vcHRpb25zLnR5cGVdLnBob3RvLGZ1bmN0aW9uKGksaXRlbSl7dmFyIHNsaWRlX2NvbnQ9dGhhdC5zbGlkZVRlbXBsYXRlLnJlcGxhY2UoL3t7W1xcdy1dK319L2csZnVuY3Rpb24obWF0Y2gpe3JldHVybiBtYXRjaD1tYXRjaC5yZXBsYWNlKC97e3x9fS9nLFwiXCIpLHNob3J0Q29kZXNbbWF0Y2hdP3Nob3J0Q29kZXNbbWF0Y2hdKGl0ZW0sdGhhdCk6XCJ7e1wiK21hdGNoK1wifX1cIn0pOyQoc2xpZGVfY29udCkuYXBwZW5kVG8odGhhdC5zbGlkZXIuJGVsZW1lbnQpfSksdGhhdC5faW5pdFNsaWRlcigpfSxwLmVyck1zZz1mdW5jdGlvbihtc2cpe3RoaXMuc2xpZGVyLiRlbGVtZW50LmNzcyhcImRpc3BsYXlcIixcImJsb2NrXCIpLHRoaXMuZXJyRWxlfHwodGhpcy5lcnJFbGU9JCgnPGRpdiBzdHlsZT1cImZvbnQtZmFtaWx5OkFyaWFsOyBjb2xvcjpyZWQ7IGZvbnQtc2l6ZToxMnB4OyBwb3NpdGlvbjphYnNvbHV0ZTsgdG9wOjEwcHg7IGxlZnQ6MTBweFwiPjwvZGl2PicpLmFwcGVuZFRvKHRoaXMuc2xpZGVyLiRsb2FkaW5nKSksdGhpcy5lcnJFbGUuaHRtbChtc2cpfSxwLl9pbml0U2xpZGVyPWZ1bmN0aW9uKCl7dGhpcy5zbGlkZXIucmVsZWFzZSgpfTt2YXIgc2hvcnRDb2Rlcz17aW1hZ2U6ZnVuY3Rpb24oZGF0YSx0aGF0KXtyZXR1cm4gZ2V0SW1hZ2VTb3VyY2UoZGF0YS5mYXJtLGRhdGEuc2VydmVyLGRhdGEuaWQsZGF0YS5zZWNyZXQsdGhhdC5vcHRpb25zLmltZ1NpemUsZGF0YSl9LHRodW1iOmZ1bmN0aW9uKGRhdGEsdGhhdCl7cmV0dXJuIGdldEltYWdlU291cmNlKGRhdGEuZmFybSxkYXRhLnNlcnZlcixkYXRhLmlkLGRhdGEuc2VjcmV0LHRoYXQub3B0aW9ucy50aHVtYlNpemUpfSx0aXRsZTpmdW5jdGlvbihkYXRhKXtyZXR1cm4gZGF0YS50aXRsZX0sXCJvd25lci1uYW1lXCI6ZnVuY3Rpb24oZGF0YSl7cmV0dXJuIGRhdGEub3duZXJuYW1lfSxcImRhdGUtdGFrZW5cIjpmdW5jdGlvbihkYXRhKXtyZXR1cm4gZGF0YS5kYXRldGFrZW59LHZpZXdzOmZ1bmN0aW9uKGRhdGEpe3JldHVybiBkYXRhLnZpZXdzfSxkZXNjcmlwdGlvbjpmdW5jdGlvbihkYXRhKXtyZXR1cm4gZGF0YS5kZXNjcmlwdGlvbi5fY29udGVudH19fShqUXVlcnkpLGZ1bmN0aW9uKCQpe3dpbmRvdy5NU0ZhY2Vib29rR2FsbGVyeT1mdW5jdGlvbihzbGlkZXIsb3B0aW9ucyl7dmFyIF9vcHRpb25zPXtjb3VudDoxMCx0eXBlOlwicGhvdG9zdHJlYW1cIix0aHVtYlNpemU6XCIzMjBcIixpbWdTaXplOlwib3JnaW5hbFwiLGh0dHBzOiExfTt0aGlzLnNsaWRlcj1zbGlkZXIsdGhpcy5zbGlkZXIuaG9sZE9uKCksJC5leHRlbmQoX29wdGlvbnMsb3B0aW9ucyksdGhpcy5vcHRpb25zPV9vcHRpb25zLHRoaXMuZ3JhcGg9dGhpcy5vcHRpb25zLmh0dHBzP1wiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb21cIjpcImh0dHA6Ly9ncmFwaC5mYWNlYm9vay5jb21cIjt2YXIgdGhhdD10aGlzO1wicGhvdG9zdHJlYW1cIj09PXRoaXMub3B0aW9ucy50eXBlPyQuZ2V0SlNPTih0aGlzLmdyYXBoK1wiL1wiK3RoaXMub3B0aW9ucy51c2VybmFtZStcIi9waG90b3MvdXBsb2FkZWQvP2ZpZWxkcz1zb3VyY2UsbmFtZSxsaW5rLGltYWdlcyxmcm9tJmxpbWl0PVwiK3RoaXMub3B0aW9ucy5jb3VudCxmdW5jdGlvbihkYXRhKXt0aGF0Ll9waG90b3NEYXRhKGRhdGEpfSk6JC5nZXRKU09OKHRoaXMuZ3JhcGgrXCIvXCIrdGhpcy5vcHRpb25zLmFsYnVtSWQrXCIvcGhvdG9zP2ZpZWxkcz1zb3VyY2UsbmFtZSxsaW5rLGltYWdlcyxmcm9tJmxpbWl0PVwiK3RoaXMub3B0aW9ucy5jb3VudCxmdW5jdGlvbihkYXRhKXt0aGF0Ll9waG90b3NEYXRhKGRhdGEpfSksdGhpcy5zbGlkZVRlbXBsYXRlPXRoaXMuc2xpZGVyLiRlbGVtZW50LmZpbmQoXCIubXMtc2xpZGVcIilbMF0ub3V0ZXJIVE1MLHRoaXMuc2xpZGVyLiRlbGVtZW50LmZpbmQoXCIubXMtc2xpZGVcIikucmVtb3ZlKCl9O3ZhciBwPU1TRmFjZWJvb2tHYWxsZXJ5LnByb3RvdHlwZTtwLl9waG90b3NEYXRhPWZ1bmN0aW9uKGNvbnRlbnQpe2lmKGNvbnRlbnQuZXJyb3IpcmV0dXJuIHZvaWQgdGhpcy5lcnJNc2coXCJGYWNlYm9vayBBUEkgRVJST1IjXCIrY29udGVudC5lcnJvci5jb2RlK1wiKFwiK2NvbnRlbnQuZXJyb3IudHlwZStcIik6IFwiK2NvbnRlbnQuZXJyb3IubWVzc2FnZSk7Zm9yKHZhciB0aGF0PXRoaXMsaT0odGhpcy5vcHRpb25zLmF1dGhvcnx8dGhpcy5vcHRpb25zLmRlc2MsMCksbD1jb250ZW50LmRhdGEubGVuZ3RoO2khPT1sO2krKyl7dmFyIHNsaWRlX2NvbnQ9dGhhdC5zbGlkZVRlbXBsYXRlLnJlcGxhY2UoL3t7W1xcdy1dK319L2csZnVuY3Rpb24obWF0Y2gpe3JldHVybiBtYXRjaD1tYXRjaC5yZXBsYWNlKC97e3x9fS9nLFwiXCIpLHNob3J0Q29kZXNbbWF0Y2hdP3Nob3J0Q29kZXNbbWF0Y2hdKGNvbnRlbnQuZGF0YVtpXSx0aGF0KTpcInt7XCIrbWF0Y2grXCJ9fVwifSk7JChzbGlkZV9jb250KS5hcHBlbmRUbyh0aGF0LnNsaWRlci4kZWxlbWVudCl9dGhhdC5faW5pdFNsaWRlcigpfSxwLmVyck1zZz1mdW5jdGlvbihtc2cpe3RoaXMuc2xpZGVyLiRlbGVtZW50LmNzcyhcImRpc3BsYXlcIixcImJsb2NrXCIpLHRoaXMuZXJyRWxlfHwodGhpcy5lcnJFbGU9JCgnPGRpdiBzdHlsZT1cImZvbnQtZmFtaWx5OkFyaWFsOyBjb2xvcjpyZWQ7IGZvbnQtc2l6ZToxMnB4OyBwb3NpdGlvbjphYnNvbHV0ZTsgdG9wOjEwcHg7IGxlZnQ6MTBweFwiPjwvZGl2PicpLmFwcGVuZFRvKHRoaXMuc2xpZGVyLiRsb2FkaW5nKSksdGhpcy5lcnJFbGUuaHRtbChtc2cpfSxwLl9pbml0U2xpZGVyPWZ1bmN0aW9uKCl7dGhpcy5zbGlkZXIucmVsZWFzZSgpfTt2YXIgZ2V0SW1hZ2VTb3VyY2U9ZnVuY3Rpb24oaW1hZ2VzLHNpemUpe2lmKFwib3JnaW5hbFwiPT09c2l6ZSlyZXR1cm4gaW1hZ2VzWzBdLnNvdXJjZTtmb3IodmFyIGk9MCxsPWltYWdlcy5sZW5ndGg7aSE9PWw7aSsrKWlmKC0xIT09aW1hZ2VzW2ldLnNvdXJjZS5pbmRleE9mKHNpemUrXCJ4XCIrc2l6ZSkpcmV0dXJuIGltYWdlc1tpXS5zb3VyY2U7cmV0dXJuIGltYWdlc1tsLTNdLnNvdXJjZX0sc2hvcnRDb2Rlcz17aW1hZ2U6ZnVuY3Rpb24oZGF0YSx0aGF0KXtyZXR1cm4gZ2V0SW1hZ2VTb3VyY2UoZGF0YS5pbWFnZXMsdGhhdC5vcHRpb25zLmltZ1NpemUpfSx0aHVtYjpmdW5jdGlvbihkYXRhLHRoYXQpe3JldHVybiBnZXRJbWFnZVNvdXJjZShkYXRhLmltYWdlcyx0aGF0Lm9wdGlvbnMudGh1bWJTaXplKX0sbmFtZTpmdW5jdGlvbihkYXRhKXtyZXR1cm4gZGF0YS5uYW1lfSxcIm93bmVyLW5hbWVcIjpmdW5jdGlvbihkYXRhKXtyZXR1cm4gZGF0YS5mcm9tLm5hbWV9LGxpbms6ZnVuY3Rpb24oZGF0YSl7cmV0dXJuIGRhdGEubGlua319fShqUXVlcnkpLGZ1bmN0aW9uKCQpe1widXNlIHN0cmljdFwiO3dpbmRvdy5NU1Njcm9sbFBhcmFsbGF4PWZ1bmN0aW9uKHNsaWRlcixwYXJhbGxheCxiZ3BhcmFsbGF4LGZhZGUpe3RoaXMuZmFkZT1mYWRlLHRoaXMuc2xpZGVyPXNsaWRlcix0aGlzLnBhcmFsbGF4PXBhcmFsbGF4LzEwMCx0aGlzLmJncGFyYWxsYXg9YmdwYXJhbGxheC8xMDAsc2xpZGVyLmFwaS5hZGRFdmVudExpc3RlbmVyKE1TU2xpZGVyRXZlbnQuSU5JVCx0aGlzLmluaXQsdGhpcyksc2xpZGVyLmFwaS5hZGRFdmVudExpc3RlbmVyKE1TU2xpZGVyRXZlbnQuREVTVFJPWSx0aGlzLmRlc3RvcnksdGhpcyksc2xpZGVyLmFwaS5hZGRFdmVudExpc3RlbmVyKE1TU2xpZGVyRXZlbnQuQ0hBTkdFX0VORCx0aGlzLnJlc2V0TGF5ZXJzLHRoaXMpLHNsaWRlci5hcGkuYWRkRXZlbnRMaXN0ZW5lcihNU1NsaWRlckV2ZW50LkNIQU5HRV9TVEFSVCx0aGlzLnVwZGF0ZUN1cnJlbnRTbGlkZSx0aGlzKX0sd2luZG93Lk1TU2Nyb2xsUGFyYWxsYXguc2V0dXA9ZnVuY3Rpb24oc2xpZGVyLHBhcmFsbGF4LGJncGFyYWxsYXgsZmFkZSl7cmV0dXJuIHdpbmRvdy5fbW9iaWxlP3ZvaWQgMDoobnVsbD09cGFyYWxsYXgmJihwYXJhbGxheD01MCksbnVsbD09YmdwYXJhbGxheCYmKGJncGFyYWxsYXg9NDApLG5ldyBNU1Njcm9sbFBhcmFsbGF4KHNsaWRlcixwYXJhbGxheCxiZ3BhcmFsbGF4LGZhZGUpKX07dmFyIHA9d2luZG93Lk1TU2Nyb2xsUGFyYWxsYXgucHJvdG90eXBlO3AuaW5pdD1mdW5jdGlvbigpe3RoaXMuc2xpZGVyLiRlbGVtZW50LmFkZENsYXNzKFwibXMtc2Nyb2xsLXBhcmFsbGF4XCIpLHRoaXMuc2xpZGVyT2Zmc2V0PXRoaXMuc2xpZGVyLiRlbGVtZW50Lm9mZnNldCgpLnRvcCx0aGlzLnVwZGF0ZUN1cnJlbnRTbGlkZSgpO2Zvcih2YXIgc2xpZGUsc2xpZGVzPXRoaXMuc2xpZGVyLmFwaS52aWV3LnNsaWRlTGlzdCxpPTAsbD1zbGlkZXMubGVuZ3RoO2khPT1sO2krKylzbGlkZT1zbGlkZXNbaV0sc2xpZGUuaGFzTGF5ZXJzJiYoc2xpZGUubGF5ZXJDb250cm9sbGVyLiRsYXllcnMud3JhcCgnPGRpdiBjbGFzcz1cIm1zLXNjcm9sbC1wYXJhbGxheC1jb250XCI+PC9kaXY+Jyksc2xpZGUuJHNjcm9sbFBhcmFsbGF4Q29udD1zbGlkZS5sYXllckNvbnRyb2xsZXIuJGxheWVycy5wYXJlbnQoKSk7JCh3aW5kb3cpLm9uKFwic2Nyb2xsXCIse3RoYXQ6dGhpc30sdGhpcy5tb3ZlUGFyYWxsYXgpLnRyaWdnZXIoXCJzY3JvbGxcIil9LHAucmVzZXRMYXllcnM9ZnVuY3Rpb24oKXtpZih0aGlzLmxhc3RTbGlkZSl7dmFyIGxheWVycz10aGlzLmxhc3RTbGlkZS4kc2Nyb2xsUGFyYWxsYXhDb250O3dpbmRvdy5fY3NzMmQ/KGxheWVycyYmKGxheWVyc1swXS5zdHlsZVt3aW5kb3cuX2pjc3NwZngrXCJUcmFuc2Zvcm1cIl09XCJcIiksdGhpcy5sYXN0U2xpZGUuaGFzQkcmJih0aGlzLmxhc3RTbGlkZS4kaW1nY29udFswXS5zdHlsZVt3aW5kb3cuX2pjc3NwZngrXCJUcmFuc2Zvcm1cIl09XCJcIikpOihsYXllcnMmJihsYXllcnNbMF0uc3R5bGUudG9wPVwiXCIpLHRoaXMubGFzdFNsaWRlLmhhc0JHJiYodGhpcy5sYXN0U2xpZGUuJGltZ2NvbnRbMF0uc3R5bGUudG9wPVwiMHB4XCIpKX19LHAudXBkYXRlQ3VycmVudFNsaWRlPWZ1bmN0aW9uKCl7dGhpcy5sYXN0U2xpZGU9dGhpcy5jdXJyZW50U2xpZGUsdGhpcy5jdXJyZW50U2xpZGU9dGhpcy5zbGlkZXIuYXBpLmN1cnJlbnRTbGlkZSx0aGlzLm1vdmVQYXJhbGxheCh7ZGF0YTp7dGhhdDp0aGlzfX0pfSxwLm1vdmVQYXJhbGxheD1mdW5jdGlvbihlKXt2YXIgdGhhdD1lLmRhdGEudGhhdCxzbGlkZXI9dGhhdC5zbGlkZXIsb2Zmc2V0PXRoYXQuc2xpZGVyT2Zmc2V0LHNjcm9sbFRvcD0kKHdpbmRvdykuc2Nyb2xsVG9wKCksbGF5ZXJzPXRoYXQuY3VycmVudFNsaWRlLiRzY3JvbGxQYXJhbGxheENvbnQsb3V0PW9mZnNldC1zY3JvbGxUb3A7MD49b3V0PyhsYXllcnMmJih3aW5kb3cuX2NzczNkP2xheWVyc1swXS5zdHlsZVt3aW5kb3cuX2pjc3NwZngrXCJUcmFuc2Zvcm1cIl09XCJ0cmFuc2xhdGVZKFwiKy1vdXQqdGhhdC5wYXJhbGxheCtcInB4KSB0cmFuc2xhdGVaKDAuNHB4KVwiOndpbmRvdy5fY3NzMmQ/bGF5ZXJzWzBdLnN0eWxlW3dpbmRvdy5famNzc3BmeCtcIlRyYW5zZm9ybVwiXT1cInRyYW5zbGF0ZVkoXCIrLW91dCp0aGF0LnBhcmFsbGF4K1wicHgpXCI6bGF5ZXJzWzBdLnN0eWxlLnRvcD0tb3V0KnRoYXQucGFyYWxsYXgrXCJweFwiKSx0aGF0LnVwZGF0ZVNsaWRlc0JHKC1vdXQqdGhhdC5iZ3BhcmFsbGF4K1wicHhcIiwhMCksbGF5ZXJzJiZ0aGF0LmZhZGUmJmxheWVycy5jc3MoXCJvcGFjaXR5XCIsMS1NYXRoLm1pbigxLC1vdXQvc2xpZGVyLmFwaS5oZWlnaHQpKSk6KGxheWVycyYmKHdpbmRvdy5fY3NzMmQ/bGF5ZXJzWzBdLnN0eWxlW3dpbmRvdy5famNzc3BmeCtcIlRyYW5zZm9ybVwiXT1cIlwiOmxheWVyc1swXS5zdHlsZS50b3A9XCJcIiksdGhhdC51cGRhdGVTbGlkZXNCRyhcIjBweFwiLCExKSxsYXllcnMmJnRoYXQuZmFkZSYmbGF5ZXJzLmNzcyhcIm9wYWNpdHlcIiwxKSl9LHAudXBkYXRlU2xpZGVzQkc9ZnVuY3Rpb24ocG9zLGZpeGVkKXtmb3IodmFyIHNsaWRlcz10aGlzLnNsaWRlci5hcGkudmlldy5zbGlkZUxpc3QscG9zaXRpb249IWZpeGVkfHwkLmJyb3dzZXIubXNpZXx8JC5icm93c2VyLm9wZXJhP1wiXCI6XCJmaXhlZFwiLGk9MCxsPXNsaWRlcy5sZW5ndGg7aSE9PWw7aSsrKXNsaWRlc1tpXS5oYXNCRyYmKHNsaWRlc1tpXS4kaW1nY29udFswXS5zdHlsZS5wb3NpdGlvbj1wb3NpdGlvbixzbGlkZXNbaV0uJGltZ2NvbnRbMF0uc3R5bGUudG9wPXBvcyksc2xpZGVzW2ldLiRiZ3ZpZGVvY29udCYmKHNsaWRlc1tpXS4kYmd2aWRlb2NvbnRbMF0uc3R5bGUucG9zaXRpb249cG9zaXRpb24sc2xpZGVzW2ldLiRiZ3ZpZGVvY29udFswXS5zdHlsZS50b3A9cG9zKX0scC5kZXN0b3J5PWZ1bmN0aW9uKCl7c2xpZGVyLmFwaS5yZW1vdmVFdmVudExpc3RlbmVyKE1TU2xpZGVyRXZlbnQuSU5JVCx0aGlzLmluaXQsdGhpcyksc2xpZGVyLmFwaS5yZW1vdmVFdmVudExpc3RlbmVyKE1TU2xpZGVyRXZlbnQuREVTVFJPWSx0aGlzLmRlc3RvcnksdGhpcyksc2xpZGVyLmFwaS5yZW1vdmVFdmVudExpc3RlbmVyKE1TU2xpZGVyRXZlbnQuQ0hBTkdFX0VORCx0aGlzLnJlc2V0TGF5ZXJzLHRoaXMpLHNsaWRlci5hcGkucmVtb3ZlRXZlbnRMaXN0ZW5lcihNU1NsaWRlckV2ZW50LkNIQU5HRV9TVEFSVCx0aGlzLnVwZGF0ZUN1cnJlbnRTbGlkZSx0aGlzKSwkKHdpbmRvdykub2ZmKFwic2Nyb2xsXCIsdGhpcy5tb3ZlUGFyYWxsYXgpfX0oalF1ZXJ5KSxmdW5jdGlvbigkLGRvY3VtZW50LHdpbmRvdyl7dmFyIFBJZD0wO2lmKHdpbmRvdy5NYXN0ZXJTbGlkZXIpe3ZhciBLZXlib2FyZE5hdj1mdW5jdGlvbihzbGlkZXIpe3RoaXMuc2xpZGVyPXNsaWRlcix0aGlzLlBJZD1QSWQrKyx0aGlzLnNsaWRlci5vcHRpb25zLmtleWJvYXJkJiZzbGlkZXIuYXBpLmFkZEV2ZW50TGlzdGVuZXIoTVNTbGlkZXJFdmVudC5JTklULHRoaXMuaW5pdCx0aGlzKX07S2V5Ym9hcmROYXYubmFtZT1cIk1TS2V5Ym9hcmROYXZcIjt2YXIgcD1LZXlib2FyZE5hdi5wcm90b3R5cGU7cC5pbml0PWZ1bmN0aW9uKCl7dmFyIGFwaT10aGlzLnNsaWRlci5hcGk7JChkb2N1bWVudCkub24oXCJrZXlkb3duLmtibmF2XCIrdGhpcy5QSWQsZnVuY3Rpb24oZXZlbnQpe3ZhciB3aGljaD1ldmVudC53aGljaDszNz09PXdoaWNofHw0MD09PXdoaWNoP2FwaS5wcmV2aW91cyghMCk6KDM4PT09d2hpY2h8fDM5PT09d2hpY2gpJiZhcGkubmV4dCghMCl9KX0scC5kZXN0cm95PWZ1bmN0aW9uKCl7JChkb2N1bWVudCkub2ZmKFwia2V5ZG93bi5rYm5hdlwiK3RoaXMuUElkKSx0aGlzLnNsaWRlci5hcGkucmVtb3ZlRXZlbnRMaXN0ZW5lcihNU1NsaWRlckV2ZW50LklOSVQsdGhpcy5pbml0LHRoaXMpfSxNYXN0ZXJTbGlkZXIucmVnaXN0ZXJQbHVnaW4oS2V5Ym9hcmROYXYpfX0oalF1ZXJ5LGRvY3VtZW50LHdpbmRvdyksZnVuY3Rpb24oJCxkb2N1bWVudCx3aW5kb3cpe3ZhciBQSWQ9MCwkd2luZG93PSQod2luZG93KSwkZG9jPSQoZG9jdW1lbnQpO2lmKHdpbmRvdy5NYXN0ZXJTbGlkZXIpe3ZhciBTdGFydE9uQXBwZWFyPWZ1bmN0aW9uKHNsaWRlcil7dGhpcy5QSWQ9UElkKyssdGhpcy5zbGlkZXI9c2xpZGVyLHRoaXMuJHNsaWRlcj1zbGlkZXIuJGVsZW1lbnQsdGhpcy5zbGlkZXIub3B0aW9ucy5zdGFydE9uQXBwZWFyJiYoc2xpZGVyLmhvbGRPbigpLCRkb2MucmVhZHkoJC5wcm94eSh0aGlzLmluaXQsdGhpcykpKX07U3RhcnRPbkFwcGVhci5uYW1lPVwiTVNTdGFydE9uQXBwZWFyXCI7dmFyIHA9U3RhcnRPbkFwcGVhci5wcm90b3R5cGU7cC5pbml0PWZ1bmN0aW9uKCl7dGhpcy5zbGlkZXIuYXBpOyR3aW5kb3cub24oXCJzY3JvbGwuc29hXCIrdGhpcy5QSWQsJC5wcm94eSh0aGlzLl9vblNjcm9sbCx0aGlzKSkudHJpZ2dlcihcInNjcm9sbFwiKX0scC5fb25TY3JvbGw9ZnVuY3Rpb24oKXt2YXIgdnBCb3R0b209JHdpbmRvdy5zY3JvbGxUb3AoKSskd2luZG93LmhlaWdodCgpLHRvcD10aGlzLiRzbGlkZXIub2Zmc2V0KCkudG9wO3ZwQm90dG9tPnRvcCYmKCR3aW5kb3cub2ZmKFwic2Nyb2xsLnNvYVwiK3RoaXMuUElkKSx0aGlzLnNsaWRlci5yZWxlYXNlKCkpfSxwLmRlc3Ryb3k9ZnVuY3Rpb24oKXt9LE1hc3RlclNsaWRlci5yZWdpc3RlclBsdWdpbihTdGFydE9uQXBwZWFyKX19KGpRdWVyeSxkb2N1bWVudCx3aW5kb3cpLGZ1bmN0aW9uKGRvY3VtZW50LHdpbmRvdyl7dmFyIGZpbHRlclVuaXRzPXtcImh1ZS1yb3RhdGVcIjpcImRlZ1wiLGJsdXI6XCJweFwifSxpbml0aWFsVmFsdWVzPXtvcGFjaXR5OjEsY29udHJhc3Q6MSxicmlnaHRuZXNzOjEsc2F0dXJhdGU6MSxcImh1ZS1yb3RhdGVcIjowLGludmVydDowLHNlcGlhOjAsYmx1cjowLGdyYXlzY2FsZTowfTtpZih3aW5kb3cuTWFzdGVyU2xpZGVyKXt2YXIgRmlsdGVycz1mdW5jdGlvbihzbGlkZXIpe3RoaXMuc2xpZGVyPXNsaWRlcix0aGlzLnNsaWRlci5vcHRpb25zLmZpbHRlcnMmJnNsaWRlci5hcGkuYWRkRXZlbnRMaXN0ZW5lcihNU1NsaWRlckV2ZW50LklOSVQsdGhpcy5pbml0LHRoaXMpfTtGaWx0ZXJzLm5hbWU9XCJNU0ZpbHRlcnNcIjt2YXIgcD1GaWx0ZXJzLnByb3RvdHlwZTtwLmluaXQ9ZnVuY3Rpb24oKXt2YXIgYXBpPXRoaXMuc2xpZGVyLmFwaSx2aWV3PWFwaS52aWV3O3RoaXMuZmlsdGVycz10aGlzLnNsaWRlci5vcHRpb25zLmZpbHRlcnMsdGhpcy5zbGlkZUxpc3Q9dmlldy5zbGlkZUxpc3QsdGhpcy5zbGlkZXNDb3VudD12aWV3LnNsaWRlc0NvdW50LHRoaXMuZGltZW5zaW9uPXZpZXdbdmlldy5fX2RpbWVuc2lvbl0sdGhpcy50YXJnZXQ9XCJzbGlkZVwiPT09dGhpcy5zbGlkZXIub3B0aW9ucy5maWx0ZXJUYXJnZXQ/XCIkZWxlbWVudFwiOlwiJGJnX2ltZ1wiLHRoaXMuZmlsdGVyTmFtZT0kLmJyb3dzZXIud2Via2l0P1wiV2Via2l0RmlsdGVyXCI6XCJmaWx0ZXJcIjt2YXIgc3VwZXJGdW49dmlldy5jb250cm9sbGVyLl9fcmVuZGVySG9vay5mdW4sc3VwZXJSZWY9dmlldy5jb250cm9sbGVyLl9fcmVuZGVySG9vay5yZWY7dmlldy5jb250cm9sbGVyLnJlbmRlckNhbGxiYWNrKGZ1bmN0aW9uKGNvbnRyb2xsZXIsdmFsdWUpe3N1cGVyRnVuLmNhbGwoc3VwZXJSZWYsY29udHJvbGxlcix2YWx1ZSksdGhpcy5hcHBseUVmZmVjdCh2YWx1ZSl9LHRoaXMpLHRoaXMuYXBwbHlFZmZlY3Qodmlldy5jb250cm9sbGVyLnZhbHVlKX0scC5hcHBseUVmZmVjdD1mdW5jdGlvbih2YWx1ZSl7Zm9yKHZhciBmYWN0b3Isc2xpZGUsaT0wO2k8dGhpcy5zbGlkZXNDb3VudDsrK2kpc2xpZGU9dGhpcy5zbGlkZUxpc3RbaV0sZmFjdG9yPU1hdGgubWluKDEsTWF0aC5hYnModmFsdWUtc2xpZGUucG9zaXRpb24pL3RoaXMuZGltZW5zaW9uKSxzbGlkZVt0aGlzLnRhcmdldF0mJigkLmJyb3dzZXIubXNpZT9udWxsIT10aGlzLmZpbHRlcnMub3BhY2l0eSYmc2xpZGVbdGhpcy50YXJnZXRdLm9wYWNpdHkoMS10aGlzLmZpbHRlcnMub3BhY2l0eSpmYWN0b3IpOnNsaWRlW3RoaXMudGFyZ2V0XVswXS5zdHlsZVt0aGlzLmZpbHRlck5hbWVdPXRoaXMuZ2VuZXJhdGVTdHlsZShmYWN0b3IpKX0scC5nZW5lcmF0ZVN0eWxlPWZ1bmN0aW9uKGZhY3Rvcil7dmFyIHVuaXQsc3R5bGU9XCJcIjtmb3IodmFyIGZpbHRlciBpbiB0aGlzLmZpbHRlcnMpdW5pdD1maWx0ZXJVbml0c1tmaWx0ZXJdfHxcIlwiLHN0eWxlKz1maWx0ZXIrXCIoXCIrKGluaXRpYWxWYWx1ZXNbZmlsdGVyXSsodGhpcy5maWx0ZXJzW2ZpbHRlcl0taW5pdGlhbFZhbHVlc1tmaWx0ZXJdKSpmYWN0b3IpK1wiKSBcIjtyZXR1cm4gc3R5bGV9LHAuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuc2xpZGVyLmFwaS5yZW1vdmVFdmVudExpc3RlbmVyKE1TU2xpZGVyRXZlbnQuSU5JVCx0aGlzLmluaXQsdGhpcyl9LE1hc3RlclNsaWRlci5yZWdpc3RlclBsdWdpbihGaWx0ZXJzKX19KGRvY3VtZW50LHdpbmRvdyxqUXVlcnkpLGZ1bmN0aW9uKCQsZG9jdW1lbnQsd2luZG93KXtpZih3aW5kb3cuTWFzdGVyU2xpZGVyKXt2YXIgU2Nyb2xsVG9BY3Rpb249ZnVuY3Rpb24oc2xpZGVyKXt0aGlzLnNsaWRlcj1zbGlkZXIsc2xpZGVyLmFwaS5hZGRFdmVudExpc3RlbmVyKE1TU2xpZGVyRXZlbnQuSU5JVCx0aGlzLmluaXQsdGhpcyl9O1Njcm9sbFRvQWN0aW9uLm5hbWU9XCJNU1Njcm9sbFRvQWN0aW9uXCI7dmFyIHA9U2Nyb2xsVG9BY3Rpb24ucHJvdG90eXBlO3AuaW5pdD1mdW5jdGlvbigpe3ZhciBhcGk9dGhpcy5zbGlkZXIuYXBpO2FwaS5zY3JvbGxUb0VuZD1fc2Nyb2xsVG9FbmQsYXBpLnNjcm9sbFRvPV9zY3JvbGxUb30scC5kZXN0cm95PWZ1bmN0aW9uKCl7fTt2YXIgX3Njcm9sbFRvPWZ1bmN0aW9uKHRhcmdldCxkdXJhdGlvbil7dmFyIHRhcmdldD0odGhpcy5zbGlkZXIuJGVsZW1lbnQsJCh0YXJnZXQpLmVxKDApKTswIT09dGFyZ2V0Lmxlbmd0aCYmKG51bGw9PWR1cmF0aW9uJiYoZHVyYXRpb249MS40KSwkKFwiaHRtbCwgYm9keVwiKS5hbmltYXRlKHtzY3JvbGxUb3A6dGFyZ2V0Lm9mZnNldCgpLnRvcH0sMWUzKmR1cmF0aW9uLFwiZWFzZUluT3V0UXVhZFwiKSl9LF9zY3JvbGxUb0VuZD1mdW5jdGlvbihkdXJhdGlvbil7dmFyIHNsaWRlckVsZT10aGlzLnNsaWRlci4kZWxlbWVudDtudWxsPT1kdXJhdGlvbiYmKGR1cmF0aW9uPTEuNCksJChcImh0bWwsIGJvZHlcIikuYW5pbWF0ZSh7c2Nyb2xsVG9wOnNsaWRlckVsZS5vZmZzZXQoKS50b3Arc2xpZGVyRWxlLm91dGVySGVpZ2h0KCExKX0sMWUzKmR1cmF0aW9uLFwiZWFzZUluT3V0UXVhZFwiKX07TWFzdGVyU2xpZGVyLnJlZ2lzdGVyUGx1Z2luKFNjcm9sbFRvQWN0aW9uKX19KGpRdWVyeSxkb2N1bWVudCx3aW5kb3cpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXN0ZXJzbGlkZXIubWluLmpzLm1hcCJdLCJmaWxlIjoibWFzdGVyc2xpZGVyLm1pbi5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
